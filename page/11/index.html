<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">
<link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon_package_v0.16/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon_package_v0.16/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon_package_v0.16/favicon-16x16.png">
  <link rel="mask-icon" href="/images/favicon_package_v0.16/safari-pinned-tab.svg" color="#222">
  <link rel="manifest" href="/images/favicon_package_v0.16/site.webmanifest">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha256-/4UQcSmErDzPCMAiuOiWPVVsNN2s3ZY/NsmXNcj0IFc=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"haah.kr","root":"/","images":"/images","scheme":"Pisces","darkmode":true,"version":"8.15.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="blog">
<meta property="og:title" content="ha-ah">
<meta property="og:url" content="https://haah.kr/page/11/">
<meta property="og:site_name" content="ha-ah">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="youngiggy">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://haah.kr/page/11/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/11/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>ha-ah</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=354302543"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":354302543,"only_pageview":false}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="ha-ah" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">ha-ah</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">로그, 게으른 로그</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">youngiggy</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">117</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">50</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="mailto:youngiggy@gmail.com" title="E-Mail → mailto:youngiggy@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.facebook.com/profile.php?id=100001259884599" title="FB Page → https:&#x2F;&#x2F;www.facebook.com&#x2F;profile.php?id&#x3D;100001259884599" rel="noopener me" target="_blank"><i class="fab fa-facebook fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.instagram.com/jooyoungiggy" title="Instagram → https:&#x2F;&#x2F;www.instagram.com&#x2F;jooyoungiggy" rel="noopener me" target="_blank"><i class="fab fa-instagram fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS → &#x2F;atom.xml" rel="noopener me"><i class="fa fa-rss fa-fw"></i></a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/en" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/big/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://haah.kr/2017/08/30/eidf-2017/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="youngiggy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ha-ah">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ha-ah">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/08/30/eidf-2017/" class="post-title-link" itemprop="url">EIDF 2017</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-08-30 23:44:58" itemprop="dateCreated datePublished" datetime="2017-08-30T23:44:58+09:00">2017-08-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2018-02-13 15:27:02" itemprop="dateModified" datetime="2018-02-13T15:27:02+09:00">2018-02-13</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/08/30/eidf-2017/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/08/30/eidf-2017/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="나의-EIDF-EBS국제다큐영화제-2017년-후기"><a href="#나의-EIDF-EBS국제다큐영화제-2017년-후기" class="headerlink" title="나의 EIDF(EBS국제다큐영화제) 2017년 후기"></a>나의 EIDF(EBS국제다큐영화제) 2017년 후기</h2><p>개발 관련 RSS 피드를 받는 중에도 이렇게 후기를 올리신 분도 계신다.<br><a target="_blank" rel="noopener" href="http://lunamoth.biz/2274">제14회 EBS국제다큐영화제 The 14th EBS International Documentary Film Festival (EIDF 2017) 감상 트윗</a></p>
<p>이 분이 추천하신 게 《섀도 월드》, 《리처드 링클레이터: 꿈의 연대기》, 《라스트맨 인 알레포》, 《데이빗 보위: 지기 스타더스트 마지막 날들》 4가지였는데,</p>
<p>(뭐 이 분이 평론가는 아니지만) 운 좋게도 《섀도 월드》만 제외하고 다 볼 수 있었다.</p>
<br>

<p>다른 영화제보다 상영작이 적어서 그런지 리뷰도 달려있고 영화를 고르기 수월했다.</p>
<p>게다가 시놉시스와 영화 내용이 일치한다.<br>(영화제 예매를 위해 그 몇 줄짜리 영화 소개를 보신 분은 이해 하실 듯)</p>
<p><a target="_blank" rel="noopener" href="http://www.eidf.co.kr/dbox/helpdesk/notice/view/10003575359?c.page=1&searchConditionCondition=0&searchKeywordCondition=0&searchKeyword=&searchCondition=&">무료로 다시보기</a>도 가능하니 참고하시길</p>
<p>이제 나만의 감상평.</p>
<h2 id="우리-사랑-이야기-The-Grown-Ups"><a href="#우리-사랑-이야기-The-Grown-Ups" class="headerlink" title="우리 사랑 이야기 (The Grown Ups)"></a>우리 사랑 이야기 (The Grown Ups)</h2><p><img src="http://static.ebs.co.kr/images/public/2017/08/4/21/34/27/5ae4c559-d479-447a-a327-5abff1afb455.jpg" alt="우리 사랑 이야기"></p>
<blockquote>
<p>40년째 다운증후군 환자를 위한 학교에 다니는 친구들은 학교가 지루하기만 하다. 어느새 50대에 가까워진 그들은 이제 독립한 성인으로 존중받을 자유를 원한다. 집을 사려 돈을 모으고, 사랑하는 연인과 미래를 약속하며, 직업을 찾기도 하지만, 가족들은 여전히 그들을 성인으로 인정해주지 않는다.</p>
</blockquote>
<p>40대 다운증후군 환자들의 아기자기한 귀여운 일상을 보여주다가 독립을 하려고 노력하는 모습을 보여주고 주위 사람들의 반대를 접하는 지점까지는 예상 가능했지만,</p>
<p>영화 끝에서 보여주는 현실의 잔임함에는 혀를 내두르게 됐다. 내가 예민하게 바라본 것일 수도 있지만.</p>
<p>학교 내에서는 계속 독립할 수 있다고 희망을 주는데, 학교 밖에서 실제로 어떤 환경에 부딛히게 될 지 알려주지 않는다.</p>
<p>가족이 비싼 등록금을 대주지 않으면 냉정하게 떠나야 하는 학원같은 곳이었다.</p>
<p>학교에선 결혼을 할 수 있다고 용기를 주면서 반지는 반드시 다이아로 받으라고 타협하지 말라고 조언해주지만,</p>
<p>이들이 학교에서 벌어들이는 돈으로는 은반지 조차 살 수 없다.</p>
<p>영화 <a target="_blank" rel="noopener" href="http://www.cine21.com/movie/info/?movie_id=28346">미 투</a>의 경우는 좀 특별한 케이스라고는 하지만,</p>
<p>이 다큐의 아이같은 사람들이나 미 투의 그 똑똑한 사람이나 보편적인 삶을 누리기는 녹록치 않다.</p>
<p>임신을 하게 되면 기형아&#x2F;다운증후군 검사를 하게 되는데, 그 때의 불쾌함이 떠올랐다.</p>
<p>(이에 대한 친절한 설명이 없었으므로) 그 땐 ‘아니 그럼 기형아라고 판명나면 죽이기라도 할꺼야?’라는 반발심이 있었는데, 이런 검사는 더 나은 결과를 만들기 위해 필요하다는 의견도 있다.</p>
<p>무력한 다운증후군 환자에 대한 다큐를 보며 먹먹했던 마음은 결국 어쨌든 딸램이 아무 불편함 없이 세상에 나와서 다행일 뿐이라는 간사한 감사함으로 수렴되고 말았다.</p>
<p>그들도 가족도 쉽지 않다.</p>
<h2 id="라스트맨-인-알레포-Last-Men-in-Aleppo"><a href="#라스트맨-인-알레포-Last-Men-in-Aleppo" class="headerlink" title="라스트맨 인 알레포 (Last Men in Aleppo)"></a>라스트맨 인 알레포 (Last Men in Aleppo)</h2><p><img src="http://static.ebs.co.kr/images/public/2017/08/4/21/29/28/d0e29cc5-02cf-402e-9a76-8516681c5fe2.jpg" alt="라스트맨 인 알레포"></p>
<blockquote>
<p>5년간 지속된 내전. 약 삼십오만 명만 남은 알레포 주민들은 언제 닥칠지 모르는 폭격에 대한 불안감 속에 살고 있다. 자원활동가로 이루어진 민간 구조대 ‘화이트 헬멧’은 붕괴 직전의 알레포 현장에서 싸우고 있다. 작은 생명들조차 폭격으로 사라져 가는 일상 속에서, 그들은 인류에 대한 회의와 더불어 자신의 선택에 대한 의문과도 싸우고 있다.</p>
</blockquote>
<p>시리아 내전에 관한 이야기. 정말 이렇게 사람이 죽어나가는 게 말도 안된다는 생각이 끊이지 않는다.</p>
<p>영화 초반부 무너진 건물 잔해 사이에서 아이들을 구해내는 장면이 시각적으로 꽤나 인상적인데,</p>
<p>(죽은 아이 산 아이 반반이지만) 모두 출산 장면을 떠올리게 한다.</p>
<p>러시아 저 놈들은 또 왜 와서 민간인을 학살하는가 싶어서 도저히 상식적으로 이해가 안되서 영화를 보는 중간중간 시리아 내전에 대해 검색도 해봤다.</p>
<p>그러나 워낙 복잡한 양상이라 곧 이해하기를 포기.</p>
<p>그렇게 미친 듯이 활약하는 민간 구조대 주인공들은 결국 모두 사망한다.</p>
<p>아마 영화에 등장한 대부분이 사망했을 것 같다.</p>
<p>이 동네도 당장 답이 없다.</p>
<h2 id="데이빗-보위-지기-스타더스트-마지막-날들-David-Bowie-The-Last-Five-Years"><a href="#데이빗-보위-지기-스타더스트-마지막-날들-David-Bowie-The-Last-Five-Years" class="headerlink" title="데이빗 보위: 지기 스타더스트 마지막 날들 (David Bowie: The Last Five Years)"></a>데이빗 보위: 지기 스타더스트 마지막 날들 (David Bowie: The Last Five Years)</h2><p><img src="http://static.ebs.co.kr/images/public/2017/08/5/12/40/8/83ef5be5-9135-4d37-b218-951fbcb9f8fe.jpg" alt="데이빗 보위: 지기 스타더스트 마지막 날들"></p>
<blockquote>
<p>예측 불가능한 아티스트 데이빗 보위. 그의 작업은 늘 흥미로웠고 도전적이었으며 대중의 예상을 뛰어넘었다. 현대 대중음악 역사상 가장 위대한 아티스트 중 한 사람이었던 데이빗 보위의 마지막 5년을 다룬 이 다큐멘터리는, 관객들이 그를 만들어낸 ‘크리에이티브’ 전략을 엿볼 수 있게 한다.</p>
</blockquote>
<p>처음부터 본 건 아니지만.</p>
<p>보는 내내 입 벌리고 대단하다고 밖에 생각할 수 밖에.</p>
<p>모 세미나에서 전길남 박사가 나와서 이야기 할 때의 그런 느낌과 비슷했는데,</p>
<p>그 나이에도 불구하고 전혀 사고가 막혀있지 않았구나 생각도 들고.</p>
<p>그렇다고 데이빗 보위의 음악을 즐기게 된 건 아니지만.</p>
<h2 id="리처드-링클레이터-꿈의-연대기-Richard-Linklater-Dream-is-Destiny"><a href="#리처드-링클레이터-꿈의-연대기-Richard-Linklater-Dream-is-Destiny" class="headerlink" title="리처드 링클레이터: 꿈의 연대기 (Richard Linklater - Dream is Destiny)"></a>리처드 링클레이터: 꿈의 연대기 (Richard Linklater - Dream is Destiny)</h2><p><img src="http://static.ebs.co.kr/images/public/2017/08/5/13/5/10/17c800c8-221c-47b8-9ace-3998a5da344f.jpg" alt="리처드 링클레이터: 꿈의 연대기"></p>
<blockquote>
<p>할리우드 거대 자본의 영향권 밖인 텍사스 오스틴에서 등장하여, 독립영화 제작 방식을 치열하게 실천하려 분투한 어느 감독을 바라보는 독특한 시선. 희귀한 영상 자료와 언론, 링클레이터 본인과의 인터뷰, 영화 제작 메이킹 필름 등을 볼 수 있고, 매튜 맥커너히, 패트리샤 아퀘트, 에단 호크, 잭 블랙, 줄리 델피, 케빈 스미스 등 함께 작업한 배우들도 만날 수 있다.</p>
</blockquote>
<p>이게 다 이 양반 영화였어?라는 놀라움의 연속이었다.</p>
<p>데이빗 보위처럼 타협 (거의) 없이 새롭게 도전하는 모습에서 둘이 좀 비슷한 느낌도 있었다.</p>
<p>영화를 익히는 초반에 기초를 충실히 닦는 모습도 인상적이었고,</p>
<p>역시 체력이 되는 애들은 집중력이 좋구나 싶기도(운동을 더 이상 못하게 되자 도서관에 짱 박힘).</p>
<p>스쿨 오브 락에서는 나름 상업 영화의 틀 안에 있었지만, 그 캐릭터에 자기 모습을 많이 녹여낸 것도 재미있었다.</p>
<h2 id="씨앗-우리가-몰랐던-이야기-SEED-The-Untold-Story"><a href="#씨앗-우리가-몰랐던-이야기-SEED-The-Untold-Story" class="headerlink" title="씨앗: 우리가 몰랐던 이야기 (SEED: The Untold Story)"></a>씨앗: 우리가 몰랐던 이야기 (SEED: The Untold Story)</h2><p><img src="http://static.ebs.co.kr/images/public/2017/08/5/12/31/6/048db1bd-a4f2-4ead-a5d5-b0f859a737a6.jpg" alt="씨앗: 우리가 몰랐던 이야기"></p>
<blockquote>
<p>인류가 탄생한 직후부터 씨앗은 소중하게 다뤄야 할 가장 중요한 것이었다. 지난 세기 동안 우리가 가지고 있던 종자 품종의 94%가 사라졌다고 한다. 생명공학 기업이 종자와 농부, 과학자, 변호사들 그리고 토종 씨앗의 수호자들까지도 지배하게 되면서, 우리 식량의 미래를 지키기 위한 다윗과 골리앗의 싸움은 시작되었다.</p>
</blockquote>
<p>대충 대충 구경했지만, 그 다양한 씨앗의 아름다움이 꽤나 인상깊었다.</p>
<p>씨앗을 통해서 우리가 얼마나 경제의 논리로 다양성을 멸종 시키는가를 다루는 처음 부분은 재미있었다.</p>
<p>종자를 지키기 위해 의외로 오랜 시간 많은 사람들이 노력하고 있었구나 생각도.</p>
<p>GMO를 다루는 후반은 조금 고개를 갸우뚱하게 만들었다.</p>
<p>GMO 곡물 자체의 유해성을 다뤘으면 좋았을 것 같은데,</p>
<p>이를 재배하는 글로벌 대기업의 횡포나 환경 파괴를 섞어서 논점이 좀 흐려진 것 같다.</p>
<p>그 사람들이 원하는 결과는 동일하겠지만 말이다.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://haah.kr/2017/08/23/alphabetic-letter-validation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="youngiggy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ha-ah">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ha-ah">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/08/23/alphabetic-letter-validation/" class="post-title-link" itemprop="url">정규식으로 (한글) 문자만 골라내기</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-08-23 20:52:36" itemprop="dateCreated datePublished" datetime="2017-08-23T20:52:36+09:00">2017-08-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2018-02-13 15:27:02" itemprop="dateModified" datetime="2018-02-13T15:27:02+09:00">2018-02-13</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/08/23/alphabetic-letter-validation/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/08/23/alphabetic-letter-validation/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>오늘 라라벨 꾸준 코딩 모임에서 나왔던 이야기인데, 라라벨의 유효성 검사 규칙 중 <a target="_blank" rel="noopener" href="https://laravel.kr/docs/5.5/validation#rule-alpha">alpha</a>에 관해 써본다.</p>
<p>원문에서는 아래와 같이 정의하고 있다. </p>
<blockquote>
<p>The field under validation must be entirely alphabetic characters.</p>
</blockquote>
<p>이를 정수님이 옮기시면서 역주를 추가하셨는데,</p>
<blockquote>
<p>필드의 값이 완벽하게 (숫자나 기호가 아닌) 알파벳[자음과 모음] 문자로 이루어져야 합니다.<br>(역자주: 영문 알파벳만을 의미하지 않고, 숫자나 기호가 아닌경우에 해당하여, 한글도 허용합니다.)</p>
</blockquote>
<p>여기서 자음과 모음이 언급되었길래 그럼 자음과 모음이 없는 중국어는 어떻게 되냐고 여쭤보았고,<br>(중국어에 진짜 자음과 모음이 없는가에 대한 문제는 일단 넘어가자..)</p>
<p>유니코드의 구간을 정해놓고 validation 처리한 예전 소스를 보여주신 분도 계셨다. 한글을 구분하는 코드였던가?<br>(좀 더 복잡한 소스였지만) 예를 들어 이런 식.</p>
<p>아래는 persian alphabet을 골라내는 정규식이(란)다.<br>(출처 : <a target="_blank" rel="noopener" href="https://github.com/anetwork/validation/blob/master/src/ValidationRules.php#L27">anetwork</a>)</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">Alpha</span>(<span class="params"><span class="variable">$attribute</span>, <span class="variable">$value</span>, <span class="variable">$parameters</span>, <span class="variable">$validator</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="title class_">ValidationMessages</span>::<span class="title function_ invoke__">setCustomMessages</span>( <span class="variable">$validator</span> );</span><br><span class="line">    <span class="variable language_">$this</span>-&gt;status = (<span class="keyword">bool</span>) <span class="title function_ invoke__">preg_match</span>(<span class="string">&quot;/^[\x&#123;600&#125;-\x&#123;6FF&#125;\x&#123;200c&#125;\x&#123;064b&#125;\x&#123;064d&#125;\x&#123;064c&#125;\x&#123;064e&#125;\x&#123;064f&#125;\x&#123;0650&#125;\x&#123;0651&#125;\s]+$/u&quot;</span>, <span class="variable">$value</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;status ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>결국 다같이 라라벨 소스를 보게 되었다.<br>막상 코드를 열어보니 단순해서 놀랐는데, 코드는 아래와 같다.</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Validate that an attribute contains only alphabetic characters.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  string  $attribute</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  mixed   $value</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> bool</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">validateAlpha</span>(<span class="params"><span class="variable">$attribute</span>, <span class="variable">$value</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">is_string</span>(<span class="variable">$value</span>) &amp;&amp; <span class="title function_ invoke__">preg_match</span>(<span class="string">&#x27;/^[\pL\pM]+$/u&#x27;</span>, <span class="variable">$value</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>“아니, 저건 무슨 정규식이죠?!”라며 놀랐지만, 내가 뚫어져라 본다고 알 턱이 없었다.</p>
<p>그래서 좀 찾아보기로…</p>
<h2 id="Alphabet"><a href="#Alphabet" class="headerlink" title="Alphabet"></a>Alphabet</h2><p>내가 처음에 혼란스러웠던 것은, 유효성 규칙에 대한 설명에서 ‘알파벳[자음과 모음]’이라는 문자에서 과연 자음과 모음이라는 게 중요한가..라는 의문 때문이었다.</p>
<p>한국어 위키디피아의 <a target="_blank" rel="noopener" href="https://ko.wikipedia.org/wiki/%EC%9D%8C%EC%86%8C%EB%AC%B8%EC%9E%90">음소문자</a> 설명부터 보자.</p>
<blockquote>
<p>음소문자(音素文字, alphabet)는 하나하나의 문자가 원칙적으로 하나의 자음 또는 모음의 음소(音素)를 나타내는 문자 체계이다. 자음과 모음에 대응하는 각각의 문자가 따로 존재하는게 다른 종류의 문자와의 다른 점이다. 로마 문자, 한글, 키릴 문자, 그리스 문자 같은 것들이 음소 문자 중 하나다.</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Alphabet">위키디피아 설명</a>에는 <code>sets of letters used in written languages</code>라는 설명으로 시작해서,</p>
<p><code>&quot;alphabet&quot; is a script that represents both vowels and consonants as letters equally</code>라는 표현도 나온다.</p>
<p>자음과 모음을 동일하게 하나의 글자로써 표현하는 것인가 본데…</p>
<p>라라벨 매뉴얼에서 alphabet을 ‘알파벳[자음과 모음]’이라고 표현하신 건 이제 이해가 됐다.</p>
<h2 id="Unicode-property"><a href="#Unicode-property" class="headerlink" title="Unicode property"></a>Unicode property</h2><p>유니코드 표준에서는 각 code point마다 여러가지 속성을 부여하는데,</p>
<p>이를 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Unicode_character_property#General_Category">Unicode character property</a>라고 하고, 이를 통해 Letter인지, Mark인지, Number인지 알 수 있다.</p>
<p>라라벨의 alpha가 정의하는 유효성 확인 정규식을 다시 보자.</p>
<blockquote>
<p>&#x2F;^[\pL\pM]+$&#x2F;u</p>
</blockquote>
<p><code>\p</code>를 통해 property를 부여할 수 있고, 대문자로 쓰면 반대의 개념이다.</p>
<p><code>\pL</code>은 문자(Letter)를 가져오고, <code>\PL</code>은 문자가 아닌 것만 가져온다.</p>
<p><code>\pM</code>은 Mark를 의미하는데, 어디까지가 이 Mark에 부합하는가..가 좀 복잡하다.</p>
<p>이 중에는 악센트와 같이 옆에 있는 문자를 꾸며주는 역할을 하는 것도 있다. 그러니까 문자(이쯤되니 문자라는 표현이 맞는지도 모르겠다)를 꾸며주는 역할을 하는 걸 의미하는 듯 하다</p>
<p>더 자세하고 친절한 설명은 역시 <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/6493954/how-to-properly-write-regex-for-unicode-first-name-in-java">stackoverflow</a>에 있다.</p>
<p>그럼 ™ &lt;- 요렇게 생긴 트레이드 ‘마크’는?</p>
<p><a target="_blank" rel="noopener" href="http://www.fileformat.info/info/unicode/char/2122/index.htm">http://www.fileformat.info/info/unicode/char/2122/index.htm</a></p>
<p>UnicodeBlock이 LETTERLIKE_SYMBOLS로 정의되어 있다. 그렇다. 이런 걸 심볼이라 부른다.</p>
<br>

<p>마지막으로 저 정규식에는 u라는 변경자가 붙어있는데,</p>
<blockquote>
<p>u (PCRE_UTF8)</p>
<p>이 변경자는 펄과 호환되지 않는 PCRE의 추가 기능을 사용하게 합니다. 패턴 문자열을 UTF-8으로 취급합니다. 유닉스에서는 PHP 4.1.0부터, win32에서는 PHP 4.2.3부터 사용할 수 있습니다. PHP 4.3.5부터 패턴의 UTF-8 유효성이 검사됩니다.</p>
</blockquote>
<p>라고 PHP 매뉴얼에 나와있다.</p>
<p>이번에 매뉴얼 좀 찾아보다 발견했는데, 아사마루(?)님의 블로그에 이 정규식 부분이 한글화 + 보충 설명되어 있다.</p>
<p><a target="_blank" rel="noopener" href="https://blog.asamaru.net/2017/01/07/php-regex-prolog/">PHP 정규식(PCRE)의 모든 것</a></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.asamaru.net/2017/01/11/php-regex-unicode-character-properties/">유니코드 문자 속성</a></li>
</ul>
<h2 id="validation-rule-alpha"><a href="#validation-rule-alpha" class="headerlink" title="validation#rule-alpha"></a>validation#rule-alpha</h2><p>비슷한 문제로 2014년에 라라벨 Github에 이슈가 등록됐다.</p>
<p><a target="_blank" rel="noopener" href="https://github.com/laravel/framework/issues/4626">validator rules shouldn’t allow unicode</a></p>
<p>Taylor Otwell은 <code>We can document it.</code> 한마디하고 닫아버린다.<br>(어쩌자는 말인 지 모르겠다.)</p>
<p>ASCII에 존재하는 라틴 알파벳 만을 매칭하려는 게 아니라면 정규식 자체에는 문제가 없어보이지만,</p>
<p>여전히 alpha라는 단어를 쓰는 게 맞는 지는 잘 모르겠다.</p>
<p>Letter에 매칭되는 문자가 모두 알파벳에 속하지 않을테니까.</p>
<h2 id="Run"><a href="#Run" class="headerlink" title="Run"></a>Run</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$arr</span> = [</span><br><span class="line">    <span class="string">&quot;x&quot;</span>, <span class="string">&quot;A&quot;</span>, <span class="string">&quot;3&quot;</span>, <span class="string">&quot;\n&quot;</span>, <span class="string">&quot;.&quot;</span>, <span class="string">&quot;\t&quot;</span>, <span class="string">&quot;\r&quot;</span>, <span class="string">&quot;\f&quot;</span>,</span><br><span class="line">    <span class="string">&quot;주&quot;</span>, <span class="string">&quot;$&quot;</span>, <span class="string">&quot;я&quot;</span>, <span class="string">&quot;张&quot;</span>, <span class="string">&quot;@&quot;</span>, <span class="string">&quot;ⓐ&quot;</span>, <span class="string">&quot;à&quot;</span>, </span><br><span class="line">    <span class="string">&quot;\u&#123;0300&#125;&quot;</span>, <span class="comment">/* COMBINING GRAVE ACCENT */</span></span><br><span class="line">];</span><br><span class="line"><span class="title function_ invoke__">preg_match_all</span>(<span class="string">&#x27;/\pL/u&#x27;</span>, <span class="title function_ invoke__">implode</span>(<span class="string">&#x27;&#x27;</span>, <span class="variable">$arr</span>), <span class="variable">$matchesL</span>);</span><br><span class="line"><span class="title function_ invoke__">preg_match_all</span>(<span class="string">&#x27;/\pM/u&#x27;</span>, <span class="title function_ invoke__">implode</span>(<span class="string">&#x27;&#x27;</span>, <span class="variable">$arr</span>), <span class="variable">$matchesM</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="variable">$matchesL</span>);</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="variable">$matchesM</span>);</span><br></pre></td></tr></table></figure>

<p>결과가 예상 되시나요?</p>
<br>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Array</span><br><span class="line">(</span><br><span class="line">    [0] =&gt; Array</span><br><span class="line">        (</span><br><span class="line">            [0] =&gt; x</span><br><span class="line">            [1] =&gt; A</span><br><span class="line">            [2] =&gt; 주</span><br><span class="line">            [3] =&gt; я</span><br><span class="line">            [4] =&gt; 张</span><br><span class="line">            [5] =&gt; à</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">)</span><br><span class="line">Array</span><br><span class="line">(</span><br><span class="line">    [0] =&gt; Array</span><br><span class="line">        (</span><br><span class="line">            [0] =&gt; ̀</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h2 id="한글만-골라내기"><a href="#한글만-골라내기" class="headerlink" title="한글만 골라내기"></a>한글만 골라내기</h2><p>이렇게 유니코드에는 수많은 카테고리가 존재하고, 이 중에는 역시 한글을 표현하는 카테고리도 존재한다.</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title function_ invoke__">preg_match_all</span>(<span class="string">&#x27;/\p&#123;Hangul&#125;/u&#x27;</span>, <span class="title function_ invoke__">implode</span>(<span class="string">&#x27;&#x27;</span>, <span class="variable">$arr</span>), <span class="variable">$matchesHangul</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="variable">$matchesHangul</span>);</span><br></pre></td></tr></table></figure>

<p>결과가 예상 되시나요?</p>
<h1 id="추가"><a href="#추가" class="headerlink" title="추가"></a>추가</h1><p>페이스북에서 받은 <a target="_blank" rel="noopener" href="https://www.facebook.com/permalink.php?story_fbid=1587990834586231&id=100001259884599&notif_t=like&notif_id=1503590754890689">질문</a>을 좀 더 상세히 찾아보려는데,</p>
<p>역시 유니코드 이 동네는 까면 깔수록 깔 게 많다. </p>
<p>우선 질문은 “항상 &#x2F;[가-힣]+&#x2F;u 을 사용했는데 틀린 건가요?”였는데,</p>
<p>그 전에 문맥&#x2F;비즈니스 요구 사항에 관해 반문해야할 게 좀 많다.</p>
<p>그 기능에서</p>
<ul>
<li>자모를 모두 사용한 완성된 글자만 필요한가?</li>
<li>자모를 개별적으로 입력할 수 있어야 하는가?</li>
<li>한국어에서 쓰이지 않는 글자 조합을 표시해야 하는가?</li>
<li>입력한 자음이나 모음이 한글인지 검색해야 하는가?</li>
</ul>
<p>유니코드에서 한글이 존재하는 구간은 다음과 같다.</p>
<p><a target="_blank" rel="noopener" href="https://codepoints.net/hangul_jamo">Hangul Jamo (U+1100 to U+11FF)</a><br><a target="_blank" rel="noopener" href="https://codepoints.net/hangul_compatibility_jamo">Hangul Compatibility Jamo (U+3130 to U+318F)</a><br><a target="_blank" rel="noopener" href="https://codepoints.net/hangul_jamo_extended-a">Hangul Jamo Extended-A (U+A960 to U+A97F)</a><br><a target="_blank" rel="noopener" href="https://codepoints.net/hangul_syllables">Hangul Syllables (U+AC00 to U+D7AF)</a><br><a target="_blank" rel="noopener" href="https://codepoints.net/hangul_jamo_extended-b">Hangul Jamo Extended-B (U+D7B0 to U+D7FF)</a></p>
<p>이중 &#x2F;가-힣&#x2F;으로 걸러낼 수 있는 건 <a target="_blank" rel="noopener" href="http://d2.naver.com/helloworld/76650">한글 소리 마디 (Hangul Syllables)</a>인데,<br>한글 자모 각각을 구별하기 위해선 <a target="_blank" rel="noopener" href="https://codepoints.net/hangul_jamo">Hangul Jamo (U+1100 to U+11FF)</a>까지 살펴봐야 한다.</p>
<p>&#x2F;ㄱ-힣&#x2F;이라고 쓰는 사람도 많은데, ㄱㄴㄷ..ㅜㅠㅡㅣ까지의 구간과 가나다…힡힢힣까지의 구간 사이에 한자 등 다른 문자가 많이 포함되어 있으므로 금지해야 한다.<br>&#x2F;ㄱ-ㅣ가-힣&#x2F;으로 써야 한다.</p>
<p>페북에서는 옛한글(언급은 안했지만 아래아 같은 걸 염두에 뒀었다)이 현대 한글의 코드 구간 뒤쪽이라고 얘길 했었는데,<br>아래아의 경우는 한글 자모에 속해있다. 이외에 쓰이지 않는 많은 진짜(?) 옛한글은 호환용 한글 자모나 자모 확장 등에서 발견된다.</p>
<h2 id="결론"><a href="#결론" class="headerlink" title="결론"></a>결론</h2><p>올바른 정규식을 얻기 위해선 뭉뚱그려 ‘한글 문자를 검사하는 기능’ 정도로 설명하지 말고, 정확한 요구사항을 명시하는 게 좋다.  </p>
<p>자모를 사용한 완성된 글자만 필요한가?</p>
<ul>
<li>&#x2F;가-힣&#x2F;</li>
</ul>
<p>자모를 개별적으로 입력할 수 있어야 하는가?</p>
<ul>
<li>&#x2F;ㄱ-ㅣ가-힣&#x2F;</li>
</ul>
<p>한국어에서 쓰이지 않는 옛한글이나 글자 조합도 표시해야 하는가?</p>
<ul>
<li>&#x2F;\p{Hangul}&#x2F;u</li>
</ul>
<p>입력한 자음이나 모음이 한글인지 검색해야 하는가?</p>
<ul>
<li>자음이나 모음을 하나만 입력하고 이게 속해있는 지 검색하는 기능이라면, ‘한글 호환 자모’에 관해서도 알아놔야 한다.<ul>
<li>참고 : <a target="_blank" rel="noopener" href="http://advent.perl.kr/2015/2015-12-04.html">http://advent.perl.kr/2015/2015-12-04.html</a></li>
</ul>
</li>
</ul>
<blockquote>
<p>한글을 입력할 때 완성된 글자가 아니라 자음이나 모음 하나만 단독으로 입력하는 경우, 그 음소는 유니코드의 ‘한글 호환 자모(Hangul Compatibility Jamo)’ 영역에 있는 것을 사용하게 됩니다.</p>
</blockquote>
<p>각자의 비즈니스 요구 사항에 따라 선택하면 될 일이지만,</p>
<p>향후의 요구 사항을 고려하는 좀 더 세심한 네이밍이 필요할 것 같다.</p>
<p>라라벨 유효성를 다시 한번 돌아보자.</p>
<p>메소드 명을 validateAlpha()라고 해놓고 &#x2F;^[\pL\pM]+$&#x2F;u로 검사하는 것은 올바른 선택인가?</p>
<h2 id="thank-to"><a href="#thank-to" class="headerlink" title="thank to"></a>thank to</h2><p><a target="_blank" rel="noopener" href="http://blog.gaerae.com/2015/10/postgresql-hangul-regular-expression.html">http://blog.gaerae.com/2015/10/postgresql-hangul-regular-expression.html</a><br><a target="_blank" rel="noopener" href="http://www.programminginkorean.com/programming/hangul-in-unicode/">http://www.programminginkorean.com/programming/hangul-in-unicode/</a></p>
<ul>
<li>뭐 이런 사이트가 다 있나 싶은데…이런 사이트도 있다</li>
</ul>
<p><a target="_blank" rel="noopener" href="http://advent.perl.kr/2015/2015-12-04.html">http://advent.perl.kr/2015/2015-12-04.html</a><br><a target="_blank" rel="noopener" href="http://d2.naver.com/helloworld/76650">http://d2.naver.com/helloworld/76650</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://haah.kr/2017/08/23/http-the-definitive-guide-chapter-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="youngiggy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ha-ah">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ha-ah">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/08/23/http-the-definitive-guide-chapter-3/" class="post-title-link" itemprop="url">HTTP 완벽가이드 3장</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-08-23 19:37:15" itemprop="dateCreated datePublished" datetime="2017-08-23T19:37:15+09:00">2017-08-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2018-02-13 15:27:02" itemprop="dateModified" datetime="2018-02-13T15:27:02+09:00">2018-02-13</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/08/23/http-the-definitive-guide-chapter-3/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/08/23/http-the-definitive-guide-chapter-3/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>회사에서 진행 중인 ‘HTTP 완벽가이드 릴레이 세미나’ 3장 발표 자료.</p>
<p><a target="_blank" rel="noopener" href="https://docs.google.com/presentation/d/1obobW34ipdOqN1oGThDia92hgbKW-q7VVW1T0owHtM8/edit?usp=sharing">https://docs.google.com/presentation/d/1obobW34ipdOqN1oGThDia92hgbKW-q7VVW1T0owHtM8/edit?usp=sharing</a></p>
<p>내용</p>
<ul>
<li>HTTP 스펙의 변화</li>
<li>HTTP 메시지 문법</li>
<li>HTTP 메소드</li>
<li>HTTP 응답 코드</li>
<li>주요 헤더</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://haah.kr/2017/08/05/rest-series-summary/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="youngiggy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ha-ah">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ha-ah">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/08/05/rest-series-summary/" class="post-title-link" itemprop="url">REST 연구 요약본</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-08-05 09:17:49" itemprop="dateCreated datePublished" datetime="2017-08-05T09:17:49+09:00">2017-08-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2018-02-13 15:27:02" itemprop="dateModified" datetime="2018-02-13T15:27:02+09:00">2018-02-13</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/08/05/rest-series-summary/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/08/05/rest-series-summary/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>REST에 관해 연구했던 내용을 공개하고 가장 많이 받은 피드백은,</p>
<p>‘간단히 말해보라’는 것이었다.</p>
<p>간단한 문제가 아니라서 여전히 간단히는 말할 수는 없지만,</p>
<p>널리 퍼지기 좋게 몇 가지 문장으로 (자극적으로!) 정리할 필요를 느꼈다.</p>
<p>이 글 조차도 다 읽지 않고 비판하는 사람이 많을 것을 알고 있지만,</p>
<ul>
<li>“뭘 그렇게 복잡하게 생각해? 피곤한 친구구만”</li>
</ul>
<p>나는 계속 REST라는 용어를 함부로(!) 쓴다고 해서 비난하지 않는다.</p>
<p>REST라는 용어를 쓰지 말라고도 하지 않고, 잘못 썼다고 그 사람을 폄하하지도 않는다.</p>
<p>어느 누구도 설득하고 싶지 않다.</p>
<p>다만 REST가 우리에게 주는, 변화와 확장에 대응하라는 교훈을 좀 더 알리고 알리고 싶다.</p>
<p>연구했던 내용을 짧게 줄여 한장에 정리해보겠다.(이미 글이 길어진 기분이지만..)</p>
<p>중간 중간 아래 연재 목록에 어떤 내용이 담겨 있는지 설명한다.</p>
<ol>
<li><a href="/2017/05/22/rest-the-beginning/">REST - 긴 여정의 시작</a></li>
<li><a href="/2017/05/23/rest-http-method-in-html-form/">REST - HTML Form에서 GET&#x2F;POST만 지원하는 이유</a></li>
<li><a href="/2017/05/24/rest-the-dissertation-summary/">REST - 논문(요약) 훑어보기</a></li>
<li><a href="/2017/06/12/rest-the-big-lie/">REST - REST 좋아하시네</a></li>
<li><a href="/2017/06/26/rest-the-truth/">REST - Roy가 입을 열다</a></li>
<li><a href="/2017/06/28/rest-the-coclusion/">REST - 당신이 만든 건 REST가 아니지만 괜찮아</a></li>
<li><a href="/2017/06/28/rest-the-dissertation/">REST - 논문 읽기(To Do)</a></li>
</ol>
<h2 id="REST"><a href="#REST" class="headerlink" title="REST"></a>REST</h2><h3 id="Roy-T-Fielding"><a href="#Roy-T-Fielding" class="headerlink" title="Roy T. Fielding"></a>Roy T. Fielding</h3><p><em>Senior Principal Scientist at Adobe, co-founded Apache, authored the REST architectural style and Web standards for URI, HTTP&#x2F;1.x, and URI Templates.</em></p>
<p>온라인에서 보게되는 RESTful API라고 부르는 것 대부분은 로이 필딩의 의도에 반한다.</p>
<p><img src="https://pbs.twimg.com/media/Cvx0q3RXgAUW7FK.jpg" alt="RESTfather"> - 그가 만들었으니 그가 옳다!</p>
<p>몇 가지 잘못 사용되는 수준이 아니라 반대 방향을 바라보고 있다.</p>
<p>2008년 로이 필딩은 블로그에서 이에 관해 비판했지만, 육아를 시작한 후로 더 이상 이야기가 없다. (<a target="_blank" rel="noopener" href="https://twitter.com/fielding">트위터</a>에선 여전하시다)</p>
<p>2008년에 로이가 한 이야기를 해석해 본 것이 - <a href="/2017/06/26/rest-the-truth/">5. REST - Roy가 입을 열다</a></p>
<h3 id="REST는-어렵다"><a href="#REST는-어렵다" class="headerlink" title="REST는 어렵다"></a>REST는 어렵다</h3><p>사람들은 REST가 구현하기 어렵다고 하는데,</p>
<ul>
<li>HTTP를 HTML form에서 다루기 힘들거나</li>
<li>RPC에 어떤 메소드를 써야할 지 모르거나</li>
<li>어떤 응답코드를 써야할 지, 응답코드가 무슨 의미인지 모르거나</li>
<li>복잡한 기능을 명사로 표현하기 어렵기 때문인 것 같다</li>
</ul>
<p>이런 건 REST의 문제가 아니다. 단지,</p>
<ul>
<li>HTTP를 이해 못했거나</li>
<li>리소스를 잘못 설계했거나</li>
<li>당신의 API가 RESTful할 이유가 없거나</li>
</ul>
<p>사람들의 오해를 단적으로 보여주는 글을 읽고, 여기 달린 100여개의 댓글을 번역하고 정리한 것이 - <a href="/2017/06/12/rest-the-big-lie/">4. REST - REST 좋아하시네</a></p>
<p>그렇다고 REST가 쉽다는 건 아니다. 로이 필딩은 논문이 전문가를 위한 것이라고 언급했다.</p>
<p>논쟁에서 가장 흔히 등장하는 이야기가 Form에서 GET, POST만 지원해서 REST를 적용하기 어렵다인데, 이를 위해 특별히 <a href="/2017/05/23/rest-http-method-in-html-form/">2. REST - HTML Form에서 GET&#x2F;POST만 지원하는 이유</a>도 조사했다.</p>
<h3 id="REST가-의미하는-것"><a href="#REST가-의미하는-것" class="headerlink" title="REST가 의미하는 것"></a>REST가 의미하는 것</h3><p>REST가 최종적으로 추구하는 건 <em>효율적이고 확장가능한 시스템</em>이다.</p>
<p>이를 위해 6가지 제약조건(하나는 optional)을 제시했다.</p>
<p>조금 비약해서 소개하자면 </p>
<ul>
<li>client-server로 나누어 UI와 data 저장에 대한 관심사를 분리하면 각기 독립적으로 진화할 수 있어서 좋고</li>
<li>시스템이 커져서 client가 많이 붙으면 서버가 일일이 관리하기 힘드니, payload에 필요한 모든 정보를 넣으면 한번의 요청&#x2F;응답으로 관계를 정리할 수 있고</li>
<li>그럼 네트웍에 부하가 갈테니 캐시를 사용해야하고</li>
<li>복잡한 시스템으로 확장되면 구성요소간 커뮤니케이션에 문제가 생길 수 있으니 동일한 인터페이스를 써야하는데 4가지를 언급한다<ul>
<li>리소스 식별 방법</li>
<li>representation을 통한 제어</li>
<li>요청&#x2F;응답에 필요한 모든 정보를 넣을 것</li>
<li>어플리케이션의 상태 변경이 hypertext로부터 발생하는 것</li>
</ul>
</li>
<li>시스템이 커지면 중간에 방화벽이나 리버스 프록시같은 미들웨어가 필요하게 되는데 통신하는 client와 server는 이를 모르고 통신할 수 있어야 함</li>
</ul>
<p>로이는 네트웍 기반의 효율적이고 확장가능한 시스템을 만들기 위해선 이 제약조건이 필요할 것으로 생각했고, 이 조건을 만족하면 REST한 시스템이라고 할 수 있다.</p>
<p>이 제약조건에 대해 더 자세히 설명한 것은 - <a href="/2017/05/24/rest-the-dissertation-summary/">3. REST - 논문(요약) 훑어보기</a></p>
<h2 id="그-많은-API가-RESTful하지-않은-이유"><a href="#그-많은-API가-RESTful하지-않은-이유" class="headerlink" title="그 많은 API가 RESTful하지 않은 이유"></a>그 많은 API가 RESTful하지 않은 이유</h2><h3 id="클라이언트와-서버가-지나치게-결합되어-있기-때문이다"><a href="#클라이언트와-서버가-지나치게-결합되어-있기-때문이다" class="headerlink" title="클라이언트와 서버가 지나치게 결합되어 있기 때문이다."></a>클라이언트와 서버가 지나치게 결합되어 있기 때문이다.</h3><p>API 문서를 옆에 끼고 개발을 해야만 한다면,</p>
<p>API를 수정하려는데 클라이언트에 문제가 생기지 않을까 걱정을 하고 있다면,</p>
<p>UI와 백엔드가 독립적으로 진화할 수 없게 단단히 결합되었다고 볼 수 있다.</p>
<h3 id="hypermedia-as-the-engine-of-application-state"><a href="#hypermedia-as-the-engine-of-application-state" class="headerlink" title="hypermedia as the engine of application state."></a>hypermedia as the engine of application state.</h3><p>로이 필딩은 hypertext의 역할이 가장 중요하다고 강조한다.</p>
<p>response에 링크를 쉽게 추가해주는 ‘HATEOAS 지원 라이브러리’같은 것도 꽤 보이는데,   </p>
<p>단순히 다른 페이지에 대한 링크를 추가하는 것 만으로는 부족하다.</p>
<p>사실 웹 문서가 아닌 바에야, 시스템 전체를 관통하는 인터페이스로써 hypertext를 설계하기가 쉽지 않다고 생각한다.</p>
<p>내가 이 부분을 명확하게 설명하기 위해선 사례 연구가 더 필요하다.</p>
<h3 id="표준"><a href="#표준" class="headerlink" title="표준"></a>표준</h3><p>로이는 요청&#x2F;응답 트랜잭션 이외의 영역에서 의존해야할 정보가 있다면, 그건 표준이어야 한다는 생각인 것 같다.</p>
<p>세상엔 별별 표준이 다 만들어진다.</p>
<p>API를 내부 시스템으로 한정하면 독자적인 표준도 가능할 것이다.</p>
<h2 id="ROA-Resource-Oriented-Architecture"><a href="#ROA-Resource-Oriented-Architecture" class="headerlink" title="ROA(Resource-Oriented Architecture)"></a>ROA(Resource-Oriented Architecture)</h2><p>그 똑똑한 개발자들 간 10여년이 넘는 시간 동안 용어를 잘못 쓰고 있는 이유는 나도 의아한데, ROA에서 그나마 원형을 발견할 수 있었다.</p>
<p>Leonard Richardson의 <a target="_blank" rel="noopener" href="http://shop.oreilly.com/product/9780596529260.do">RESTful Web Services</a>의 <a target="_blank" rel="noopener" href="http://www.kyobobook.co.kr/product/detailViewKor.laf?barcode=9788956744193">한국어 번역서</a>은 절판 상태.</p>
<p><a target="_blank" rel="noopener" href="http://greatkim91.tistory.com/13">행복한 아빠</a>님의 블로그에 정리된 게 있어서 참고했다.</p>
<p>마틴 파울러가 <a target="_blank" rel="noopener" href="https://martinfowler.com/articles/richardsonMaturityModel.html">Richardson의 Maturity Model을 소개한 블로그</a>를 썼는데, 지앤선 블로그에 <a target="_blank" rel="noopener" href="http://jinson.tistory.com/190">번역</a>이 되어있다.</p>
<p>REST에서 ROA로, 여기서 개발자들에게 전달되면서 소위 말하는 REST 규칙이 생겨난 것 같다.<br><a target="_blank" rel="noopener" href="https://namu.wiki/w/%EA%B0%80%EC%A1%B1%EC%98%A4%EB%9D%BD%EA%B4%80/%EC%97%AD%EB%8C%80%20%EA%B2%8C%EC%9E%84#s-12">가족오락관 게임</a>처럼..</p>
<p>소위 REST라고 할 때 어떤 것을 떠올리는가?</p>
<ul>
<li>HTTP의 네가지 메소드를 CRUD에 대응하는 것</li>
<li>HTTP의 응답코드를 200, 404, 500이 아닌 것으로 리턴하는 것</li>
<li>URL을 계층적으로 구성하는 것</li>
<li>또 있던가?</li>
</ul>
<p>하지만 지금 이 순간부터 REST라는 용어가 나타나면 유심히 살펴보자.</p>
<p>그 많은 REST라는 용어로부터 확신할 수 있는 형식이 무엇이 있는가?</p>
<p>‘CRUD를 위한 네가지 HTTP 메소드를 쓴다’정도?</p>
<p>루비 온 레일즈와 같은 프레임웍에서 이를 더 부추겼다는 의견도 있다.</p>
<h2 id="당신이-만든-건-REST가-아니지만-괜찮아"><a href="#당신이-만든-건-REST가-아니지만-괜찮아" class="headerlink" title="당신이 만든 건 REST가 아니지만 괜찮아"></a>당신이 만든 건 REST가 아니지만 괜찮아</h2><p>하지만 난 당신의 API가 REST가 아니라 해도 괜찮다고 말해주고 싶다.</p>
<p>REST가 아니라도 실패한 디자인이 아니라고 말해주고 싶다.</p>
<p>난 RESTful API를 만들 생각은 ‘아직’ 없다.</p>
<ul>
<li>면접을 본다면 RESTful API를 만들어봤다고 하겠지만 말이다</li>
</ul>
<p>이런 이야기를 적은 것이 - <a href="/2017/06/28/rest-the-coclusion/">6. REST - 당신이 만든 건 REST가 아니지만 괜찮아</a></p>
<p>여기선 <a target="_blank" rel="noopener" href="https://medium.com/@trevorhreed/you-re-api-isn-t-restful-and-that-s-good-b2662079cf0e">Your API isn’t RESTful — And That’s Good</a>이라는 블로그의 내용을 번역했는데,</p>
<p>이런 혼란을 종식 시키고 RESTful 대신 RESOURCEful이라는 용어를 정의해서 모범 사례를 구축하자는 주장이다.</p>
<p>우리가 원하는 바로 그 API의 모습이 담겨있다.</p>
<p>최초 누가 주장했는지는 잘 모르겠지만 이 블로그는 2016년 초에 발행됐으며, RESOURCEful이라는 용어의 사용은 점점 증가하는 추세다.</p>
<p>Laravel의 문서에서도 5.3버전(2016년 9월)부터 RESTful이라는 용어가 제거됐다.</p>
<h2 id="Moder-PHP-User-Group-8월-발표자료"><a href="#Moder-PHP-User-Group-8월-발표자료" class="headerlink" title="Moder PHP User Group 8월 발표자료"></a>Moder PHP User Group 8월 발표자료</h2><p>이 내용으로 8월달 MPUG 정기 모임에서 발표한 자료도 걸어둔다.</p>
<p><a target="_blank" rel="noopener" href="https://docs.google.com/presentation/d/1dcoBPsOJvBwZBeyaNxdhFO0ZVeCSjTfdS33rbmRDW0c/edit?usp=sharing">당신이 만든 건 REST가 아니지만 괜찮아</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://haah.kr/2017/08/05/rest-your-api-is-not-restful-and-that-is-good/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="youngiggy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ha-ah">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ha-ah">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/08/05/rest-your-api-is-not-restful-and-that-is-good/" class="post-title-link" itemprop="url">당신이 만든 건 REST가 아니지만 괜찮아(MPUG 8월 발표자료)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-08-05 09:02:09" itemprop="dateCreated datePublished" datetime="2017-08-05T09:02:09+09:00">2017-08-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2018-02-13 15:27:02" itemprop="dateModified" datetime="2018-02-13T15:27:02+09:00">2018-02-13</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/08/05/rest-your-api-is-not-restful-and-that-is-good/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/08/05/rest-your-api-is-not-restful-and-that-is-good/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Moder PHP User Group 8월 모임 발표에서 사용한 슬라이드.</p>
<p>이제 REST 연재 요약본만 쓰면 되겠다.</p>
<p><a target="_blank" rel="noopener" href="https://docs.google.com/presentation/d/1dcoBPsOJvBwZBeyaNxdhFO0ZVeCSjTfdS33rbmRDW0c/edit?usp=sharing">발표자료 링크</a></p>
<p>아 지겹…</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://haah.kr/2017/08/04/explain-mysql-explain/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="youngiggy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ha-ah">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ha-ah">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/08/04/explain-mysql-explain/" class="post-title-link" itemprop="url">Explaining MySQL's EXPLAIN</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-08-04 00:26:10" itemprop="dateCreated datePublished" datetime="2017-08-04T00:26:10+09:00">2017-08-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2018-02-13 15:27:02" itemprop="dateModified" datetime="2018-02-13T15:27:02+09:00">2018-02-13</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/08/04/explain-mysql-explain/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/08/04/explain-mysql-explain/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>예전 발표자료 정리하기 2탄</p>
<p><a target="_blank" rel="noopener" href="https://docs.google.com/presentation/d/1N27u5EYSXjZZeYhYDMI24zptpoIvrPV009SgIOWVdg4/edit?usp=sharing">Explaining MySQL’s EXPLAIN</a></p>
<p>한번 훑어주면 튜닝하는 데 꽤 도움된다.(그 동안 개판으로 튜닝했다는 말)</p>
<p>Real MySQL이란 책에서 explain 부분만 대략 보고 정리했는데, 일단은 회사에서 innodb만 쓰니까 관련 부분만 훑어봤다.</p>
<p>오늘 누가 MyISAM이랑 차이가 뭐냐고 물어봤을 때, 입력이 느리다고 말을 했던가?</p>
<p>뭐 틀린 말은 아닌 것 같은데;; table-level lock 때문에.</p>
<p>암튼 트랜잭션 지원 안 함. (아 이걸 이야기 할 것을…)</p>
<p>MyISAM은 외래키 지원도 안 되는구만. 본 것도 같고.</p>
<p>새로 이사온 집에 뚫어놓은 하수구에 물 내려가듯 지식이 빠져나가 큰일이다.</p>
<p>브랜든 아이크나 제임스 고슬링 이런 사람들은 나이가 먹어도 뇌가 잘 돌아가겠지? 기억력도 유지되는지 참 궁금하다.</p>
<p>그 사람들은 술을 안 먹기라도 하는 걸까?</p>
<p>라는 질문을 맥주를 마시면서 하고 있는데, 예거 쯔비켈이라는 맥주가 편의점에서 8월에만 6캔 9,900원에 팔고 있다.</p>
<p>1,650원에 마시기에는 꽤꽤꽤 괜찮은 맥주임! </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://haah.kr/2017/08/03/resource-hints-and-preload/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="youngiggy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ha-ah">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ha-ah">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/08/03/resource-hints-and-preload/" class="post-title-link" itemprop="url">Resource Hints and Preload</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-08-03 13:41:26" itemprop="dateCreated datePublished" datetime="2017-08-03T13:41:26+09:00">2017-08-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2018-02-13 15:27:02" itemprop="dateModified" datetime="2018-02-13T15:27:02+09:00">2018-02-13</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/08/03/resource-hints-and-preload/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/08/03/resource-hints-and-preload/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>애드센스 승인을 받으려면 글을 꾸준히 쓰거나 404로 떨어지는 링크가 없어야 한다는 말이 있어서 최근 발표자료나 올려봐야겠다.</p>
<p>자료 : <a target="_blank" rel="noopener" href="https://docs.google.com/presentation/d/1hk4bNM3uqz6TfqYX7fbjwMX6kujaGpYuN6x9b9qK_F0/edit?usp=sharing">Resource Hints and Preload</a></p>
<p>prefetch를 비롯한 resource hints와 preload에 대해 연구한 결과.</p>
<p>사실 원래 코드에는 회사 소스 구조도 있었지만, 논란이 될 수 있으니 제거하고 공유한다. </p>
<p>발표일 : 2017년 6월</p>
<ul>
<li>사내에서 발표하고 일부 preload 적용</li>
<li>모던 PHP 유저그룹 정기 모임에서 발표함</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://haah.kr/2017/07/22/script-async/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="youngiggy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ha-ah">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ha-ah">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/07/22/script-async/" class="post-title-link" itemprop="url">script의 async를 둘러싼 스펙 탐험</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-07-22 08:58:09" itemprop="dateCreated datePublished" datetime="2017-07-22T08:58:09+09:00">2017-07-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2018-02-13 15:27:02" itemprop="dateModified" datetime="2018-02-13T15:27:02+09:00">2018-02-13</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/07/22/script-async/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/07/22/script-async/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>bsidesoft 블로그에 <a target="_blank" rel="noopener" href="http://www.bsidesoft.com/?p=5385">Jobs</a>에 대한 내용이 올라왔다.</p>
<ul>
<li>NHN Entertainment에서 쓴 <a target="_blank" rel="noopener" href="https://github.com/nhnent/fe.javascript/wiki/June-13-June-17,-2016">자바스크립트와 이벤트 루프</a>에서도 끝에 언급했었던 내용이니 같이 참고하면 좋겠다.</li>
</ul>
<p>여튼, Jobs에 대한 글 중간에</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--소용없음. 그냥 async 선언과 동일--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span>=<span class="string">&quot;false&quot;</span> <span class="attr">src</span>=<span class="string">&quot;1.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>“안타깝게도 이 옵션은 직접 태그에 쓰면 소용없고 동적으로 스크립트를 만든 경우에만 적용할 수 있습니다.”라고 나와있어서,</p>
<p>스펙에서는 어디에 나와있는가 질문을 드렸더니 다음과 같은 답변이 달렸다.</p>
<blockquote><p>…<a target="_blank" rel="noopener" href="http://www.w3.org/TR/html51/semantics-scripting.html">www.w3.org/TR/html51/semantics-scripting.html</a>…</p>
<p>여기에 가시면 script엘리먼트객체의 속성인 async IDL attribute에 대한 작동에 대해 자세히 기술하고 있습니다.</p>
<p>The async IDL attribute controls whether the element will execute in parallel or not. If the element’s “non-blocking” flag is set, then, on getting, the async IDL attribute must return true, and on setting, the “non-blocking” flag must first be unset, and then the content attribute must be removed if the IDL attribute’s new value is false, and must be set to the empty string if the IDL attribute’s new value is true. If the element’s “non-blocking” flag is not set, the IDL attribute must reflect the async content attribute.</p>
</blockquote>

<p>분명 훑어보았던 부분인데 IDL attribute를 이해 못해서 그냥 넘어갔던 부분이다.</p>
<p>반성의 의미로 스펙을 좀 더 읽고 내 질문에 대한 답을 정리해본다.</p>
<h1 id="async-attribute"><a href="#async-attribute" class="headerlink" title="async attribute"></a>async attribute</h1><p>우선 <code>&lt;script async=&quot;false&quot; src=&quot;1.js&quot;&gt;&lt;/script&gt;</code>에서 async가 false로 설정 안 되는 이유.</p>
<p><a target="_blank" rel="noopener" href="https://www.w3.org/TR/html51/semantics-scripting.html#element-attrdef-script-async">script element 스펙</a>에는 “The async and defer attributes are <a target="_blank" rel="noopener" href="http://w3c.github.io/html/infrastructure.html#boolean-attribute">boolean attributes</a>“라는 말이 나오는데,</p>
<p>boolean-attribute란 attribute로 명시하는 것 만으로 true가 된다.</p>
<p>즉, async&#x3D;”true”든 async&#x3D;”false”든 모두 async가 설정된 것으로 본다.</p>
<p>checked, disabled 같은 애들이 다 boolean-attribute다.</p>
<p>따라서 스크립트를 추가된 순서대로 실행하려면 attribute에서 async를 생략해야 하지만,</p>
<p>그렇게 하면 또 병렬(parallel) 로 로드가 안 되는 문제가 생기게 된다.</p>
<p>그럼 동적으로 삽입된 스크립트에서 가능한 이유는 뭘까?</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//js에서 동적로딩하는 경우</span></span><br><span class="line"><span class="keyword">const</span> s = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;script&#x27;</span>);</span><br><span class="line">s.<span class="property">src</span> = <span class="string">&#x27;1.js&#x27;</span>;</span><br><span class="line">s.<span class="property">async</span> = <span class="literal">false</span>; <span class="comment">//효과 있음</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(s);</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://www.w3.org/TR/html51/semantics-scripting.html#element-attrdef-script-async">script element 스펙</a>에 나오는 문장을 이해하기 위해 IDL attribute부터 알아보자.</p>
<h1 id="content-attribute와-IDL-attribute"><a href="#content-attribute와-IDL-attribute" class="headerlink" title="content attribute와 IDL attribute"></a>content attribute와 IDL attribute</h1><p>스택오버플로우에서 답을 찾아봤다.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/12354918/what-does-idl-attribute-mean-in-the-whatwg-html5-standard-document">https://stackoverflow.com/questions/12354918/what-does-idl-attribute-mean-in-the-whatwg-html5-standard-document</a></li>
</ul>
<hr>
<p>IDL이란 말은 <a target="_blank" rel="noopener" href="https://heycam.github.io/webidl/">Web IDL spec</a>에서 왔습니다.</p>
<blockquote><p>이 문서는 Web IDL이라는 인터페이스 정의 언어를 정의하고, 이는 웹 브라우저 내에서 구현하려는 인터페이스를 설명하는데 사용될 수 있습니다.<br>Web IDL은 IDL의 일종으로 웹 플랫폼에서의 공통적인 스크립트 객체의 동작을 보다 쉽게 정의될 수 있게 해주는 많은 기능을 갖추고 있습니다.<br>Web IDL로 설명된 인터페이스가 ECMAScript 실행 환경 내의 구조에 어떻게 대응되는지 또한 이 문서에서 자세히 설명합니다.</p>
</blockquote>

<p>Contents attibute란 마크업에서 나타나는 attribute입니다.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;mydiv&quot; class=&quot;example&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>여기서 id와 class는 attribute죠. 일반적으로 content attribute는 이에 상응하는 IDL attribute를 갖고 있습니다.</p>
<p>…생략</p>
<p>JavaScript 안에서 IDL attribute는 종종 property라고 불리는데, JavaScript에게는 DOM 객체의 property로써 노출되기 때문입니다.</p>
<p>보통 content attribute와 IDL attribute는 짝을 이루지만, 반드시 둘이 호환되는 건 아닙니다.</p>
<p>…생략 (&lt;option&gt; element의 초기값을 예로 든다)</p>
<hr>
<p>결국 우리가 JavaScript 개발자로서 인식하는 property가 바로 IDL attribute란 개념을 가리키고 있다.<br>contents attribute라 함은 일반적으로 attribute라고 생각하는 그 마크업 상에 노출되는 바로 그것.</p>
<h1 id="script-element"><a href="#script-element" class="headerlink" title="script element"></a>script element</h1><p>이제 async에 관한 HTML5.1의 script쪽 명세를 다시 보자.</p>
<blockquote><p>The async IDL attribute controls whether the element will execute in parallel or not.<br>Async IDL attribute는 element가 병렬로 실행될 지를 결정한다.</p>
<br>

<p>If the element’s “non-blocking” flag is set, then, on getting, the async IDL attribute must return true, and on setting, the “non-blocking” flag must first be unset, and then the content attribute must be removed if the IDL attribute’s new value is false, and must be set to the empty string if the IDL attribute’s new value is true.<br>Element의 “non-blocking” 플래그가 설정되면, 값을 가져올 때는 async IDL attribute가 true를 반환해야만 하고, 설정할 때는 “non-blocking” 플래그는 일단 해제한다. 이후 IDL attribute의 새로운 값이 false이면 content attribute는 제거, true이면 빈 값을 설정한다.</p>
<br>

<p>If the element’s “non-blocking” flag is not set, the IDL attribute must reflect the async content attribute.<br>Element의 “non-blocking” 플래그가 설정되지 않았다면, IDL attribute는 반드시 async content attribute를 반영(연동)해야 한다.</p>
</blockquote>

<p>참고로 값을 가져올 때 현재 content attribute 값을 리턴해야 하는 경우 reflect란 용어를 쓰고 있는데 나는 이를 ‘반영(연동)’이라고 번역했다.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.w3.org/TR/html51/infrastructure.html#reflecting-content-attributes-in-idl-attributes">reflecting-content-attributes-in-idl-attributes</a>)</li>
</ul>
<p>간단히 console 창에서 테스트해보자.</p>
<p><code>var s = document.createElement(&#39;script&#39;);</code>를 통해 생성한 후 바로 <code>s.async</code>를 보면 true가 나온다.</p>
<p>처음 스크립트가 생성될 때는 “non-blocking” 플래그가 설정되기 때문이다.</p>
<blockquote><p>Element의 “non-blocking” 플래그가 설정되면, 값을 가져올 때는 async IDL attribute가 true를 반환해야만…</p>
</blockquote>

<p>이제 한 문장은 이해한 것 같은데, 어려운 용어가 더 생겼다.</p>
<p>“non-blocking” 플래그라는 게 뭘까?</p>
<h1 id="parsing-script-tag"><a href="#parsing-script-tag" class="headerlink" title="parsing script tag"></a>parsing script tag</h1><p>“non-blocking” 상태를 이해하기 위해 우선 <a target="_blank" rel="noopener" href="https://dev.w3.org/html5/spec-LC/parsing.html">HTML 도큐먼트의 파싱</a>과정을 보자.</p>
<p><img src="http://dev.w3.org/html5/spec/images/parsing-model-overview.png" alt="parsing-model-overview"></p>
<p>“non-blocking”에서 block하는 대상은 HTML의 파싱이다.</p>
<p>보통 네트웍 계층에서 input stream으로 데이터를 넘겨주지만, 실행중인 스크립트로부터 받아들이기도 한다.    </p>
<p>document.write가 대표적인데, 여기서 쓰는 데이터는 input stream에 섞여 들어간다.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;&lt;li&gt;hello&lt;/li&gt;&#x27;</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ul 사이에 li가 제대로 자릴 잡기 위해선 input stream으로부터 </script>가 나타나기 전까지만 데이터를 읽어들이고,</p>
<p>document.write가 포함된 스크립트 구문 실행하면 <code>&lt;li&gt;hello&lt;/li&gt;</code> 부분이 input stream에 추가되고,</p>
<p>파서가 non-block 상태가 되면 다시 input stream으로부터 문자를 받아오는데,</p>
<p><code>&lt;li&gt;hello&lt;/li&gt;\n&lt;/ul&gt;</code> 순으로 가져오게 된다.</p>
<p>이런 이유로 script 태그는 기본적으로 HTML 파싱을 막는다.</p>
<p>외부 스크립트도 마찬가지인데,</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;external.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>파서는 </script>를 만나면 src에 명시된 파일을 다운로드하고, 실행하기를 기다린 후에야 파싱을 재개할 수 있다. </p>
<h1 id="“non-blocking”-flag"><a href="#“non-blocking”-flag" class="headerlink" title="“non-blocking” flag"></a>“non-blocking” flag</h1><p>그럼 <a target="_blank" rel="noopener" href="https://www.w3.org/TR/html51/semantics-scripting.html#non-blocking">“non-blocking” 상태</a>는 스펙에서 어떻게 설명하는지 보자.</p>
<blockquote><p>Initially, script elements must have this flag set.<br>Script element는 초기 플래그 값으로 non-block으로 설정된다.<br><br><br>It is unset by the HTML parser and the XML parser on script elements they insert.<br>HTML&#x2F;XML 파서가 script element를 삽입하면서 이 플래그가 해제된다.</p>
</blockquote>

<p>그러니까 HTML 파서에 의해 생성된 스크립트 태그는 기본적으로 fetch&#x2F;실행하는 동안 HTML 파서를 block 블럭하게 된다. </p>
<blockquote><p>In addition, whenever a script element whose “non-blocking” flag is set has an async content attribute added, the element’s “non-blocking” flag must be unset.<br>추가적으로, “non-blocking” 플래그가 설정된 script element에 async content attribute가 추가되면, element의 “non-blocking” 플래그는 해제된다.</p>
</blockquote>

<p>이 부분은 script element 쪽에서도 언급이 되니 같이 살펴보자.</p>
<h1 id="다시-script-element"><a href="#다시-script-element" class="headerlink" title="다시 script element"></a>다시 script element</h1><blockquote><p>If the element’s “non-blocking” flag is set, then, on getting, the async IDL attribute must return true, and on setting, the “non-blocking” flag must first be unset, and then the content attribute must be removed if the IDL attribute’s new value is false, and must be set to the empty string if the IDL attribute’s new value is true.<br>Element의 “non-blocking” 플래그가 설정되면, 값을 가져올 때는 async IDL attribute가 true를 반환해야만 하고, 설정할 때는 “non-blocking” 플래그는 일단 해제한다. 이후 IDL attribute의 새로운 값이 false이면 content attribute는 제거, true이면 빈 값을 설정한다.</p>
</blockquote>

<p>최초 script element를 생성할 때는 “non-blocking” 플래그가 설정되기 때문에 async가 true를 반환하는 것은 이미 확인했다.</p>
<blockquote><p>…설정할 때는 “non-blocking” 플래그는 일단 해제한다.</p>
</blockquote>

<p>이 글을 한참이나 쓰고 있는 이유가 이 때문인데, async를 추가하는데 왜 “non-blocking”을 해제하는 걸까? 이런 의문으로 너무 혼란스러웠다.</p>
<p>그러니까, async가 “non-blocking” 상태 아님?하는 의문이다.</p>
<p>나만 빼고 다들 잘 이해를 하고 있는지, “non-blocking” 플래그에 대한 질문도 찾기 쉽지 않다.</p>
<p>여러가지 가정을 하고 스펙을 여러번 읽어본 결과,</p>
<p>브라우저는 “non-blocking” 플래그가 없어도 async로 병렬처리 여부를 확인할 수 있다라고 나름의 결론을 냈다.</p>
<p>왜 병렬로 다운로드 받는가에 대해선 스펙상에서 찾을 수는 없었는데, 어쩌면 다운로드를 병렬로 받는 건 중요하지 않겠다는 생각도 든다.</p>
<p>다운로드는 왜 병렬로 처리되는 걸까?</p>
<p>스펙에서 찾은 건 아니지만, 원래 다운로드는 그냥 알아서 병렬로 다운받는 거 아닌가?</p>
<p>브라우저 별로 동시 다운로드 받을 수 있는 개수가 다르긴 한데, 어쨌든 아래와 같은 일반적인 script 태그를 써도 동시에 다운로드 받는 걸 볼 수 있다.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;small.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;small2.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;small3.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;small4.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>현대 브라우저에서 외부 리소스를 다운로드할 때는 fetcher라는 놈에게 위임하고,<br>(<a target="_blank" rel="noopener" href="https://www.chromium.org/developers/design-documents/network-stack/network-stack-use-in-chromium">아마 이런 놈들</a>) </p>
<p>Fetcher는 캐시를 확인하거나 각종 다운로드 받을 파일을 나름의 <a target="_blank" rel="noopener" href="https://docs.google.com/document/d/1bCDuq9H1ih9iNjgzyAL0gpwNFiEP4TZS-YLRp_RuMlc/edit">우선순위</a>로 다운로드 한다.</p>
<p>그럼 fetch는 어차피 병렬이 기본인 거고(혹은 브라우저 마음일테고), </p>
<p>async도 “non-blocking” 플래그와 마찬가지로 HTML 파서가 스크립트를 해석하는 순서, 즉 실행 순서를 결정 짓는 것 뿐이란 말인가.</p>
<p>아직 자신은 없다.</p>
<p>차근 차근 각 상황을 되짚어 보자.</p>
<p>우선 async가 없는 일반적인 동적 스크립트 생성 시</p>
<ol>
<li>스크립트에서 동적으로 script element를 생성하면 기본적으로 “non-blocking” 플래그 설정됨</li>
<li>xxx.async를 찍어보면 true를 리턴하는 상태</li>
<li>다운로드 자체는 fetcher가 알아서 동적으로 다운로드 받겠지</li>
<li>“non-blocking” 상태라서 HTML 파서는 나중에 추가된 스크립트의 존재를 알고 있겠지</li>
<li>그럼 준비된(먼저 들어온) 놈부터 실행하라고 JS 엔진에게 던질 수 있겠지.</li>
</ol>
<p>다음으로 async가 true로 설정되는 경우</p>
<ol>
<li>스크립트에서 동적으로 script element를 생성하면 기본적으로 “non-blocking” 플래그 설정됨</li>
<li>xxx.async &#x3D; true하면 “non-blocking” 플래그 해제</li>
<li>HTML 내에 async attribute를 넣어 정적으로 삽입된 것 혹은 동적 스크립트 생성의 경우과 동일하게 동작함</li>
<li>그래서 다운로드 되는 놈부터 실행</li>
</ol>
<p>다음으로 스크립트로 <code>xxx.async = false</code>로 처리하면 왜 병렬로 fetch하고 실행은 순서대로 하는지 살펴보자.</p>
<p>스펙에 의하면 async는 병렬로 ‘실행’할지를 제어한다.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">bigScript.<span class="property">async</span> = <span class="literal">false</span>;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(bigScript);</span><br><span class="line">smallScript.<span class="property">async</span> = <span class="literal">false</span>;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(smallScript);</span><br></pre></td></tr></table></figure>

<ol>
<li>그럼 script는 bigScript, smallScript 순으로 추가가 될 것이고</li>
<li>xxx.async &#x3D; false;로 했으니 “non-blocking” 플래그 해제된 상태</li>
<li>smallScript가 먼저 로드가 되거나 말거나 blocking 상태에선 현재 script 블럭을 처리하기 전까지는 파서는 다음 script를 읽어들이지 않는다 </li>
<li>그러니 bigScript의 소스를 js 엔진이 지지고 볶은 후, 파서는 다음 스크립트인 smallScript를 해치운다</li>
</ol>
<p>OK. 실행이 순서대로 되는 건 알겠다.</p>
<p>결국 async는 비동기 다운로드와는 관계가 없고, 애초에 실행 순서만 관련있었던 것 같다.</p>
<p><code>async - Execute script in parallel</code></p>
<p>스펙에 써있는 그대로다.</p>
<p>참고</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.w3.org/TR/html51/semantics-scripting.html">https://www.w3.org/TR/html51/semantics-scripting.html</a></li>
<li><a target="_blank" rel="noopener" href="https://css-tricks.com/async-attribute-scripts-bottom/">https://css-tricks.com/async-attribute-scripts-bottom/</a></li>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/42092688/how-to-understand-the-term-non-blocking-of-script-tag-in-spec">https://stackoverflow.com/questions/42092688/how-to-understand-the-term-non-blocking-of-script-tag-in-spec</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://haah.kr/2017/06/28/rest-the-dissertation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="youngiggy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ha-ah">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ha-ah">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/06/28/rest-the-dissertation/" class="post-title-link" itemprop="url">REST - 논문 읽기(To Do)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-06-28 00:37:46" itemprop="dateCreated datePublished" datetime="2017-06-28T00:37:46+09:00">2017-06-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2018-02-13 15:27:02" itemprop="dateModified" datetime="2018-02-13T15:27:02+09:00">2018-02-13</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/06/28/rest-the-dissertation/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/06/28/rest-the-dissertation/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>연재 목록</p>
<ol>
<li><a href="/2017/05/22/rest-the-beginning/">REST - 긴 여정의 시작</a></li>
<li><a href="/2017/05/23/rest-http-method-in-html-form/">REST - HTML Form에서 GET&#x2F;POST만 지원하는 이유</a></li>
<li><a href="/2017/05/24/rest-the-dissertation-summary/">REST - 논문(요약) 훑어보기</a></li>
<li><a href="/2017/06/12/rest-the-big-lie/">REST - REST 좋아하시네</a></li>
<li><a href="/2017/06/26/rest-the-truth/">REST - Roy가 입을 열다</a></li>
<li><a href="/2017/06/28/rest-the-coclusion/">REST - 당신이 만든 건 REST가 아니지만 괜찮아</a></li>
<li><a href="/2017/06/28/rest-the-dissertation/">REST - 논문 읽기(To Do)</a></li>
</ol>
<h2 id="To-do"><a href="#To-do" class="headerlink" title="To do"></a>To do</h2><p>로이 필딩의 논문을 읽지 못해 생긴 부채를 여기 한장에 남겨둔다.</p>
<p>언젠가 돌아보다 생각나면 진짜 논문을 읽을 날이 오겠지.</p>
<p>그럼 그 때까지, REST in peace!</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://haah.kr/2017/06/28/rest-the-coclusion/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="youngiggy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ha-ah">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ha-ah">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/06/28/rest-the-coclusion/" class="post-title-link" itemprop="url">REST - 당신이 만든 건 REST가 아니지만 괜찮아</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-06-28 00:15:16" itemprop="dateCreated datePublished" datetime="2017-06-28T00:15:16+09:00">2017-06-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2018-02-13 15:27:02" itemprop="dateModified" datetime="2018-02-13T15:27:02+09:00">2018-02-13</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/06/28/rest-the-coclusion/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/06/28/rest-the-coclusion/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>연재 목록</p>
<ol>
<li><a href="/2017/05/22/rest-the-beginning/">REST - 긴 여정의 시작</a></li>
<li><a href="/2017/05/23/rest-http-method-in-html-form/">REST - HTML Form에서 GET&#x2F;POST만 지원하는 이유</a></li>
<li><a href="/2017/05/24/rest-the-dissertation-summary/">REST - 논문(요약) 훑어보기</a></li>
<li><a href="/2017/06/12/rest-the-big-lie/">REST - REST 좋아하시네</a></li>
<li><a href="/2017/06/26/rest-the-truth/">REST - Roy가 입을 열다</a></li>
<li><a href="/2017/06/28/rest-the-coclusion/">REST - 당신이 만든 건 REST가 아니지만 괜찮아</a></li>
<li><a href="/2017/06/28/rest-the-dissertation/">REST - 논문 읽기(To Do)</a></li>
</ol>
<p>Update: “Your API isn’t RESTful — And That’s Good”에 대한 요약번역본은 숨겨놨다가, 원문을 쓴 Trevor Reed에게 요약본을 번역하여 퍼뜨리는 것에 대해 댓글로 문의한 후, 재배포함.  </p>
<hr>
<h2 id="Hypertext-HATETOAS-for-API"><a href="#Hypertext-HATETOAS-for-API" class="headerlink" title="Hypertext, HATETOAS for API"></a>Hypertext, HATETOAS for API</h2><p>여러 동영상을 찾아보다, <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=RY_kMXEJZfk">2016년에 진행중인 API 스펙들에 관해 이야기하는 강연</a>을 봤다</p>
<ul>
<li>REST의 핵심은 hypertext이다</li>
<li>2016년의 API 스펙들<ul>
<li>JSONAPI</li>
<li>HAL</li>
<li>Hydra (JSON-LD)</li>
<li>Collection+JSON</li>
<li>…</li>
<li>GraphQL</li>
</ul>
</li>
</ul>
<p>이들 스펙 만으로는 RESTful하다고 볼 수는 없지만, hypertext에 대한 관점에 공감을 하며 이를 표준 스펙을 통해 풀어나가려는 시도가 이어지고 있다.</p>
<p>좋은 시도이고 꾸준히 발전하길 기원한다.</p>
<p>그러나 지금까지 다루었던 개발자들의 몰이해는 이런 실질적인 구현체가 없었기 때문인가?</p>
<p>튜토리얼 몇 번 따라하고 실무에 적용할 만 한가? 그러면 RESTful API가 될 수 있나?</p>
<p>어렵다고 본다.</p>
<h2 id="REST-or-not"><a href="#REST-or-not" class="headerlink" title="REST or not"></a>REST or not</h2><p>사람들이 싸우는 것은 항상 이런 식이다.</p>
<ul>
<li>제약 사항을 지키지 않았다면 그것은 REST가 아니다. 세상은 REST와 REST가 아닌 것으로 분류된다</li>
<li>현실적으로 그걸 다 지키기는 어렵다. Roy 지도 못하면서! 난 내 작품을 REST라고 부를거야</li>
</ul>
<p>수많은 논쟁을 지켜보면 든 생각은, REST에 대해 잘못 알고있는 사람들(어쩌면 당신과 나)을 비난하며 선을 긋지 말자는 것이다.</p>
<p>인터넷에 돌아다니는 99%의 글이, 그 좋은 회사(트위터, 페이스북…)에서 통용되는 용어들이, 단지 몇가지 URL 규칙과 HTTP 메소드가 필요했을 뿐인 사람들이 REST란 용어를 납치했다.</p>
<p>비슷한(?) 예로, 선풍기를 쐬고 자면 죽는다는 미신은 증명하기는 너무나 어렵고 오랜기간 광범위하게 퍼졌으며 전문가들도 경고했으며 모두가 믿기 때문에, 많은 이가 오늘도 타이머를 맞추고 잔다.</p>
<p>그러니까 난 지금 선풍기를 쐬고 자도 안 죽는다는 미신을 숭배하고 있다. 여전히 난 어떤 게 미신인지 증명할 수 없다.</p>
<p>REST뿐 아니라, IT뿐 아니라, 우리는 많은 것을 블랙박스 안에 넣어놓거나 혹은 추상화된 개념으로 이해하고 넘어간다.</p>
<p>블랙박스를 열어보니 다른 게 들어있었다면, 그저 예상과 달랐다고 담백하게 말해보자.</p>
<p>REST를 잘못 알고 있다고 해서, 그가 실력도 없고 뭔가를 자세히 알아볼 생각도 없는 겉멋든 사람이라고 할 수는 없다.</p>
<p>‘난 XX를 안다고 착각하는 부류를 알고 있어. 그런 사람들은 보통 XX한 사람들이지’라며 선풍기 타이머를 돌리지 말자는 이야기다. (물론 난 다른 이유로 타이머를 애용한다)</p>
<p>특정 관점이 다른 사람들을 경계 밖으로 몰아내 모든 교류를 끊지 않았으면 한다.</p>
<hr>
<p>로이 필딩은 REST에 관한 논문은 전문가를 위한 논문이라고 <a target="_blank" rel="noopener" href="http://roy.gbiv.com/untangled/tag/specialization">언급</a>한 적이 있다.</p>
<p>REST는 설계를 위한 지침이지 초심자도 따라할 수 있는 best practice를 제공하는 것이 아니다.</p>
<p>쉽게 말해, 어렵다.</p>
<h2 id="RESTful-gt-RESOURCEful"><a href="#RESTful-gt-RESOURCEful" class="headerlink" title="RESTful -&gt; RESOURCEful"></a>RESTful -&gt; RESOURCEful</h2><p>사실 간단한 해결책이 있다.</p>
<p>이 모든 혼란은 REST이라는 용어를 쓰지 않으면 해결된다.</p>
<p>RESTful하지 않다는 것이 실패한 디자인이라는 뜻이 아니다.</p>
<p>다만, 그동안 통용됐던 의미의 REST를 통칭할 수 있는 새로운 용어가 필요하다는 말이다.</p>
<p>마지막으로 이 글을 읽어보자.</p>
<p>이 글에서 그동안 REST라고 잘못 명명된 몇가지 구현 원칙을 RESOURCEful API라는 새로운 이름으로 재정의하고 있다.</p>
<h2 id="Your-API-isn’t-RESTful-—-And-That’s-Good"><a href="#Your-API-isn’t-RESTful-—-And-That’s-Good" class="headerlink" title="Your API isn’t RESTful — And That’s Good"></a>Your API isn’t RESTful — And That’s Good</h2><p>2016년 3월 31일에 발행된 Trevor Reed이란 사람의 블로그를 읽어보자.</p>
<p><a target="_blank" rel="noopener" href="https://medium.com/@trevorhreed/you-re-api-isn-t-restful-and-that-s-good-b2662079cf0e">https://medium.com/@trevorhreed/you-re-api-isn-t-restful-and-that-s-good-b2662079cf0e</a></p>
<p>현 상황을 가장 명확하게 정리한 글로 보인다.</p>
<h4 id="The-Background"><a href="#The-Background" class="headerlink" title="The Background"></a>The Background</h4><ul>
<li>2000년에 로이 필딩은 Architectural Styles and the Design of Network-based Software Architectures라는 논문을 발표한다</li>
<li>비슷한 시기(1999년)에 Web 2.0이니 시맨틱 웹이니 자신들의 아이디어를 더욱 혁신적으로 보이게 만들어주는 유행어가 등장한다</li>
<li>이 아이디어는 웹 서비스로 이어지고 SOAP이나 XML-RPC같은 웹 서비스를 구현하기 위한 많은 사양이 나타나기 시작했다</li>
<li>하지만 이는 구현하기 복잡하고 성능 문제도 발생했다</li>
<li>이런 API 제공을 위한 더 간단한 방식으로 월드 와이드 웹이 제기되었다</li>
<li>분산 하이퍼미디어 시스템을 위한 고도로 정교한 아키텍처 스타일이 대중적인 아이디어의 원시적인 힘과 충돌한 시점이 바로 이쯤이다.</li>
<li>사람들은 SOAP 같은 프로토콜 대신 간단하고 표준적인 대안을 원했다</li>
<li>REST의 아이디어 중 일부는 필요에 잘 부합했지만 전부는 아니었다</li>
<li>그래서 사람들은 필요한 것을 가져갔고 나머지는 무시했다.</li>
<li>REST라는 용어는 무시하지 않고 잘도 가져갔다. 그들은 새로운 웹 API 개념을 위해 그 용어를 빌려갔다</li>
<li>로이 필딩의 노력에도 불구하고, 인터넷은 REST라는 용어를 납치하여 도망쳤다</li>
<li>REST, RESTful, REST API 등의 용어는 모든 종류의 API 구현체에 사용되고 있다.</li>
</ul>
<h4 id="The-Problem"><a href="#The-Problem" class="headerlink" title="The Problem"></a>The Problem</h4><ul>
<li>API 개발을 하려는 많은 사람들이 REST를 API 구축을 위한 일련의 베스트 프랙티스로 인식한다</li>
<li>REST를 제대로 이해한다면, 그게 자신들이 예상한 것과 다르다는 걸 깨닫는다</li>
<li>이해하는 것과는 상관없이, 그게 자신들이 필요로 하는 것보다 많다는 걸 깨닫는다</li>
<li>그래서 그냥 ‘나름 RESTful’한 API를 만들어 버린다</li>
<li>REST 유스 케이스는 서버와 클라이언트가 강하게 결합하지 않아야만 한다</li>
<li>클라이언트는 서버가 제공하는 하이퍼미디어를 탐색하는 방법만 이해하면 된다</li>
<li>가장 일반적인 예는 월드 와이드 웹이다</li>
<li>브라우저는 클라이언트이고, URL은 응용프로그램 상태를 나타내며 사용자는 하이퍼미디어를 탐색하는 방법을 결정한다(링크 클릭 등)</li>
<li>많은 웹 API는 이와는 대조적으로 클라이언트와 강하게 결합되어 있고 하이퍼미디어가 부족하기 때문에 REST의 원칙을 위반한다</li>
<li>API의 엔드포인트는 클라이언트가 개발될 때 이미 알고 있고, 클라이언트 안에 하드코딩 되어 있기 때문에, API의 엔드포인트를 발견하기 위한 하이퍼미디어 사용은 불필요하다</li>
</ul>
<h4 id="The-Solution"><a href="#The-Solution" class="headerlink" title="The Solution"></a>The Solution</h4><ul>
<li>우리가 필요로하는 것은 밀접하게 결합 된 웹 API의 일반적인 사용 사례를 공식적으로 정의하고 표준화하는 것이다</li>
<li>혼란을 종식시키기 위해서는 이 개념을 새로 명명해야한다</li>
<li>이를 통해 커뮤니티는 “REST”의 개념과 혼란과는 별개로 강력한 표준 및 모범 사례를 구축 할 수 있다</li>
</ul>
<h4 id="RESOURCEful-APIs-A-New-Name-An-Old-Concept"><a href="#RESOURCEful-APIs-A-New-Name-An-Old-Concept" class="headerlink" title="RESOURCEful APIs: A New Name, An Old Concept"></a>RESOURCEful APIs: A New Name, An Old Concept</h4><ul>
<li>RESOURCEful API : 새로운 이름, 오래된 개념</li>
<li>다음의 조건을 만족할 때 RESOURCEful하다고 간주된다<ul>
<li>API는 HTTP를 전송 레이어로 사용해야만 한다 (MUST)</li>
<li>모든 API 엔드 포인트(URL)은 명사로 구성되어야 하며, 리소스, 리소스 모음 또는 리소스 속성을 나타낸다</li>
<li>컬렉션에 속한 리소스는 컬렉션 URL을 접두어로 하는 URL에서 접근할 수 있어야 한다<ul>
<li>리소스에 속한 서브 컬렉션이나 속성은 리소스의 URL을 접두어로 해서 접근할 수 있어야 한다</li>
</ul>
</li>
<li>API 버전 및 리소스 식별 매개 변수는 URL 경로에 있어야 한다<ul>
<li>다른 모든 매개변수는 쿼리 문자열 혹은 헤더에 있어야 한다</li>
</ul>
</li>
<li>실제 동작을 나타내는 API 호출은 작업큐 혹은 작업 대행자로 표시되어야 한다. 이 둘은 여전히 명사이다. 이들의 동작을 트리거하는 데는 HTTP POST 메소드가 사용되어야 한다<ul>
<li>역주) 의역하자면 “동작을 나타내는 API는 그 동작 자체를 명사로 나타내야 하며, 이때 HTTP 메소드는 POST를 사용한다” 정도로 하면 될 것 같다</li>
</ul>
</li>
<li>구현된 HTTP 메소드는 HTTP Method spec에 따라 정의된 목적으로 사용되어야 한다</li>
<li>구현된 HTTP 메소드는 안전함(Safe)과 멱등성(Idempotent) 원칙을 준수해야 한다</li>
<li>HTTP 상태코드는 정의된 용도에 따라 모든 응답에서 사용되어야 한다<ul>
<li>200은 다른 가능한 상태코드가 있을 지라도 모든 성공적인 요청 결과의 응답 코드로 사용 수 있다</li>
</ul>
</li>
<li>요청이나 응답의 본문은 자원, 자원의 모음 혹은 자원의 특성을 나타내야 한다</li>
<li>요청이나 응답의 본문의 형식은 Content-Type 헤더로 지정해야 한다</li>
<li>API가 요청 본문의 형식을 지원하지 않으면 415(Unsupported Media Type) 상태를 반환해야 한다</li>
<li>응답 본문의 형식은 가능하다면 Accept 헤더에서 요청한 형식이어야 한다<ul>
<li>API가 요청 본문의 형식을 지원하지 않으면 406(Not Acceptable) 상태를 반환해야 한다</li>
</ul>
</li>
</ul>
</li>
<li>또한 아래와 같은 우수 사례를 권장한다<ul>
<li>URL을 소문자로 만들기</li>
<li>특정 HTTP 메소드나 상태코드를 지원하지 않는 client를 위한 대체 수단을 만들기<ul>
<li>예를 들어 JSONP는 모든 응답에 200 상태 코드를 필요로 한다</li>
</ul>
</li>
<li>JSON 형식은 항상 지원할 것 - XML은 선택 사항</li>
<li>항상 HTTPS를 통해 호스팅할 것</li>
<li>API가 새로운 리소스를 생성할 때는 응답 어딘가에 해당 자원의 식별자를 반환해야 함</li>
</ul>
</li>
</ul>
<h4 id="Examples-amp-References"><a href="#Examples-amp-References" class="headerlink" title="Examples &amp; References"></a>Examples &amp; References</h4><ul>
<li>일반적인 HTTP 메소드<ul>
<li>GET — safe, idempotent —요청된 URL에서 리소스의 representation을 검색한다</li>
<li>POST — not safe, not idempotent — 제출된 리소스의 representation을 요청된 URL 아래 새로운 위치에 생성한다</li>
<li>PUT — not safe, idempotent — 제출된 리소스의 representation을 요청된 URL의 위치에 저장하고 이미 존재한다면 대체한다</li>
<li>PATCH — not safe, not (necessarily) idempotent — 제출된 정보를 통해 요청된 URL의 리소스를 부분적으로 업데이트한다. 존재하지 않는 리소스에 대한 PATCH 시도는 400 상태 코드와 함께 실패해야 한다</li>
<li>DELETE — not safe, idempotent — 요청된 URL에 있는 리소스를 삭제한다</li>
</ul>
</li>
<li>비동기 작업 큐에서 HTTP 메서드의 동작<ul>
<li>GET - 큐 또는 큐의 특정 태스크에 대한 정보 검색</li>
<li>POST - 큐에 작업 추가</li>
<li>PUT - 큐의 기존 작업 업데이트</li>
<li>PATCH - 큐에 있는 기존 작업을 부분적으로 업데이트</li>
<li>DELETE - 큐에서 작업 제거</li>
</ul>
</li>
<li>작업 대행자(agent)에 대한 HTTP 메소드의 동작<ul>
<li>GET - 에이전트 또는 그의 동작 중 하나의 상태를 검색</li>
<li>POST - 원하는 동작 트리거</li>
<li>PUT - 정의되지 않음</li>
<li>패치 - 정의되지 않음</li>
<li>DELETE - 가능한 경우 이전에 트리거 된 동작을 취소</li>
</ul>
</li>
<li>공통 HTTP 상태 코드 - 2XX 레벨 상태 코드를 제외한 모든 것이 실패로 간주된다<ul>
<li>200 OK - 응답 성공</li>
<li>201 Created - 요청 본문에 제출된 엔티티가 (동기적으로) 생성되었다</li>
<li>202 Accepted - 요청 본문에 제출된 엔티티가 생성될 것이다(비동기식으로)</li>
<li>204 No Content - 뷰를 업데이트할 필요가 없음</li>
<li>205 Reset Content - 클라이언트가 뷰를 재설정해야 한다</li>
<li>206 Partial Content - 반환된 부분 콘텐츠 (예 : 구간 설정된 혹은 페이지 별 콘텐츠)</li>
<li>400 Bad Request - 요청이 잘못되었음</li>
<li>401 Unauthorized - 클라이언트가 서버에 인증되지 않음</li>
<li>403 Forbidden - 클라이언트는 서버에 인증되었지만 요청된 자원에 대해 요청된 작업을 수행할 수있는 권한이 없음</li>
<li>405 Method Not Allowed - 요청된 URL에 사용된 HTTP 메소드가 허용되지 않음</li>
<li>409 Conflict - 작업을 수행할 때 충돌이 발생함. 예를 들어 요청이 이미 변경된 자원을 업데이트하려고 시도함</li>
<li>500 Internal Server Error - 서버의 오류가 발생했으나 처리되지 않음</li>
<li>501 Not Implemented - 요청된 자원에 대해 HTTP 메소드가 현재 구현되지 않음</li>
<li>503 Service Unavailable - 서버 또는 그것의 종속성 중 하나(예 : 데이터베이스)가 과부하, 정전 등으로 인해 응답 할 수 없음</li>
</ul>
</li>
</ul>
<h4 id="Example-Doctors-Office-API"><a href="#Example-Doctors-Office-API" class="headerlink" title="Example: Doctors Office API"></a>Example: Doctors Office API</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Resource API Endpoints:</span><br><span class="line"></span><br><span class="line">GET    /customers</span><br><span class="line">POST  /customers</span><br><span class="line">GET    /customers/&lt;id&gt;</span><br><span class="line">PUT    /customers/&lt;id&gt;</span><br><span class="line">PATCH  /customers/&lt;id&gt;</span><br><span class="line">DELETE /customers/&lt;id&gt;</span><br><span class="line">GET    /customers/&lt;id&gt;/appointments</span><br><span class="line">POST  /customers/&lt;id&gt;/appointments</span><br><span class="line">GET    /customers/&lt;id&gt;/appointments/&lt;id&gt;</span><br><span class="line">PUT    /customers/&lt;id&gt;/appointments/&lt;id&gt;</span><br><span class="line">PATCH  /customers/&lt;id&gt;/appointments/&lt;id&gt;</span><br><span class="line">DELETE /customers/&lt;id&gt;/appointments/&lt;id&gt;</span><br><span class="line">GET    /customers/&lt;id&gt;/cell_phone</span><br><span class="line">PUT    /customers/&lt;id&gt;/cell_phone</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Asynchronous Task Queue API Endpoints:</span><br><span class="line"></span><br><span class="line">GET    /outgoing-emails</span><br><span class="line">POST  /outgoing-emails</span><br><span class="line">GET    /outgoing-emails/&lt;id&gt;</span><br><span class="line">PUT    /outgoing-emails/&lt;id&gt;</span><br><span class="line">PATCH  /outgoing-emails/&lt;id&gt;</span><br><span class="line">DELETE /outgoing-emails/&lt;id&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Synchronous Agent API Endpoints:</span><br><span class="line"></span><br><span class="line">GET    /patient-discharger</span><br><span class="line">GET    /patient-discharger/&lt;id&gt;</span><br><span class="line">POST  /patient-discharger</span><br><span class="line">DELETE /patient-discharger/&lt;id&gt;</span><br></pre></td></tr></table></figure>
<h4 id="더-읽을-거리"><a href="#더-읽을-거리" class="headerlink" title="더 읽을 거리"></a>더 읽을 거리</h4><ul>
<li>아래와 같은 사이트는 모범사례로써가 아닌 RESTful API에 대한 혼란을 일으키는 사례로 포함시킨다<ul>
<li><a target="_blank" rel="noopener" href="http://www.bitnative.com/2012/08/26/how-restful-is-your-api/">http://www.bitnative.com/2012/08/26/how-restful-is-your-api/</a></li>
<li><a target="_blank" rel="noopener" href="http://www.vinaysahni.com/best-practices-for-a-pragmatic-restful-api#method-override">http://www.vinaysahni.com/best-practices-for-a-pragmatic-restful-api#method-override</a></li>
<li><a target="_blank" rel="noopener" href="http://vvv.tobiassjosten.net/development/your-api-is-not-restful/">http://vvv.tobiassjosten.net/development/your-api-is-not-restful/</a></li>
<li><a target="_blank" rel="noopener" href="https://mmikowski.github.io/the_lie/">https://mmikowski.github.io/the_lie/</a><ul>
<li>반가운 얼굴이다!</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="미신"><a href="#미신" class="headerlink" title="미신"></a>미신</h2><p>여기부터는 REST를 알지 못하는 사람들을 이해해보려 좀 더 검색한 내용을 적어볼텐데, 대단한 근거는 없다.</p>
<p>나는 그토록 뛰어난 개발자들이, 게다가 영어권에 살면서 얼마든지 로이의 논문을 비오는 일요일 오후에 슬쩍 읽어볼 수 있을 사람들이 왜 이렇게 일관된(?) 오해를 하고 있는지 궁금했다.</p>
<p>그 기원을 좀 더 찾아보려고 뒤져본 바, ROA(Resource-Oriented Architecture)에서 찾을 수 있었다.</p>
<p>앞에서 잠시 언급했던 <a target="_blank" rel="noopener" href="http://greatkim91.tistory.com/13">행복한 아빠</a>님의 블로그를 보자.</p>
<blockquote>
<p>REST(Representational State Transfer)는 HTTP의 주요 저자인 Roy Fielding의 2000년 논문에 의해 소개가 된 네트워크 아키텍처를 위한 구조이다. REST가 화두가 되면서 RET의 정체를 알아보기 위해 “RESTfull Web Services”를 읽고 이 책에서 말하는 Resource-Oriented Architecure(이하 ROA)를 나름대로 정리해 보았다.</p>
<p>ROA는 REST 기반(이하 RESTful) 웹서비스를 만들기 위한 문제점을 해결하는 방법을 제공한다.<br>ROA는 RESTful 아키텍처이다.</p>
</blockquote>
<p>(충분히 못 찾은 것일 수도 있지만) 난 2008년도에 쓰인 이 글이 한국어로 된 것 중에 REST에 대해 이해하기 가장 좋은 글이라고 생각한다.</p>
<p>이 분이 공부했다는 것이 Leonard Richardson의 <a target="_blank" rel="noopener" href="http://shop.oreilly.com/product/9780596529260.do">RESTful Web Services</a>인데<br><a target="_blank" rel="noopener" href="http://www.kyobobook.co.kr/product/detailViewKor.laf?barcode=9788956744193">한국어 번역서</a>은 절판 상태.</p>
<p>대신 마틴 파울러가 <a target="_blank" rel="noopener" href="https://martinfowler.com/articles/richardsonMaturityModel.html">이를 소개한 블로그</a>를 썼는데, 마침 지앤선이 <a target="_blank" rel="noopener" href="http://jinson.tistory.com/190">번역</a>을 해놓았다(중간중간 이해하기 어려운 문장이 보인다면 원문을 참조하기 바란다).</p>
<p>여기까지 와도 아직 REST가 잘못 이해되진 않았다. 제대로 이해하고 구현하려는 시도로 보인다.</p>
<p>위에 소개한 “Your API isn’t RESTful — And That’s Good”에서 언급된 대로,</p>
<p>REST를 이루기 위한 여러 복합적인 요소&#x2F;방법 중 자신의 결과물과 몇 가지 구현상의 공통점을 발견하고 REST란 용어만 납치했다고 봐야할 것 같다.</p>
<p>구현하기 쉬운 부분만 골라서 best practice set이 만들어진 게 아닐까.</p>
<p>하나만 기억하자,</p>
<p>서버와 클라이언트가 서로의 눈치를 보며 변화&#x2F;발전을 두려워 하고 있다면(즉, 서로에게 강한 의존성을 갖고 있다면),</p>
<p>그건 REST가 아니다.(하지만 괜찮다. REST라고 안 부르면 되니까.)</p>
<p>서버와 클라이언트는 변화에 대응하기 위해 프로토콜&#x2F;표준을 통한 약한 의존성을 가져야 한다.</p>
<p>아니 이건 수십년 간 소프트웨어 엔지니어링이 강조하고 있는 것이 아닌가!</p>
<p>마지막으로 아래의 관점도 생각해볼 만 하다.</p>
<p><a target="_blank" rel="noopener" href="https://www.thoughtworks.com/insights/blog/rest-api-design-resource-modeling">REST API Design - Resource Modeling</a></p>
<ul>
<li>현실적으로 REST API를 어떻게 다루어야 하는지 이야기하고 있다</li>
<li>“REST without PUT”이라고도 하는 기법은, 상태 변화를 위한 요청(mutation)에서 PUT을 통한 새로운 상태를 전송하지 않고, 상태 변화 자체를 리소스로 올려first class citizen noun) 사용하자는 의미이다. </li>
<li>예를 들어, 고객 주소를 갱신할 때의 대상 리소스는 customer가 아닌 ChangeOfAddress라고 정의한다 </li>
<li>이것이 CQRS 적용에 있어 부가적인 효과를 얻을 수 있다고도 하지만, 내가 CQRS나 이벤트 소싱을 알지 못하기 때문에 더 이상의 언급은 피해야겠다</li>
<li>다만 앞으로 다룰 예정인 GraphQL을 이 관점에서 바라보면 재미있을 것 같다</li>
</ul>
<h2 id="끝"><a href="#끝" class="headerlink" title="끝"></a>끝</h2><p>혹시라도 이 긴 여정을 충실히 따라오신 독자가 있다면, 진심으로 고마움과 존경을 표한다.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/10/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><span class="page-number current">11</span><a class="page-number" href="/page/12/">12</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/12/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">youngiggy</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script>

  




  




<script class="next-config" data-name="disqus" type="application/json">{"enable":true,"shortname":"youngiggy-github-io","count":true,"i18n":{"disqus":"disqus"}}</script>
<script src="/js/third-party/comments/disqus.js"></script>

</body>
</html>
