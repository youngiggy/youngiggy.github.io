<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">
<link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon_package_v0.16/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon_package_v0.16/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon_package_v0.16/favicon-16x16.png">
  <link rel="mask-icon" href="/images/favicon_package_v0.16/safari-pinned-tab.svg" color="#222">
  <link rel="manifest" href="/images/favicon_package_v0.16/site.webmanifest">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha256-/4UQcSmErDzPCMAiuOiWPVVsNN2s3ZY/NsmXNcj0IFc=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"haah.kr","root":"/","images":"/images","scheme":"Pisces","darkmode":true,"version":"8.15.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="blog">
<meta property="og:title" content="ha-ah">
<meta property="og:url" content="https://haah.kr/page/5/">
<meta property="og:site_name" content="ha-ah">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="youngiggy">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://haah.kr/page/5/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/5/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>ha-ah</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=354302543"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":354302543,"only_pageview":false}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="ha-ah" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">ha-ah</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">로그, 게으른 로그</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">youngiggy</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">114</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">50</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="mailto:youngiggy@gmail.com" title="E-Mail → mailto:youngiggy@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.facebook.com/profile.php?id=100001259884599" title="FB Page → https:&#x2F;&#x2F;www.facebook.com&#x2F;profile.php?id&#x3D;100001259884599" rel="noopener me" target="_blank"><i class="fab fa-facebook fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.instagram.com/jooyoungiggy" title="Instagram → https:&#x2F;&#x2F;www.instagram.com&#x2F;jooyoungiggy" rel="noopener me" target="_blank"><i class="fab fa-instagram fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS → &#x2F;atom.xml" rel="noopener me"><i class="fa fa-rss fa-fw"></i></a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/en" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/big/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://haah.kr/2019/06/24/php-annotated-monthly-june-2019/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="youngiggy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ha-ah">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ha-ah">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/06/24/php-annotated-monthly-june-2019/" class="post-title-link" itemprop="url">php-annotated-monthly-june-2019</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-06-24 23:33:41" itemprop="dateCreated datePublished" datetime="2019-06-24T23:33:41+09:00">2019-06-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2019-06-26 01:07:54" itemprop="dateModified" datetime="2019-06-26T01:07:54+09:00">2019-06-26</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2019/06/24/php-annotated-monthly-june-2019/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/06/24/php-annotated-monthly-june-2019/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="https://d3nmt5vlzunoa1.cloudfront.net/phpstorm/files/2018/12/new_php-annotated-monthly.jpg" alt="Php_annotated_monthly 이미지"></p>
<p>JetBrains에서 제공하는 월간 PHP Annotated Monthly <a target="_blank" rel="noopener" href="https://blog.jetbrains.com/phpstorm/2019/06/php-annotated-monthly-june-2019/">6월호</a>입니다.</p>
<p>이 중에서 몇 가지 제 취향껏 골라 그 안의 내용도 좀 뒤져보고 개발새발 번역해서 소개합니다.</p>
<hr>
<h1 id="News-amp-Releases"><a href="#News-amp-Releases" class="headerlink" title="News &amp; Releases"></a>News &amp; Releases</h1><h2 id="PHP-7-4-0-alpha-1"><a href="#PHP-7-4-0-alpha-1" class="headerlink" title="PHP 7.4.0 alpha 1"></a>PHP 7.4.0 alpha 1</h2><p><a target="_blank" rel="noopener" href="https://www.php.net/archive/2019.php#id2019-06-13-1">https://www.php.net/archive/2019.php#id2019-06-13-1</a></p>
<p>PHP 7.4의 첫 알파 버전이 나왔습니다. 6개월 간의 <a target="_blank" rel="noopener" href="https://wiki.php.net/todo/php74#timetable">pre-release 단계</a>를 시작하는데, 마지막 단계인 GA는 11월 말에 예정되어 있습니다. 정식 버전은 12월일 것으로 예상합니다.</p>
<p>7.4에 관한 overview는 <a target="_blank" rel="noopener" href="https://stitcher.io/blog/new-in-php-74">What’s new in PHP 7.4</a>에서 보거나 Nikita Popov가 PHP Russia에서 발표한 동영상을 보셔도 좋습니다.</p>
<h2 id="Doctrine-Company-LLC"><a href="#Doctrine-Company-LLC" class="headerlink" title="Doctrine Company, LLC"></a>Doctrine Company, LLC</h2><p><a target="_blank" rel="noopener" href="https://www.doctrine-project.org/2019/05/21/monetizing-open-source.html">https://www.doctrine-project.org/2019/05/21/monetizing-open-source.html</a></p>
<p>10년 간 Doctrine을 오픈 소스로 이끌었던 팀이 재정적으로 지속 가능하게하기 위한 목적으로 회사를 설립했습니다. 이제 프로젝트를 공식적으로 후원하거나 교육 또는 컨설팅을 요청하거나 웹 세미나에 참여할 수 있습니다…만 좀 멀죠.</p>
<h2 id="Bref-is-now-backed-by-null-the-company"><a href="#Bref-is-now-backed-by-null-the-company" class="headerlink" title="Bref is now backed by null, the company"></a>Bref is now backed by null, the company</h2><p><a target="_blank" rel="noopener" href="https://mnapoli.fr/bref-is-backed-by-null/">https://mnapoli.fr/bref-is-backed-by-null/</a></p>
<p>Serverless PHP app을 만드는데 도움을 주는 <a target="_blank" rel="noopener" href="https://github.com/brefphp/bref">Bref</a>가 null이라는 회사의 지원을 받는다(is backed)고 합니다.  Bref를 만든 <a target="_blank" rel="noopener" href="https://mnapoli.fr/">Matthieu Napoli</a>란 사람이 더욱 본격적으로 발전시키기 위해 회사를 만들고 이것 저것 한다는 소식.</p>
<h2 id="PHP-Versions-Stats-2019-1-Edition"><a href="#PHP-Versions-Stats-2019-1-Edition" class="headerlink" title="PHP Versions Stats - 2019.1 Edition"></a>PHP Versions Stats - 2019.1 Edition</h2><p><a target="_blank" rel="noopener" href="https://blog.packagist.com/php-versions-stats-2019-1-edition/">https://blog.packagist.com/php-versions-stats-2019-1-edition/</a></p>
<p><a href="http://haah.kr/2018/12/11/php-annotated-monthly-december-2018-1st/">작년 12월에도 annotated monthly</a>를 통해 공유했던 사이트입니다. 2019년 새로운 통계가 발표되어 소개됐습니다.</p>
<p><a target="_blank" rel="noopener" href="https://www.jetbrains.com/lp/devecosystem-2019/php/">Jet Brains의 결과</a>와는 조금 다른데 비교해 보셔도 재미있습니다.</p>
<h2 id="PhpStorm-2019-2-EAP"><a href="#PhpStorm-2019-2-EAP" class="headerlink" title="PhpStorm 2019.2 EAP"></a>PhpStorm 2019.2 EAP</h2><p><a target="_blank" rel="noopener" href="https://blog.jetbrains.com/phpstorm/2019/05/phpstorm-2019-2-early-access-program-is-open/">https://blog.jetbrains.com/phpstorm/2019/05/phpstorm-2019-2-early-access-program-is-open/</a></p>
<p>PhpStorm 2019.2 EAP가 발표됐다는 소식입니다.</p>
<h1 id="PHP-Internals"><a href="#PHP-Internals" class="headerlink" title="PHP Internals"></a>PHP Internals</h1><h2 id="RFC-Allow-throwing-exceptions-from-toString"><a href="#RFC-Allow-throwing-exceptions-from-toString" class="headerlink" title="[RFC] Allow throwing exceptions from __toString()"></a>[RFC] Allow throwing exceptions from __toString()</h2><p><a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/tostring_exceptions">https://wiki.php.net/rfc/tostring_exceptions</a></p>
<p><code>__toString()</code> 안에서 exception을 throw할 수 있는 RFC가 만장일치로 통과됐습니다. <a target="_blank" rel="noopener" href="http://phpsadness.com/">PHP Sadness</a>에서 하나 줄었네요!</p>
<h2 id="RFC-Nullsafe-Calls"><a href="#RFC-Nullsafe-Calls" class="headerlink" title="[RFC] Nullsafe Calls"></a>[RFC] Nullsafe Calls</h2><p><a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/nullsafe_calls">https://wiki.php.net/rfc/nullsafe_calls</a></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$o</span>?-&gt;<span class="title function_ invoke__">mayFail1</span>()?-&gt;<span class="title function_ invoke__">mayFail2</span>()?-&gt;<span class="title function_ invoke__">mayFail3</span>()?-&gt;<span class="title function_ invoke__">mayFail4</span>();</span><br></pre></td></tr></table></figure>

<p>“nullsafe”한 새로운 연산자에 대한 제안이 올라왔습니다. 2014년에 처음 올라왔던 것이라고 합니다.</p>
<p>ECMAScript 쪽에서도 <a target="_blank" rel="noopener" href="https://github.com/tc39/proposal-optional-chaining">이미 제안이 올라와있고</a>, Hack은 <a target="_blank" rel="noopener" href="https://docs.hhvm.com/hack/expressions-and-operators/null-safe-member-selection">이미 구현</a> 했다는군요.</p>
<h2 id="RFC-Alternative-“use”-syntax-for-Closures"><a href="#RFC-Alternative-“use”-syntax-for-Closures" class="headerlink" title="[RFC] Alternative “use” syntax for Closures"></a>[RFC] Alternative “use” syntax for Closures</h2><p><a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/alternative-closure-use-syntax">https://wiki.php.net/rfc/alternative-closure-use-syntax</a></p>
<p>Closure 내부에서 use를 사용할 수 있게 하는 제안이 올라왔습니다.</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// This is how it looks now</span></span><br><span class="line"><span class="variable">$closure</span> = <span class="function"><span class="keyword">function</span> (<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">    ArgumentType <span class="variable">$argument1</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    ArgumentType <span class="variable">$argument2</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    ArgumentType <span class="variable">$argument3</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    ArgumentType <span class="variable">$argument4</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>) <span class="keyword">use</span> (<span class="params"><span class="variable">$importVariable1</span>, &amp;<span class="variable">$importVariable2</span>, <span class="variable">$importVariable3</span>, &amp;<span class="variable">$importVariable4</span></span>): <span class="title">ReturnType</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// This is proposed</span></span><br><span class="line"><span class="variable">$closure</span> = <span class="function"><span class="keyword">function</span> (<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">    ArgumentType <span class="variable">$argument1</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    ArgumentType <span class="variable">$argument2</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    ArgumentType <span class="variable">$argument3</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    ArgumentType <span class="variable">$argument4</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>): <span class="title">ReturnType</span> </span>&#123;</span><br><span class="line">    <span class="keyword">use</span> $<span class="title">importVariable1</span>, &amp;$<span class="title">importVariable2</span>;</span><br><span class="line">    <span class="keyword">use</span> $<span class="title">importVariable3</span>, &amp;$<span class="title">importVariable4</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="PHP-Internals-News-13-14"><a href="#PHP-Internals-News-13-14" class="headerlink" title="PHP Internals News #13, #14"></a>PHP Internals News #13, #14</h2><p><a target="_blank" rel="noopener" href="https://phpinternals.news/13">https://phpinternals.news/13</a><br><a target="_blank" rel="noopener" href="https://phpinternals.news/14">https://phpinternals.news/14</a></p>
<p>PHP Internal을 다루는 방송인 <a target="_blank" rel="noopener" href="https://phpinternals.news/">PHP Internals News</a>의 새로운 에피소드도 소개됐습니다.</p>
<p>13화에서는 PHP 7.2와 7.4의 RM(Release Manager)인 Sara Goleman과 Derick Rethans, 14화에서는 Nikita Popov가 <code>__toString()</code> Exception에 관해 이야기 합니다.</p>
<h1 id="기타-읽을-만한-글"><a href="#기타-읽을-만한-글" class="headerlink" title="기타 읽을 만한 글"></a>기타 읽을 만한 글</h1><h2 id="PHP-Generics-Today-almost"><a href="#PHP-Generics-Today-almost" class="headerlink" title="PHP Generics Today (almost)"></a>PHP Generics Today (almost)</h2><p><a target="_blank" rel="noopener" href="https://www.daveliddament.co.uk/articles/php-generics-today-almost/">https://www.daveliddament.co.uk/articles/php-generics-today-almost/</a></p>
<p>PHP에서 Generic(<a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/generics">RFC</a>)을 지원하는 것이 <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=teKnckg5x7I&feature=youtu.be&t=1121">어렵기 때문에</a> 언어 레벨에서 지원하려면 몇년이 걸릴 지도 모른다면서, 기존 툴을 사용해서 Generic을 쓸 수 있는 방법을 설명합니다.</p>
<p>글쓴이는 이미 커뮤니티에서는 비공식적이지만 Generic을 위한 docblock의 사용이 널리 퍼져 있음을 이야기 합니다.<br>Phan, Psalm, PhpStorm 등의 정적 분석 툴을 비교하고 소개하고 있습니다. 나아가 third party 라이브러리를 위해서는 Stub을 생성하는 방법도 보여줍니다.</p>
<h2 id="Tests-and-types"><a href="#Tests-and-types" class="headerlink" title="Tests and types"></a>Tests and types</h2><p><a target="_blank" rel="noopener" href="https://stitcher.io/blog/tests-and-types">https://stitcher.io/blog/tests-and-types</a></p>
<p>위 Generic에 관한 글과 함께 보면 좋겠습니다. 강한 타입을 기반으로 테스트를 하는 것을 장점을 이야기 하고, 이렇게 타입을 늘려나가는 것에 관한 저자의 소신과 <a target="_blank" rel="noopener" href="https://www.destroyallsoftware.com/talks/ideology">재미있는 세미나 영상</a>을 소개하기도 합니다.</p>
<h2 id="GitHub-Actions-for-PHP-Developers"><a href="#GitHub-Actions-for-PHP-Developers" class="headerlink" title="GitHub Actions for PHP Developers"></a>GitHub Actions for PHP Developers</h2><p><a target="_blank" rel="noopener" href="https://stefanzweifel.io/posts/github-actions-for-php-developers/">https://stefanzweifel.io/posts/github-actions-for-php-developers/</a></p>
<p>GitHub Actions에 PHP와 관련한 세가지 Action을 붙이는 과정을 보여줍니다.</p>
<ul>
<li>Run your phpunit test suite</li>
<li>Run phpinsights</li>
<li>Run php-cs-fixer</li>
</ul>
<h2 id="A-Look-At-PHP’s-isset"><a href="#A-Look-At-PHP’s-isset" class="headerlink" title="A Look At PHP’s isset()"></a>A Look At PHP’s isset()</h2><p><a target="_blank" rel="noopener" href="https://medium.com/@liamhammett/a-look-at-phps-isset-df64df7158ab">https://medium.com/@liamhammett/a-look-at-phps-isset-df64df7158ab</a></p>
<p>isset은 함수가 아닙니다. ..로 시작해서 isset의 다양한 특징을 보여줍니다. </p>
<h2 id="Don’t-just-float-swim-with-the-floating-point"><a href="#Don’t-just-float-swim-with-the-floating-point" class="headerlink" title="Don’t just float, swim with the floating point"></a>Don’t just float, swim with the floating point</h2><p><a target="_blank" rel="noopener" href="https://jiripudil.cz/blog/dont-just-float-swim-with-the-floating-point">https://jiripudil.cz/blog/dont-just-float-swim-with-the-floating-point</a></p>
<p>PHP에서 부동소수점을 다루는 방법</p>
<h2 id="Global-States"><a href="#Global-States" class="headerlink" title="Global States"></a>Global States</h2><p><a target="_blank" rel="noopener" href="https://thevaluable.dev/global-variable-states/">https://thevaluable.dev/global-variable-states/</a></p>
<p>전역의 변경 가능한 상태 값을 최대한 없애자는 이야기</p>
<h2 id="How-to-Mock-Final-Classes-in-PHPUnit"><a href="#How-to-Mock-Final-Classes-in-PHPUnit" class="headerlink" title="How to Mock Final Classes in PHPUnit"></a>How to Mock Final Classes in PHPUnit</h2><p><a target="_blank" rel="noopener" href="https://www.tomasvotruba.cz/blog/2019/03/28/how-to-mock-final-classes-in-phpunit/">https://www.tomasvotruba.cz/blog/2019/03/28/how-to-mock-final-classes-in-phpunit/</a></p>
<p>PHPUnit에서 Final로 선언된 클래스를 mocking 하기 (<a target="_blank" rel="noopener" href="https://github.com/dg/bypass-finals">dg&#x2F;bypass-finals</a>를 사용함)</p>
<h2 id="Reflecting-architecture-and-domain-in-code"><a href="#Reflecting-architecture-and-domain-in-code" class="headerlink" title="Reflecting architecture and domain in code"></a>Reflecting architecture and domain in code</h2><p><a target="_blank" rel="noopener" href="https://herbertograca.com/2019/06/05/reflecting-architecture-and-domain-in-code/">https://herbertograca.com/2019/06/05/reflecting-architecture-and-domain-in-code/</a></p>
<p>소프트웨어 아키텍처 이야기</p>
<h2 id="PHP-Framework-Trends"><a href="#PHP-Framework-Trends" class="headerlink" title="PHP Framework Trends"></a>PHP Framework Trends</h2><p><a target="_blank" rel="noopener" href="https://www.tomasvotruba.cz/php-framework-trends/">https://www.tomasvotruba.cz/php-framework-trends/</a></p>
<p>Symfony가 압도적입니다. 심지어 Laravel 다운로드 수는 포함하지 않았다고 합니다.</p>
<h2 id="Structuring-the-Docker-setup-for-PHP-Projects"><a href="#Structuring-the-Docker-setup-for-PHP-Projects" class="headerlink" title="Structuring the Docker setup for PHP Projects"></a>Structuring the Docker setup for PHP Projects</h2><p><a target="_blank" rel="noopener" href="https://www.pascallandau.com/blog/structuring-the-docker-setup-for-php-projects/">https://www.pascallandau.com/blog/structuring-the-docker-setup-for-php-projects/</a></p>
<p>PHP 개발 환경으로 Docker를 구성할 때 도움이 될 것으로 보입니다. 아래와 같은 내용을 담고 있네요.</p>
<ul>
<li>폴더 구조</li>
<li>Dockerfile templates</li>
<li>공통적으로 나타나는 문제 해결 (file permissions, runtime configuration, …)</li>
</ul>
<h1 id="Tools-Symfony-Laravel"><a href="#Tools-Symfony-Laravel" class="headerlink" title="Tools, Symfony, Laravel"></a>Tools, Symfony, Laravel</h1><p>나머지 부분은 특별히 번역은 안 하고 넘어 가겠습니다. 관심 있어 찾아보신 분은 댓글로 공유 부탁합니다.</p>
<h2 id="Tools"><a href="#Tools" class="headerlink" title="Tools"></a>Tools</h2><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/badoo/liveprof">badoo&#x2F;liveprof</a><ul>
<li>A PHP performance monitoring tool. See the introductory post and live demo.</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/remotelyliving/php-dns">remotelyliving&#x2F;php-dns</a><ul>
<li>A DNS abstraction for PHP that allows querying DNS records with different strategies.</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/BrainMaestro/composer-git-hooks">BrainMaestro&#x2F;composer-git-hooks</a><ul>
<li>Easily manage git hooks in your composer config.</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/hirak/prestissimo">hirak&#x2F;prestissimo</a><ul>
<li>A composer plugin to download packages in parallel and increase the speed of the install.</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ronanguilloux/IsoCodes">ronanguilloux&#x2F;IsoCodes</a><ul>
<li>Validators for the standards from ISO, such as international finance, public administration, book industry, phone numbers, and zip codes for many countries.</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/terrylinooo/shieldon">terrylinooo&#x2F;shieldon</a><ul>
<li>Anti-scraping and online session control for your web application.</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/goldspecdigital/oooas">goldspecdigital&#x2F;oooas</a><ul>
<li>This allows you to build OpenAPI spec using PHP classes, and then export the spec to JSON.</li>
</ul>
</li>
</ul>
<h2 id="Symfony"><a href="#Symfony" class="headerlink" title="Symfony"></a>Symfony</h2><ul>
<li><p><a target="_blank" rel="noopener" href="https://symfony.com/blog/symfony-4-3-0-released">Symfony 4.3.0</a></p>
<ul>
<li>The release introduces new components HttpClient (cheat sheet), Mailer, and Mime as well as many other improvements described in this detailed blog series. Also, support of version 2.7 has ended.</li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.theodo.com/2019/05/serverless-symfony-on-aws-lambda-with-bref/">Deploying serverless Symfony apps on AWS Lambda with Bref</a></p>
</li>
</ul>
<h2 id="Laravel"><a href="#Laravel" class="headerlink" title="Laravel"></a>Laravel</h2><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/illuminatech/config">illuminatech&#x2F;config</a><ul>
<li>Manage a Laravel configuration by persistent storage.</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/pipe-dream/laravel">pipe-dream&#x2F;laravel</a><ul>
<li>This allows you to describe all the entities in a simple text file and then generate boilerplate code for Laravel applications rapidly. Demo.</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/spatie/laravel-webhook-server">spatie&#x2F;laravel-webhook-server, spatie&#x2F;laravel-webhook-client</a><ul>
<li>A couple of packages for quickly getting started with webhooks.</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://matthiasnoback.nl/2019/06/laravel-observations-part-1/">Matthias Noback Learning Laravel</a><ul>
<li>Observations, part 1: The service container</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://freek.dev/1371-refactoring-to-actions">Refactoring to actions</a></li>
<li><a target="_blank" rel="noopener" href="https://laraveldaily.com/40-additional-laravel-validation-rules/">40 Additional Laravel Validation Rules</a></li>
<li>🎥 Stream on implementing a PR to <a target="_blank" rel="noopener" href="https://github.com/spatie/laravel-newsletter">spatie&#x2F;laravel-newsletter</a>. Also, see <a target="_blank" rel="noopener" href="https://www.youtube.com/user/thejasonmccreary/videos">other streams by Jason McCreary</a>.</li>
<li>🔈 Taylor’s Podcast <a target="_blank" rel="noopener" href="https://blog.laravel.com/laravel-snippet-13">Laravel Snippet #13</a><ul>
<li>On laravel&#x2F;ui, monetizing open source, Laracon 2019.</li>
</ul>
</li>
<li>🎥 <a target="_blank" rel="noopener" href="https://www.pscp.tv/w/1vOxwqYbjpLGB">Taylor Otwell’s Q&amp;A session</a> at Laravel Live UK 2019</li>
<li>🎥 Dries Vints demonstrates how he <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=a8xAxLzIFs8">maintains Laravel</a></li>
</ul>
<h2 id="Security"><a href="#Security" class="headerlink" title="Security"></a>Security</h2><ul>
<li><a target="_blank" rel="noopener" href="https://blog.ripstech.com/2019/mybb-stored-xss-to-rce/">MyBB &lt;&#x3D; 1.8.20: From Stored XSS to RCE</a><ul>
<li>Two critical vulnerabilities allow attackers to take over #MyBB boards with a malicious private message.</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://haah.kr/2019/05/14/php-annotated-monthly-may-2019/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="youngiggy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ha-ah">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ha-ah">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/05/14/php-annotated-monthly-may-2019/" class="post-title-link" itemprop="url">php-annotated-monthly-may-2019</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-05-14 00:11:50" itemprop="dateCreated datePublished" datetime="2019-05-14T00:11:50+09:00">2019-05-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2019-05-18 23:27:10" itemprop="dateModified" datetime="2019-05-18T23:27:10+09:00">2019-05-18</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2019/05/14/php-annotated-monthly-may-2019/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/05/14/php-annotated-monthly-may-2019/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="https://d3nmt5vlzunoa1.cloudfront.net/phpstorm/files/2018/12/new_php-annotated-monthly.jpg" alt="Php_annotated_monthly 이미지"></p>
<p>JetBrains에서 제공하는 월간 PHP Annotated Monthly <a target="_blank" rel="noopener" href="https://blog.jetbrains.com/phpstorm/2019/05/php-annotated-monthly-may-2019/">5월호</a>입니다.</p>
<p>이 중에서 몇 가지 제 취향껏 골라 그 안의 내용도 좀 뒤져보고 개발새발 번역해서 소개합니다.</p>
<hr>
<h1 id="News-amp-Releases"><a href="#News-amp-Releases" class="headerlink" title="News &amp; Releases"></a>News &amp; Releases</h1><h2 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h2><ul>
<li><a target="_blank" rel="noopener" href="https://www.php.net/ChangeLog-7.php#7.3.5">PHP 7.3.5</a></li>
<li><a target="_blank" rel="noopener" href="https://www.php.net/ChangeLog-7.php#7.2.18">PHP 7.2.18</a></li>
<li><a target="_blank" rel="noopener" href="https://www.php.net/ChangeLog-7.php#7.1.29">PHP 7.1.29</a></li>
</ul>
<h2 id="WordPress-5-2-“Jaco”"><a href="#WordPress-5-2-“Jaco”" class="headerlink" title="WordPress 5.2 “Jaco”"></a>WordPress 5.2 “Jaco”</h2><p><a target="_blank" rel="noopener" href="https://wordpress.org/news/2019/05/jaco/">https://wordpress.org/news/2019/05/jaco/</a></p>
<p>2013년 10월 24일에 릴리즈 된 WordPress 3.7부터 보안 수정 사항을 자동으로 업데이트 하는 기능이 도입되었는데, 이게 오히려 공격 대상이 되어 가짜 자동 업데이트를 심을 수 있는 위험이 있었다고 합니다. 5.2 버전인 “Jaco”부터는 이를 보완했다는 말인데,</p>
<blockquote>
<p>Before WordPress 5.2, if you wanted to infect every WordPress site on the Internet (approximately 33.8% of websites as of this writing), you just had to hack their update server</p>
</blockquote>
<p>5.2 이전의 WordPress 웹사이트(전체 인터넷의 33.8%에 해당하는)에는 업데이트 서버만 공격하면 된다고 하는 걸 보니, 해커 여러분들은 5.2 버전이 보급되기 전에 털어야 합니다.</p>
<h2 id="Codeception-3-0"><a href="#Codeception-3-0" class="headerlink" title="Codeception 3.0"></a>Codeception 3.0</h2><p><a target="_blank" rel="noopener" href="https://codeception.com/04-24-2019/codeception-3.0">https://codeception.com/04-24-2019/codeception-3.0</a></p>
<blockquote>
<p>Improved interactive shell, retry steps, PHPUnit 8 support, and other things.</p>
</blockquote>
<h2 id="Zend-Framework-transitions-to-Linux-Foundation"><a href="#Zend-Framework-transitions-to-Linux-Foundation" class="headerlink" title="Zend Framework transitions to Linux Foundation"></a>Zend Framework transitions to Linux Foundation</h2><p><a target="_blank" rel="noopener" href="https://framework.zend.com/blog/2019-04-17-announcing-laminas.html">https://framework.zend.com/blog/2019-04-17-announcing-laminas.html</a></p>
<p>Zend Framework이 리눅스 재단 아래로 들어가면서 <a target="_blank" rel="noopener" href="https://getlaminas.org/">Laminas</a>라는 이름으로 바뀌었다고 합니다. 이 새로운 조직에서 Zend Framework은 물론 <a target="_blank" rel="noopener" href="https://getexpressive.org/">Expressive</a> microframework, <a target="_blank" rel="noopener" href="https://apigility.org/">Apigility</a> 같은 프로젝트를 다루게 된다고 합니다. Repo에는 아직 별 내용은 없지만 몇 달 안으로 전체 전환이 이뤄질 것으로 보입니다.</p>
<h1 id="PHP-Internals"><a href="#PHP-Internals" class="headerlink" title="PHP Internals"></a>PHP Internals</h1><h2 id="RFC-Arrow-Functions-2-0"><a href="#RFC-Arrow-Functions-2-0" class="headerlink" title="[RFC] Arrow Functions 2.0"></a>[RFC] Arrow Functions 2.0</h2><p><a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/arrow_functions_v2#vote">https://wiki.php.net/rfc/arrow_functions_v2#vote</a></p>
<p>새로운 화살표 함수에 대한 스펙이 드디어 accepted 됐고, PHP 7.4부터 반영될 것으로 보입니다. fn 키워드를 사용하게 되고, 자동 바인딩 됩니다!!</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$y</span> = <span class="number">1</span>;</span><br><span class="line"><span class="variable">$fn</span> = <span class="function"><span class="keyword">fn</span>(<span class="params"><span class="variable">$x</span></span>) =&gt;</span> <span class="variable">$x</span> + <span class="variable">$y</span>;</span><br></pre></td></tr></table></figure>

<p>JavaScript와의 사용법은 약간 다르기 때문에 문법을 확실히 익히고 써야할 것입니다.</p>
<p>2015년 <a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/short_closures">Short Closures</a>, 2016년 <a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/arrow_functions">Arrow Functions</a>까지 많은 논쟁이 있었는데요. 그 동안 왜 통과가 안됐는지에 관해선 <a target="_blank" rel="noopener" href="https://www.reddit.com/r/PHP/comments/4mbp3u/arrow_functions/">reddit에 올라온 글</a>을 참고하셔도 되겠습니다.</p>
<h2 id="RFC-Deprecate-PHP-Short-open-tags"><a href="#RFC-Deprecate-PHP-Short-open-tags" class="headerlink" title="[RFC] Deprecate PHP Short open tags"></a>[RFC] Deprecate PHP Short open tags</h2><p><a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/deprecate_php_short_tags">https://wiki.php.net/rfc/deprecate_php_short_tags</a></p>
<p>드디어 <code>&lt;?</code> 태그가 없어지기로 되어 있지만(7.4에서 default OFF, 8.0에서 제거) 여전히 반발이 심하다는군요.</p>
<h2 id="RFC-Spread-Operator-in-Array-Expression"><a href="#RFC-Spread-Operator-in-Array-Expression" class="headerlink" title="[RFC] Spread Operator in Array Expression"></a>[RFC] Spread Operator in Array Expression</h2><p><a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/spread_operator_for_array">https://wiki.php.net/rfc/spread_operator_for_array</a></p>
<p>거의 만장일치(43:1)로 통과된 스펙입니다. PHP 7.4부터는 Array에서도 spread 문법을 쓸 수 있어요. </p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$parts</span> = [<span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;pear&#x27;</span>];</span><br><span class="line"><span class="variable">$fruits</span> = [<span class="string">&#x27;banana&#x27;</span>, <span class="string">&#x27;orange&#x27;</span>, ...<span class="variable">$parts</span>, <span class="string">&#x27;watermelon&#x27;</span>];</span><br><span class="line"><span class="comment">// [&#x27;banana&#x27;, &#x27;orange&#x27;, &#x27;apple&#x27;, &#x27;pear&#x27;, &#x27;watermelon&#x27;];</span></span><br></pre></td></tr></table></figure>

<p>Iterator를 array로 변환하는 용도로도 사용됩니다.</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$array</span> = [...<span class="variable">$iter</span>];</span><br></pre></td></tr></table></figure>

<h2 id="RFC-Allow-throwing-exceptions-from-toString"><a href="#RFC-Allow-throwing-exceptions-from-toString" class="headerlink" title="[RFC] Allow throwing exceptions from __toString()"></a>[RFC] Allow throwing exceptions from __toString()</h2><p><a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/tostring_exceptions">https://wiki.php.net/rfc/tostring_exceptions</a></p>
<p>Nikita가 <a target="_blank" rel="noopener" href="http://phpsadness.com/">“PHP Sadnesses”</a>에 있는 문제를 하나 하나 해결해 나가고 있다고 합니다. PHP 7.4를 목표로 하는 RFC이고 투표가 통과되면 <code>__toString()</code>에서도 exception을 던질 수 있습니다.</p>
<h2 id="RFC-Deprecate-left-associative-ternary-operator"><a href="#RFC-Deprecate-left-associative-ternary-operator" class="headerlink" title="[RFC] Deprecate left-associative ternary operator"></a>[RFC] Deprecate left-associative ternary operator</h2><p><a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/ternary_associativity">https://wiki.php.net/rfc/ternary_associativity</a></p>
<p>타 언어와 다르게 동작하는 PHP의 삼항연산자를 개선하고자 중첩된 삼항연산을 deprecated 처리한다는 내용입니다. 이제는(target은 PHP 7.4 혹은 8.0) 중첩된 삼항연산에 명시적으로 괄호를 넣어야 합니다.</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span> ? <span class="number">2</span> : <span class="number">3</span> ? <span class="number">4</span> : <span class="number">5</span>;   <span class="comment">// deprecated</span></span><br><span class="line">(<span class="number">1</span> ? <span class="number">2</span> : <span class="number">3</span>) ? <span class="number">4</span> : <span class="number">5</span>; <span class="comment">// ok</span></span><br><span class="line"><span class="number">1</span> ? <span class="number">2</span> : (<span class="number">3</span> ? <span class="number">4</span> : <span class="number">5</span>); <span class="comment">// ok</span></span><br></pre></td></tr></table></figure>

<h2 id="New-in-PHP-7-4"><a href="#New-in-PHP-7-4" class="headerlink" title="New in PHP 7.4."></a>New in PHP 7.4.</h2><p><a target="_blank" rel="noopener" href="https://stitcher.io/blog/new-in-php-74">https://stitcher.io/blog/new-in-php-74</a></p>
<p><a target="_blank" rel="noopener" href="https://wiki.php.net/rfc#php_74">Accepted 된 RFC</a>를 기준으로 PHP 7.4에는 뭐가 달라지는지 정리한 글입니다. PHP 7.4는 2019년 12월 릴리즈 예정입니다.</p>
<ul>
<li>Short closures for cleaner one-liner functions</li>
<li>Preloading to improve performance</li>
<li>Typed properties in classes</li>
<li>Custom object serialization adds a new way of (de)serializing objects</li>
<li>Improved type variance</li>
<li>The Null coalescing assignment operator as a shorthand</li>
<li>FFI opens up new opportunities for extension development in PHP</li>
<li>Short open tags are deprecated</li>
<li>Spread operator in arrays</li>
<li>And more</li>
</ul>
<p>어떤 변화가 가장 마음에 드시나요? 저는 Preloading에 거는 기대가 큽니다.</p>
<h2 id="Derick-Rethans-has-recorded-a-whole-load-of-new-episodes-of-PHP-Internals-News"><a href="#Derick-Rethans-has-recorded-a-whole-load-of-new-episodes-of-PHP-Internals-News" class="headerlink" title="Derick Rethans has recorded a whole load of new episodes of PHP Internals News:"></a>Derick Rethans has recorded a whole load of new episodes of PHP Internals News:</h2><p><a target="_blank" rel="noopener" href="https://phpinternals.news/">https://phpinternals.news/</a></p>
<p>PHP Internals에 관한 팟캐스트(?)가 있습니다. </p>
<p>🔈 <a target="_blank" rel="noopener" href="https://phpinternals.news/6">#6</a> — On PHP and extensions quality with Remi Collet.<br>🔈 <a target="_blank" rel="noopener" href="https://phpinternals.news/7">#7</a> — On JIT in PHP 8 and earlier attempts with Zeev Suraski.<br>🔈 <a target="_blank" rel="noopener" href="https://phpinternals.news/8">#8</a> — On Short tags with George Banyard.<br>🔈 <a target="_blank" rel="noopener" href="https://phpinternals.news/9">#9</a> — On bundled extensions with Kalle Nielsen.</p>
<h1 id="Tools"><a href="#Tools" class="headerlink" title="Tools"></a>Tools</h1><p>Tools 항목은 번역 생략합니다.</p>
<h1 id="기타-읽을-만한-글"><a href="#기타-읽을-만한-글" class="headerlink" title="기타 읽을 만한 글"></a>기타 읽을 만한 글</h1><h2 id="A-PHP-Compiler-aka-The-FFI-Rabbit-Hole"><a href="#A-PHP-Compiler-aka-The-FFI-Rabbit-Hole" class="headerlink" title="A PHP Compiler, aka The FFI Rabbit Hole"></a>A PHP Compiler, aka The FFI Rabbit Hole</h2><p><a target="_blank" rel="noopener" href="https://blog.ircmaxell.com/2019/04/compilers-ffi.html">https://blog.ircmaxell.com/2019/04/compilers-ffi.html</a></p>
<p><a href="/2019/03/19/php-annotated-monthly-march-2019/">PHP Annotated Monthly 3월호</a>에도 소개됐던 ircmaxell&#x2F;<a target="_blank" rel="noopener" href="https://github.com/ircmaxell/php-compiler">php-compiler</a>를 만들고 있는 Anthony Ferrara의 글입니다.</p>
<p>찬찬히 읽어보고 소개해드리려고 보니 엄청난 양이라서 목차나 소개하고 넘어가겠습니다.</p>
<ol>
<li>JIT? AOT? VM? What The Heck?<br>1.1. Types of Compilers<br>1.2. Some more definitions</li>
<li>A bit of (relevant) history</li>
<li>Enter PHP 7.4 and FFI<br>3.1. FFIMe<br>3.2. PHP-CParser<br>3.3. PHP-Compiler<br>3.4. PHP-Compiler-Toolkit<br>3.5. PHP-LLVM<br>3.6. PHP-ELF-SymbolResolver</li>
<li>The case for macros</li>
<li>How do I run any of this?<br>5.1. Running FFIMe:<br>5.2. Running PHP-Compiler Natively<br>5.3. Running PHP-Compiler With Docker</li>
<li>What’s Next</li>
</ol>
<h2 id="PSR-14-The-series"><a href="#PSR-14-The-series" class="headerlink" title="PSR-14: The series"></a>PSR-14: The series</h2><ul>
<li><a target="_blank" rel="noopener" href="https://steemit.com/php/@crell/psr-14-a-major-event-in-php">A major event in PHP</a></li>
<li><a target="_blank" rel="noopener" href="https://steemit.com/php/@crell/psr-14-all-about-events">All about Events</a></li>
<li><a target="_blank" rel="noopener" href="https://steemit.com/php/@crell/psr-14-being-a-good-provider">Being a good Provider</a></li>
<li><a target="_blank" rel="noopener" href="https://steemit.com/php/@crell/psr-14-advanced-providers">Advanced Providers</a></li>
<li><a target="_blank" rel="noopener" href="https://steemit.com/php/@crell/psr-14-compound-providers">Compound Providers</a></li>
<li><a target="_blank" rel="noopener" href="https://steemit.com/php/@crell/psr-14-example-access-voting">Example - Access voting</a></li>
<li><a target="_blank" rel="noopener" href="https://steemit.com/php/@crell/psr-14-example-plugin-registration">Example - Plugin registration</a></li>
<li><a target="_blank" rel="noopener" href="https://steemit.com/php/@crell/psr-14-example-delayed-events-queues-and-asynchronicity">Example - Delayed Events, Queues, and Asynchronicity</a></li>
<li><a target="_blank" rel="noopener" href="https://steemit.com/php/@crell/psr-14-in-a-non-blocking-application-server">Example - PSR-14 in a non-blocking application server</a></li>
<li><a target="_blank" rel="noopener" href="https://steemit.com/php/@crell/psr-14-example-layered-caching">Example - layered caching</a></li>
</ul>
<p>한달 전 쯤 <a target="_blank" rel="noopener" href="https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-14-event-dispatcher.md">PSR-14 Event Dispatcher</a>가 accept 됐는데요. Larry Garfield란 사람이 이 새로운 스펙의 다양한 관점을 시리즈로 풀어냈습니다.</p>
<h2 id="How-we-migrated-54-357-lines-of-code-from-Nette-to-Symfony"><a href="#How-we-migrated-54-357-lines-of-code-from-Nette-to-Symfony" class="headerlink" title="How we migrated 54,357 lines of code from Nette to Symfony"></a>How we migrated 54,357 lines of code from Nette to Symfony</h2><p><a target="_blank" rel="noopener" href="https://pehapkari.cz/blog/2019/04/20/how-we-migrated-54-357-lines-of-code-nette-to-symfony-in-2-people-under-80-hours/">https://pehapkari.cz/blog/2019/04/20/how-we-migrated-54-357-lines-of-code-nette-to-symfony-in-2-people-under-80-hours/</a></p>
<p><a target="_blank" rel="noopener" href="https://nette.org/">Nette Framework</a>으로 만들어진 54,357 라인의 코드를 Symfony 기반으로 마이그레이션하는데 둘이서 각각 40시간 정도의 시간을 썼다고 합니다.</p>
<p>2017년에도 시도하려다 못했는데, 2019년에는 세가지 툴이 있어서 가능했답니다.</p>
<p><a target="_blank" rel="noopener" href="https://github.com/rectorphp/rector">Rector</a>라는 툴은 이 글을 쓴 Tomáš Votruba라는 사람이 만들었는데, PHP 5.3부터 PHP 5.6까지의 코드를 PHP 7.4 버전으로 마이그레이션&#x2F;리팩토링 해주고, Symfony는 2.8에서 4.2, Laravel은 static code를 생성자 인젝션으로 패턴을 바꿔줍니다. 이외에 각자 원하는 방식으로 규칙을 추가할 수 있다고 하네요.</p>
<p>이외에는 NEON(Nette Framework에서 쓰는 듯) 문법을 YAML로, 하나는 Latte files to TWIG syntax 문법 변환을 해주는 툴입니다.</p>
<p>툴이 많은 걸 해주지만 20%는 수작업으로 해야만 했다고 합니다.</p>
<h2 id="Running-tests-for-PHPUnit-from-within-PhpStorm"><a href="#Running-tests-for-PHPUnit-from-within-PhpStorm" class="headerlink" title="Running tests for PHPUnit from within PhpStorm"></a>Running tests for PHPUnit from within PhpStorm</h2><p><a target="_blank" rel="noopener" href="https://localheinz.com/blog/2019/04/27/running-tests-for-phpunit-itself-from-within-phpstorm/">https://localheinz.com/blog/2019/04/27/running-tests-for-phpunit-itself-from-within-phpstorm/</a></p>
<p>다들 테스트 잘 만들고 계시죠? PhpStorm에서 PHPUnit을 설정하는 방법을 설명합니다.</p>
<h2 id="azdanov-x2F-php-interview-exercises"><a href="#azdanov-x2F-php-interview-exercises" class="headerlink" title="azdanov&#x2F;php-interview-exercises"></a>azdanov&#x2F;php-interview-exercises</h2><p><a target="_blank" rel="noopener" href="https://github.com/azdanov/php-interview-exercises">https://github.com/azdanov/php-interview-exercises</a></p>
<p>다들 이직 준비는 잘 하고 계시죠? PHP 코딩 인터뷰를 연습할 수 있는 repo입니다. 정답도 있지만 직접 풀어보는 게 좋겠죠?</p>
<h2 id="Find-Segfaults-in-PHP-like-a-boss"><a href="#Find-Segfaults-in-PHP-like-a-boss" class="headerlink" title="Find Segfaults in PHP like a boss"></a>Find Segfaults in PHP like a boss</h2><p><a target="_blank" rel="noopener" href="https://jolicode.com/blog/find-segfaults-in-php-like-a-boss">https://jolicode.com/blog/find-segfaults-in-php-like-a-boss</a></p>
<p>종종 발생하는 <a target="_blank" rel="noopener" href="https://ko.wikipedia.org/wiki/%EC%84%B8%EA%B7%B8%EB%A9%98%ED%85%8C%EC%9D%B4%EC%85%98_%EC%98%A4%EB%A5%98">segfault</a> 문제를 파악하는 방법입니다.</p>
<p><a target="_blank" rel="noopener" href="https://www.php.net/manual/en/internals2.opcodes.ticks.php">Tick</a>이란 건 파서가 low-level tickable statement를 실행할 때마다 발생하는데, 이때마다 실행할 <a target="_blank" rel="noopener" href="http://www.phpdig.net/ref/rn62.html">함수</a>를 등록할 수 있습니다.</p>
<p>이 블로그에선 그동안 아래와 같이 등록해서 검사했었는데, </p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title function_ invoke__">register_tick_function</span>(function() &#123;</span><br><span class="line">    <span class="variable">$bt</span> = <span class="title function_ invoke__">debug_backtrace</span>(DEBUG_BACKTRACE_IGNORE_ARGS, <span class="number">1</span>);</span><br><span class="line">    <span class="variable">$last</span> = <span class="title function_ invoke__">reset</span>(<span class="variable">$bt</span>);</span><br><span class="line">    <span class="variable">$info</span> = <span class="title function_ invoke__">sprintf</span>(<span class="string">&quot;%s +%d\n&quot;</span>, <span class="variable">$last</span>[<span class="string">&#x27;file&#x27;</span>], <span class="variable">$last</span>[<span class="string">&#x27;line&#x27;</span>]);</span><br><span class="line">    <span class="title function_ invoke__">file_put_contents</span>(<span class="string">&#x27;/tmp/segfault.txt&#x27;</span>, <span class="variable">$info</span>, FILE_APPEND);</span><br><span class="line">    <span class="comment">// or</span></span><br><span class="line">    <span class="comment">// file_put_contents(&#x27;php://output&#x27;, $info, FILE_APPEND);</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">declare</span>(ticks=<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<p>그건 <a target="_blank" rel="noopener" href="https://bugs.php.net/bug.php?id=77901">PHP의 버그</a> 때문에 발생한 것이었고, PHP 7.0부터는 버그가 수정돼서 사용할 수가 없다고 합니다. declare(ticks&#x3D;1)은 선언된 파일에만 적용되도록 말이죠. </p>
<p>그렇다고 모든 PHP 파일마다 이걸 넣기도 싫어서 생각한 방법이 PHP Stream Wrapper와 Stream Filter를 이용하는 방식이라고 합니다. 파일을 메모리에 읽어들일 때 declare(ticks&#x3D;1)를 넣어줍니다.</p>
<h2 id="PHP-Framework-Trends"><a href="#PHP-Framework-Trends" class="headerlink" title="PHP Framework Trends"></a>PHP Framework Trends</h2><p><a target="_blank" rel="noopener" href="https://www.tomasvotruba.cz/php-framework-trends/">https://www.tomasvotruba.cz/php-framework-trends/</a></p>
<p>다운로드 통계를 기반으로 PHP frameworks의 경향을 보여주는 사이트입니다. </p>
<p><a target="_blank" rel="noopener" href="https://www.tomasvotruba.cz/package-downloads-by-version/">버전별 다운로드 통계</a>도 보실 수 있습니다.</p>
<h2 id="Serverless-PHP-With-Bref"><a href="#Serverless-PHP-With-Bref" class="headerlink" title="Serverless PHP With Bref"></a>Serverless PHP With Bref</h2><p><a target="_blank" rel="noopener" href="https://www.phparch.com/2019/05/serverless-php-with-bref-part-one/">https://www.phparch.com/2019/05/serverless-php-with-bref-part-one/</a></p>
<p>AWS Lambda에서 PHP를 실행하는 방법을 설명합니다. </p>
<p>AWS SAM을 활용하는 Bref라는 툴을 쓰는데요.</p>
<blockquote>
<p>Bref provides the tools and documentation to easily deploy and run serverless PHP applications.</p>
</blockquote>
<p>문서를 보면 Laravel, Symfony 같은 프레임웍을 올릴 수도 있습니다.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://haah.kr/2019/05/11/books-2019-may/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="youngiggy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ha-ah">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ha-ah">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/05/11/books-2019-may/" class="post-title-link" itemprop="url">독후감 - 2019년 5월</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-05-11 11:41:42" itemprop="dateCreated datePublished" datetime="2019-05-11T11:41:42+09:00">2019-05-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2019-05-12 11:34:03" itemprop="dateModified" datetime="2019-05-12T11:34:03+09:00">2019-05-12</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2019/05/11/books-2019-may/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/05/11/books-2019-may/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="틀리지-않는-법-수학적-사고의-힘"><a href="#틀리지-않는-법-수학적-사고의-힘" class="headerlink" title="틀리지 않는 법 - 수학적 사고의 힘"></a>틀리지 않는 법 - 수학적 사고의 힘</h2><p>조던 엘렌버그 지음 | 김명남 옮김 | 열린책들 | 2016년 04월 25일 출간</p>
<p><img src="http://image.kyobobook.co.kr/images/book/large/658/l9788932917658.jpg" alt="틀리지 않는 법 이미지"></p>
<blockquote>
<p>세상을 더 깊게, 더 올바르게, 더 의미있게 이해하는 법</p>
</blockquote>
<p>작년부터 보기 시작했던 것 같은데, 엄청 두껍고 수학을 다루고 있어서 좀처럼 속도가 나지 않은 책이다. 속도가 느려서 그렇지 읽는 내내 너무 재미있어서 시간 가는 줄 몰랐다. 연 초에 스터디도 하고 볼 게 많아 시간 날 때마다 조금씩 읽다가 전주영화제 기간에 해치워서 엄청 뿌듯하기도.</p>
<p>많은 내용이 담겨 있지만 커버지에 적힌 것처럼 세상을 더 깊게, 더 올바르게, 더 의미있게 이해하며, 복권을 사지 않도록 제안한다. 캐시 오닐의 <a target="_blank" rel="noopener" href="http://www.kyobobook.co.kr/product/detailViewKor.laf?barcode=9788965962359">대량살상수학무기</a>가 운동권의 느낌이라면, 이건 일상 생활 속의 지혜랄까. 정확하게 현상을 이해하는 노하우를 얻을 수 있다. 읽는 동안은 자극을 받아서 일상적인 고민에 대해 수학적으로 올바르게 해석했을까 의문도 들기도 하지만 결국 사람이란 무릇 제 버릇 남 못 주기에 다시 원래의 미련한 중생으로 돌아와 고통을 받게 되리. 가끔 들춰보고 내가 세상을 잘 해석하고 있을까 돌아보기 좋은 책이라 생각한다. </p>
<p>올해 읽은 책 중에 최고라고 손에 꼽을 만 하다. 교육적인 의미를 떠나서 작가가 이야기를 엄청 재미있게 한다. 내가 살면서 수학과는 한 대여섯명은 본 것 같은데, 말이 적은 사람이 없다. 저자는 그게 수학적으로 틀린 생각이라고 하겠지만.</p>
<h2 id="테스트-주도-개발로-배우는-객체-지향-설계와-실천"><a href="#테스트-주도-개발로-배우는-객체-지향-설계와-실천" class="headerlink" title="테스트 주도 개발로 배우는 객체 지향 설계와 실천"></a>테스트 주도 개발로 배우는 객체 지향 설계와 실천</h2><p>스티브 프리먼 , 냇 프라이스 지음 | 이대엽 옮김 | 인사이트 | 2013년 06월 20일 출간</p>
<p><img src="http://image.kyobobook.co.kr/images/book/large/836/l9788966260836.jpg" alt="테스트 주도 개발로 배우는 객체 지향 설계와 실천 이미지"></p>
<p>오래 전 S66 스터디와 올 해 회사에서 진행한 <a href="http://haah.kr/2019/04/20/tdd-beginners/">TDD 스터디</a> 교재로 썼던 책이다. S66 스터디 때는 제대로 이해도 못했고 책을 완독하지도 못했는데, 이번에는 나름 열심히 잘 읽어냈다. 8장까지의 이론은 스터디 진행 과정이었기 때문에 여러번 주의깊게 읽었고, 중간 코드로 이해해야 하는 부분은 문법의 낯선 부분과 가독성 때문에 쉽게 진도가 나지 않아서 괴로웠다. 그러나 이후 테스트에 관한 노하우는 쉽게 쉽게 읽고 넘어갈 수 있었고, 나도 그동안 이해도가 많이 높아졌는지 전보다 이해하는 폭이 넓어졌다.</p>
<p>어떤 분은 이것이 ‘일반적인 TDD는 아니다’라고 하셨지만, 다 읽어본 결과 TDD나 테스트를 공부하기에는 매우 좋은 책이라고 생각한다. TDD 만을 공부한다는 건 사실 현실성이 없고, 객체지향이나 설계 관점에서 같이 이해력을 높여야 하기 때문이다. TDD를 공부하는데 이보다 더 좋았던 책이 없었을 정도다. 다만 입문용으로는 너무 어렵다.</p>
<p>내가 TDD를 잘 몰랐을 때나 TDD가 불가능 하다는 사람들처럼, 테스트를 만들어가는 과정에서 많은 혼란이 있다. 정석이라면 이렇게 해야하는데, 이게 구조상 가능한가? 이거 배보다 배꼽이 더 큰데? 이런 의문도 들고. 그런데 이 책에서도, TDD를 잘하는 사람도 정석으로만 테스트를 만들어 나가진 않는다. 당시 생각하는 가장 적절한 선택을 할 뿐이다. 그리고 실패도 하고, 잘못을 인정하기도, 설계를 뒤엎기도 한다. 초보에게 힘든 것이 이 지점인데, 내가 몰라서 TDD가 어려운 건지, 원래 쉽지 않은 테스트인 건지 구분이 어렵다.</p>
<p>그런 면에서 TDD가 현실적이지 않다는 사람들이 이해되기도 했다. 설계 역량이 없다거나 TDD에 관한 충분한 지식이 없는 상황에선 잘못된 선택이 지속될 가능성도 크다고 생각한다. 물론 이건 코딩도 마찬가지겠다만. 라이브러리 익히는 것처럼 튜토리얼 한두번 따라해서 잘 되지도 않고, 정답도 없고, 잘 선택하는 안목을 기를 수 밖에.</p>
<p>지금보다 더 설계나 테스트에 관한 역량이 늘어났을 때 또 다시 훑어보면 좋을 책이라고 생각한다.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://haah.kr/2019/04/21/tdd-beginners-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="youngiggy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ha-ah">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ha-ah">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/04/21/tdd-beginners-3/" class="post-title-link" itemprop="url">TDD 시작하기 - 3</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2019-04-21 16:52:02 / Modified: 19:03:03" itemprop="dateCreated datePublished" datetime="2019-04-21T16:52:02+09:00">2019-04-21</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2019/04/21/tdd-beginners-3/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/04/21/tdd-beginners-3/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>연재</p>
<ul>
<li><a href="/2019/04/20/tdd-beginners/">TDD 시작하기 - 1</a> : 스터디 조직, 강의 동영상, TDD 맛보기</li>
<li><a href="/2019/04/21/tdd-beginners-2/">TDD 시작하기 - 2</a> : 행위 검증 vs 상태 검증</li>
<li><strong><a href="/2019/04/21/tdd-beginners-3/">TDD 시작하기 - 3</a> : 교재 1장~2장 정리, 참고 링크</strong></li>
</ul>
<br>

<hr>
<br>

<h2 id="책을-읽기-전에-참고할-것"><a href="#책을-읽기-전에-참고할-것" class="headerlink" title="책을 읽기 전에 참고할 것"></a>책을 읽기 전에 참고할 것</h2><ul>
<li><a target="_blank" rel="noopener" href="http://www.insightbook.co.kr/book/programming-insight/%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%A3%BC%EB%8F%84-%EA%B0%9C%EB%B0%9C%EB%A1%9C-%EB%B0%B0%EC%9A%B0%EB%8A%94-%EA%B0%9D%EC%B2%B4-%EC%A7%80%ED%96%A5-%EC%84%A4%EA%B3%84%EC%99%80-%EC%8B%A4%EC%B2%9C/%EC%A0%95%EC%98%A4%ED%91%9C">정오표</a><ul>
<li>정오표의 댓글도 읽어 볼 것</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="http://www.growing-object-oriented-software.com/code.html">공식 언어별 코드</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/projectBS/s66">S66 코드 (es6 + selenium)</a></li>
</ul>
<h3 id="이해-안되는-문장에-대한-여러-의견"><a href="#이해-안되는-문장에-대한-여러-의견" class="headerlink" title="이해 안되는 문장에 대한 여러 의견"></a>이해 안되는 문장에 대한 여러 의견</h3><ol>
<li>“테스트를 작성하는 동안에는 테스트가 실행되거나 심지어 컴파일되지 않으리라는 사실을 무시하고 테스트 내용에만 집중한다. 즉, 보조적인 역할을 하는 코드로 이미 존재하는 테스트를 실행할 수 있다고 간주한다”</li>
</ol>
<ul>
<li>원문은 <code>we act as if the supporting code to let us run the test already exists</code></li>
<li>구글 번역하면, <code>우리가 테스트를 실행하게하는 지원 코드가 이미 존재하는 것처럼 행동합니다.</code></li>
<li>번역하실 때 잘못 띄어 읽으신 것 같음</li>
</ul>
<ol start="2">
<li>“캡슐화와 정보은닉이 직교적인 설계 품질을 가리킨다”</li>
</ol>
<ul>
<li>번역자의 글<ul>
<li>원문은 이렇습니다.</li>
<li>“The terms are often used interchangeably but actually refer to two separate, and largely orthogonal, qualities.”</li>
<li>우선 두 용어 ‘캡슐화’와 ‘정보은닉’이 설계의 품질을 나타내는 별개의 개념이라고 생각하시면 됩니다. 그리고 여기서 직교적이라는 표현은 캡슐화와 정보은닉이 서로 독립적인 설계 품질이라는 의미입니다.</li>
</ul>
</li>
<li>참고 : <a target="_blank" rel="noopener" href="https://justhackem.wordpress.com/2017/02/28/encapsulation-and-information-hiding/">https://justhackem.wordpress.com/2017/02/28/encapsulation-and-information-hiding/</a></li>
</ul>
<ol start="3">
<li>66페이지 하단,<br>“이처럼 ‘가족 같은’ 접근법에서는 각 객체는 자기 역할을 수행하는 데 필요한 만큼 정보를 전달받고 그러한 역할 표현과 부합하는 추상화에 포함된다.”</li>
</ol>
<ul>
<li>번역자의 글<ul>
<li>원문은 paternalistic이고, 원래는 ‘가족주의적인’으로 번역했었는데, ‘가부장적인’이라는 의미로도 사용되는 표현입니다. 교정&#x2F;편집 과정을 거치면서 ‘가족 같은’으로 바뀌어서 조금 이해하기 어려워진 것 같네요.</li>
</ul>
</li>
</ul>
<ol start="4">
<li>17페이지 중간,<br>“시스템을 그것이 지닌 역학 측면에서 생각해보면,”에서 시스템이 지닌 역학 측면에서 생각한다는 의미</li>
</ol>
<ul>
<li>번역자의 글<ul>
<li>원문은 이렇습니다. “Thinking of a system in terms of its dynamic, communication structure is a significant mental shift from the static classification that most of us learn when being introduced to objects.” 번역서의 ‘역학’은 이 문장의 dynamic을 옮긴 것인데요, 역학은 국어사전에 “부분을 이루는 요소가 서로 의존적 관계를 가지고 서로 제약하는 현상”이라고 정의돼 있습니다. 따라서 책에서는 시스템을 구성하는 요소들의 관계가 만들어내는 현상으로 이해하시면 될 것 같습니다.</li>
</ul>
</li>
<li>또 다른 어떤 분의 의견<ul>
<li>우선 2.3절에 도메인이란 얘기가 나오는데 어느 논문에서의 정의를 빌리면( <a target="_blank" rel="noopener" href="http://www.springer.com/.../cda.../9783642366536-p1.pdf">http://www.springer.com/.../cda.../9783642366536-p1.pdf</a>…) domain is an area of knowledge that uses common concepts for describing phe-<br>nomena, requirements, problems, capabilities, and solutions. 이렇다고 합니다. 그리고 도메인 모델이란게 특정 개념과 행동,의사소통 패턴 등을 공유하는 복잡한 지식의 조각들 간에 관계성을 부여해서 추상화시킨 것이라고 본다면 결국 의사소통 패턴에 속한다는 말과 통하는 부분이 있는것 같고요. </li>
<li>그럼 시스템을 역학측면에서 본다는 것을 시스템을 정적인 상태가 아닌 동적인 상태(도메인에 속한 객체나 엑터들이 서로 상호작용 하고 있는 상태)로 보는것이라고 해석해 본다면 동적인 측면에서 보여지는 의사소통 구조는 정적인 측면에서 볼때와 상당히 다르고 더 고차원 적이다라는 의미로 느껴집니다. </li>
<li>다음장에 나오는 게임엔진 예시에서 엔진의 관점과 담당객체의 관점이 믹스될때 상당히 복잡해 보이는 면이 있는데 이것을 앞에서 얘기한 시스템의 정적인 측면과 동적인 측면, 그리고 더 상위의 도메인 모델링으로서 접근으로 나누어 바라보게 되면 시스템의 상태와 관계가 더 명확해 진다는 의미로 어설프게나마 해석이 되는것 같습니다.</li>
</ul>
</li>
</ul>
<h2 id="그래도-이해-안되는-문장이-있다면"><a href="#그래도-이해-안되는-문장이-있다면" class="headerlink" title="그래도 이해 안되는 문장이 있다면"></a>그래도 이해 안되는 문장이 있다면</h2><p>어려운 책이라 번역하신 분도 고생 많으셨을 것 같다. 원래 어떤 의미로 쓰였는지 확인하는 것이 더 이해 잘되는 경우가 종종 있는데, 구글에서 책의 원제와 함께 확실하다고 생각이 되는 단어 몇개를 같이 검색해보면 books.google.co.kr 사이트의 링크를 찾을 수 있다. 이번에도 교재 본문에 나온 “중첩된 피드백 고리”나 이해 안되는 문장 몇가지가 뭘 의미하는지 궁금해서 책 제목(growing object-oriented software guided by tests)와 몇개의 단어를 조합해서 원문을 찾을 수 있었다. 예를 들어, “growing object-oriented software guided by tests nested loop system”라고 검색하면 검색 결과 내에서 <a target="_blank" rel="noopener" href="https://books.google.co.kr/books?id=QJA3dM8Uix0C&pg=PT31&lpg=PT31&dq=growing+object-oriented+software+guided+by+tests+nested+loop+system&source=bl&ots=ztQgGZgBCl&sig=ACfU3U3pMECZ9GKcII4wNDoBbZ4fIqwt_g&hl=ko&sa=X&ved=2ahUKEwiLica92-DhAhXE3mEKHdMBA2AQ6AEwA3oECAkQAQ#v=onepage&q=growing%20object-oriented%20software%20guided%20by%20tests%20nested%20loop%20system&f=false">이런 링크</a>를 찾을 수 있다. 언제까지 이런 꼼수가 통할 지는 모르겠지만.</p>
<h2 id="발표-자료"><a href="#발표-자료" class="headerlink" title="발표 자료"></a>발표 자료</h2><p>“테스트 주도 개발로 배우는 객체 지향 설계와 실천 책”의 서문, 1장, 2장까지의 발표는 내가 했다.</p>
<ul>
<li><a href="/images/tdd-beginners/growing_object-oriented_software_guided_by_tests_1_2.key">Keynote 버전</a></li>
<li><a href="/images/tdd-beginners/growing_object-oriented_software_guided_by_tests_1_2.pdf">PDF 버전</a><ul>
<li>발표자 노트가 같이 붙어있어 보기에 좀 더럽긴…</li>
</ul>
</li>
</ul>
<h2 id="참고-자료"><a href="#참고-자료" class="headerlink" title="참고 자료"></a>참고 자료</h2><p>이후 8장까지의 발표자료는 내 것이 아니라서 공유할 수 없지만, 이 과정에서 멤버들과 나누었던 이야기가 참 좋았다. 그것도 공유할 수 없는 것이 아쉽긴 한데, 그 이야기 속에서 언급된 링크라도 남긴다.</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://repo.yona.io/doortts/blog/issue/1">채수원님이 공개하신 “TDD 실천법과 도구”</a></li>
</ol>
<ul>
<li>각 장별로 추가 코멘트를 달아 놓으셨는데, 이 책이나 PDF를 읽으실 때 참고하면 좋다</li>
</ul>
<ol start="2">
<li><p><a target="_blank" rel="noopener" href="http://blog.cleancoder.com/uncle-bob/2016/05/01/TypeWars.html">TypeWars</a></p>
</li>
<li><p>위 글에 처음에 나오는 cleancoders 강의를 보고 <a target="_blank" rel="noopener" href="https://www.youtube.com/playlist?list=PLagTY0ogyVkIl2kTr08w-4MLGYWJz7lNK">백명석님이 올린 강의</a></p>
</li>
</ol>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/msbaek/clean-coders-2013">발표 슬라이드</a></li>
</ul>
<ol start="4">
<li><p><a target="_blank" rel="noopener" href="http://jwchung.github.io/testing-oh-my">Testing, Oh my! by Jin-Wook Chung</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://nesoy.github.io/articles/2018-10/OKKYCON2018-Real-TDD">OKKYCON 2018 정리</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.qodot.me/post/%EB%B2%88%EC%97%AD-unittest-martin-fowler/">마틴 파울러의 UnitTest를 번역한 글</a></p>
</li>
<li><p>TDD에서 외부 자원은 격리 대상이어야 하는가</p>
</li>
</ol>
<ul>
<li><a target="_blank" rel="noopener" href="https://medium.com/@sryu99/%EB%8B%A8%EC%9C%84-%ED%85%8C%EC%8A%A4%ED%8A%B8-tdd-bdd%EC%9D%98-%EC%B0%A8%EC%9D%B4%EC%A0%90-3d25fab5ccb2">https://medium.com/@sryu99/단위-테스트-tdd-bdd의-차이점-3d25fab5ccb2</a><ul>
<li><a target="_blank" rel="noopener" href="https://codeutopia.net/blog/2015/03/01/unit-testing-tdd-and-bdd/%0A">이 글</a>을 번역한 글인데, 외부 자원을 격리해야 한다는 글에 대한 반박이 댓글로 이어진다. 이후 잘못된 내용이 들어있음을 인정하면서 번역본 삭제됨.</li>
</ul>
</li>
</ul>
<ol start="8">
<li>DHH의 <a target="_blank" rel="noopener" href="https://sangwook.github.io/2014/04/25/tdd-is-dead-long-live-testing.html">TDD is dead. Long live testing.</a> 논란</li>
</ol>
<ul>
<li><a target="_blank" rel="noopener" href="https://justhackem.wordpress.com/2018/06/24/what-tdd-solves/">Kent Beck의 답</a></li>
<li>Martin Fowler가 이 둘을 초대해 온라인으로 토론을 벌였다<ul>
<li>그 내용을 번역한 글 : <a target="_blank" rel="noopener" href="http://jinson.tistory.com/271">한글화 프로젝트 TDD는 죽었는가?</a></li>
</ul>
</li>
<li>TDD는 벌거벗은 임금님의 투명옷인가? 시리즈(정도현)<ul>
<li>이 논쟁을 중간자 입장에서 정리한 것<ol>
<li><a target="_blank" rel="noopener" href="http://www.moreagile.net/2014/05/IsTDDdead1.html">TDD는 죽었다. 테스트여 영원하라!</a></li>
<li><a target="_blank" rel="noopener" href="http://www.moreagile.net/2014/07/tdd-2-tdd.html">TDD의 사망에 대한 검증</a></li>
<li><a target="_blank" rel="noopener" href="http://www.moreagile.net/2014/08/IsTDDdead3.html">TDD는 UT가 아니다</a></li>
</ol>
</li>
</ul>
</li>
</ul>
<ol start="9">
<li><p><a target="_blank" rel="noopener" href="https://developerfarm.wordpress.com/2012/02/03/object_calisthenics_summary/">객체지향 생활 체조 총정리</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://gyuwon.github.io/blog/2019/03/03/tdd-is-not-a-design-methodology.html">DD는 설계 방법론이 아니다</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://medium.com/@mjspring/%EB%B2%88%EC%97%AD-tdd-%EB%B3%80%EC%A0%88%EC%9E%90-tdd%EB%8A%94-%EC%84%A4%EA%B3%84-%EA%B8%B0%EB%B2%95%EC%9D%B4-%EC%95%84%EB%8B%88%EB%8B%A4-2519b05474d0">TDD 변절자: TDD는 설계 기법이 아니다</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.slideshare.net/UyeongJu/ss-56634188">서비스를 성공적으로 만드는 방법</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://deview.kr/2013/detail.nhn?topicSeq=18">협업 SW개발 플랫폼 Yobi 발표</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://lnbogen.com/2007/07/04/how-to-mock-static-class-or-static-member-for-testing/">static 메서드 의존을 제거하고 테스트하는 방법</a></p>
</li>
</ol>
<ul>
<li>참고한 <a target="_blank" rel="noopener" href="https://github.com/mockito/mockito/wiki/FAQ#can-i-mock-static-methods">다른 글</a></li>
</ul>
<ol start="15">
<li><p><a target="_blank" rel="noopener" href="https://www.inflearn.com/course/%EA%B0%9D%EC%B2%B4-%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%EC%9E%85%EB%AC%B8/">객체 지향 프로그래밍 입문 - 최범균</a></p>
<!-- * 정리 : https://gist.github.com/appkr/a13a2172c943dbfd8e8a45fad4ee8045 -->
</li>
<li><p><a target="_blank" rel="noopener" href="https://softwareengineering.stackexchange.com/questions/308160/differences-between-given-when-then-gwt-and-arrange-act-assert-aaa">AAA vs GWT</a></p>
</li>
<li><p>교재를 읽기 위한 정도의 문법은 이 <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=n-xAqcBCws4">영상</a>을 추천합니다(2시간)</p>
</li>
</ol>
<ul>
<li>Java 문법이 생각이 안난다고 하니 주원님이 추천해주신 영상</li>
</ul>
<ol start="18">
<li><a target="_blank" rel="noopener" href="https://www.youtube.com/channel/UCKXBpFPbho1tp-Ntlfc25kA/videos">코드스피츠</a><!-- * 슬랙에서 소개한 내용 https://meshkorea.slack.com/archives/CFZJTFFCG/p1552698026082000 --></li>
</ol>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=_JGchAMbPGI">1회차</a><ul>
<li>객체와 값객체, 단일 책임의 원칙</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=TFKt8ZpzPPg">2회차(1&#x2F;3)</a><ul>
<li>프로시저의 특징, 변화율을 다루는 방식, 레이어링</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=dHbDDIBAc4Y">4회차</a><ul>
<li>역할과 책임</li>
</ul>
</li>
</ul>
<ol start="19">
<li><p><a target="_blank" rel="noopener" href="http://blog.jonasbandi.net/2010/09/acceptance-vs-integration-tests.html">ATDD</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://uiandwe.tistory.com/465">CRC 카드</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Law_of_Demeter">LoD(Law of Demeter)</a>의 핵심</p>
</li>
</ol>
<ul>
<li>LoD는 O.m() 메서드는 아래 열거한 다섯 가지보다 더 많은 내용을 알아서는 안된다고 가이드합니다.<ul>
<li>O 자신</li>
<li>m의 파라미터</li>
<li>m에서 생성된 객체</li>
<li>O가 필드로 가진 객체</li>
<li>O.m() 스코프에서 접근할 수 있는 전역 변수</li>
</ul>
</li>
</ul>
<ol start="22">
<li><p><a target="_blank" rel="noopener" href="https://joont92.github.io/tdd/%EC%9D%B8%EC%88%98%ED%85%8C%EC%8A%A4%ED%8A%B8-%EB%8B%A8%EC%9C%84%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%86%B5%ED%95%A9%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%A0%84-%EA%B5%AC%EA%B0%84-%ED%85%8C%EC%8A%A4%ED%8A%B8/">인수테스트, 단위테스트, 통합테스트, 전 구간 테스트</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://agile.egloos.com/m/5830026">스터디 모임 방법 몇가지</a> - 김창준</p>
</li>
<li><p>private method 테스트</p>
</li>
</ol>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.slipp.net/wiki/pages/viewpage.action?pageId=6160426">https://www.slipp.net/wiki/pages/viewpage.action?pageId=6160426</a> </li>
<li><a target="_blank" rel="noopener" href="https://justhackem.wordpress.com/2017/09/29/should-private-methods-be-tested/">https://justhackem.wordpress.com/2017/09/29/should-private-methods-be-tested/</a></li>
</ul>
<ol start="25">
<li>postman을 활용한 자동화 테스트</li>
</ol>
<ul>
<li><a target="_blank" rel="noopener" href="https://medium.com/postman-engineering/acing-your-apis-what-you-need-to-know-for-test-automation-e3fdba3519b9">https://medium.com/postman-engineering/acing-your-apis-what-you-need-to-know-for-test-automation-e3fdba3519b9</a></li>
<li><a target="_blank" rel="noopener" href="https://medium.com/postman-engineering/from-manual-to-automated-testing-the-roadblocks-and-the-journey-6333dfacc5ae">https://medium.com/postman-engineering/from-manual-to-automated-testing-the-roadblocks-and-the-journey-6333dfacc5ae</a></li>
<li><a target="_blank" rel="noopener" href="https://www.ridicorp.com/blog/2017/11/09/postman-gitlab-ci/">https://www.ridicorp.com/blog/2017/11/09/postman-gitlab-ci/</a></li>
</ul>
<ol start="26">
<li><p><a target="_blank" rel="noopener" href="http://woowabros.github.io/study/2016/07/07/think_object_oriented.html">생각하라, 객체지향처럼</a></p>
</li>
<li><p>RailsConf 09: Robert Martin, <a target="_blank" rel="noopener" href="https://youtu.be/YX3iRjKj7C0">“What Killed Smalltalk Could Kill Ruby, Too”</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://getoutsidedoor.com/2018/09/03/ports-adapters-architecture/">ports &amp; adapter 패턴</a></p>
</li>
</ol>
<h2 id="다음-단계는"><a href="#다음-단계는" class="headerlink" title="다음 단계는"></a>다음 단계는</h2><p>기초와 이론 부분에 8주를 써버렸기 때문에 앞으로 책을 다 마치려면 한 3달 ~ 4달은 더 해야 끝날 것 같다는 생각이 들었다. 3달을 넘어가는 건 너무 지치는 일이라서 스터디는 일단 멈추기로 했다. 이후는 각자 책을 읽기로 하고 2주 마다 만나서 각자의 업무에서 도입하거나 공부하는 것을 공유하기로 했다.</p>
<p>나는 책을 더 읽기로 결정했는데, 갑자기 바빠져서 책을 전혀 못봤다. 이럴 줄 알았지!</p>
<p>9장부터 코드가 나오기 시작하는데, 역시 쉽지는 않다. 이 블로그 연재도 책을 다 떼면 이어서 쓸텐데…</p>
<p>과연 할 수 있으려나?</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://haah.kr/2019/04/21/tdd-beginners-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="youngiggy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ha-ah">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ha-ah">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/04/21/tdd-beginners-2/" class="post-title-link" itemprop="url">TDD 시작하기 - 2</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2019-04-21 15:20:18 / Modified: 16:55:45" itemprop="dateCreated datePublished" datetime="2019-04-21T15:20:18+09:00">2019-04-21</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2019/04/21/tdd-beginners-2/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/04/21/tdd-beginners-2/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>연재</p>
<ul>
<li><a href="/2019/04/20/tdd-beginners/">TDD 시작하기 - 1</a> : 스터디 조직, 강의 동영상, TDD 맛보기</li>
<li><strong><a href="/2019/04/21/tdd-beginners-2/">TDD 시작하기 - 2</a> : 행위 검증 vs 상태 검증</strong></li>
<li><a href="/2019/04/21/tdd-beginners-3/">TDD 시작하기 - 3</a> : 교재 1장~2장 정리, 참고 링크</li>
</ul>
<br>

<hr>
<br>

<h2 id="행위-검증-vs-상태-검증"><a href="#행위-검증-vs-상태-검증" class="headerlink" title="행위 검증 vs 상태 검증"></a>행위 검증 vs 상태 검증</h2><p>첫 시간에 동영상을 보며 이야기할 때 몇가지 해소가 안된 문제가 있었는데, 하나는 테스트 더블의 종류와 사용 목적이었고 하나는 행위 검증과 상태 검증이었다.</p>
<p>테스트 더블은 다른 분이 발표했기 때문에 이 블로그로는 자료를 가져오진 않겠지만, <a target="_blank" rel="noopener" href="http://xunitpatterns.com/">http://xunitpatterns.com/</a> 에서 주요 개념을 알 수 있다.</p>
<p>OKKYCON의 동영상에서도 행위 검증과 상태 검증에 관함 이야기가 많이 나왔는데, 정확히 언제&#x2F;왜 사용해야 하는지 명확히 알기가 어려워 조금 더 찾아보게 됐다. 설계든 TDD든 정답이 없는 문제라서 초보자들은 갖은 상황을 떠올리며 이럴 때는 저럴 때는 어떻게 해야 하는가 하면서 논쟁이 지속되었다. 여전히 어렵긴 한데 중간 정리를 한번 해봤다.</p>
<p>행위 검증과 상태 검증에 관해서는 몇가지 블로그를 토대로 정리해본다.</p>
<h2 id="왜-테스트가-자주-실패할까"><a href="#왜-테스트가-자주-실패할까" class="headerlink" title="왜 테스트가 자주 실패할까?"></a>왜 테스트가 자주 실패할까?</h2><p><a target="_blank" rel="noopener" href="https://minslovey.tistory.com/97">https://minslovey.tistory.com/97</a></p>
<p>켄트벡의 <a target="_blank" rel="noopener" href="https://wiki.mm.meshkorea.net/pages/viewpage.action?pageId=62646403">“Where, Oh Where to Test?”</a>를 소개한다</p>
<ul>
<li>원문 링크는 깨졌고, 여기 <a target="_blank" rel="noopener" href="https://www.kdata.or.kr/info/info_04_view.html?dbnum=176783">이 글을 소개하는 페이지</a>가 있다</li>
<li>테스트를 위해 System Level Test를 해야 하는지 Unit Level Test를 해야 하는지 판단할 때에 Cost, Stability, Reliability를 반드시 고려해야 한다</li>
<li>Cost<ul>
<li>매우 포괄적인 개념으로 Stability와 Reliability를 포함</li>
<li>테스트를 작성하고 수행하는 데 걸리는 시간, 그리고 유지보수에 들어가는 비용</li>
<li>비용을 줄이기 위한 가장 좋은 방법<ul>
<li>테스트 스크립트 수와 mock object와 같이 부가적으로 필요한 코드도 최대한 줄이기</li>
</ul>
</li>
</ul>
</li>
<li>Stability<ul>
<li>Stability가 낮은 경우<ul>
<li>테스트가 성공했는데, 결함이 있을 때</li>
<li>테스트가 실패했는데, 결함이 없을 때</li>
</ul>
</li>
<li>만약 중요하지 않은 부분이면서 Stability를 갖춘 테스트를 작성하기가 어렵다면 작성하지 않는 것이 좋다</li>
<li>수동으로 하거나 이후에 QA에 의해 테스트하는 것이 비용대비 효과가 높다</li>
</ul>
</li>
<li>Reliability<ul>
<li>테스트는 본질적으로 문제가 없음을 보장할 수 없고, 우리에게 주어진 리소스에도 한계가 있다</li>
<li>‘버그가 있을 확률 × 버그에 의한 피해’가 높은 순서대로 테스트를 작성</li>
</ul>
</li>
</ul>
<p>구현에 의존적인 테스트를 만들지 말자</p>
<ul>
<li>알람을 위해 특정 외부 모듈을 호출한다는 것을 보장하는 게 중요한 일일 때<ul>
<li>최종 목적이 알람이라면, 의존하는 모듈이 바뀔 때 코드가 수정되어야 한다. (Stability가 낮다)</li>
<li>통합 테스트가 대안일 수 있다(how가 아닌 what에 집중)</li>
<li>이때 로그를 확인하는 식으로 통합테스트를 작성하면 구현에 관계없이 기능을 검증할 수 있다<ul>
<li>그러나 시간이 더 걸린다</li>
<li>오류가 생겼을 때, 어디에서 문제가 생겼는지 상대적으로 알기 어렵다</li>
<li>SUT가 아닌 다른 곳에 의존성이 생길 수가 있다(이 경우는 로그)</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>구현에 의존적인 테스트를 만들어야 한다면 최대한 의존하는 부분을 줄이며 테스트를 만들자</p>
<ul>
<li>느슨한 검증<ul>
<li>호출하는 메소드가 많다면, 특정 코드 블럭이 실행되는지(조건문 안에 들어가는지) 정도 확인하는 것으로 충분할 수 있다</li>
<li>특정 조건문에 의해 실행 여부만 확인하는 것이라면 조건문만 통과하는 지를 확인하면 된다</li>
</ul>
</li>
<li>Law of Demeter<ul>
<li>Tell, Don’t Ask</li>
<li>접점&#x2F;커플링을 줄인다</li>
</ul>
</li>
</ul>
<h2 id="Mocks-Aren’t-Stubs"><a href="#Mocks-Aren’t-Stubs" class="headerlink" title="Mocks Aren’t Stubs"></a>Mocks Aren’t Stubs</h2><p><a target="_blank" rel="noopener" href="https://martinfowler.com/articles/mocksArentStubs.html">https://martinfowler.com/articles/mocksArentStubs.html</a></p>
<ul>
<li>번역 : <a target="_blank" rel="noopener" href="http://testing.jabberstory.net/">http://testing.jabberstory.net/</a></li>
</ul>
<p>행위 검증과 상태 검증, Mock과 stub의 차이를 이해하는데 매우 도움이 많이 된 글이다. 아래 요약글을 읽느니 번역된 글을 몇 번 더 읽는 것을 추천한다. 이건 내 블로그니까 나중에 다시 돌아볼 목적으로 정리해보자면,</p>
<p>Mocks과 Stubs 차이</p>
<ul>
<li>테스트 결과가 검증되는 방식 - 상태 검증과 행위 검증</li>
<li>테스팅과 설계가 어우러지는 방식에 대한 철학</li>
</ul>
<p>용어 구분</p>
<ul>
<li>SUT(System Under Test) &#x3D; 주요 객체(primary object)</li>
<li>협력객체(collaborator) &#x3D; 부차적 객체(secondary objects)</li>
</ul>
<p>일반적인 테스트 (Regular Tests)</p>
<ul>
<li>협력객체가 필요한 이유<ul>
<li>테스트하려는 동작이 최소한 실행은 되었는지 확인하기 위해</li>
<li>검증에 필요하기 때문. order.fill()에는 warehouse의 상태에 잠재적 변화를 일으키니까</li>
</ul>
</li>
<li>첫 예제는 상태 검증이다<ul>
<li>메소드가 수행된 후 SUT와 협력객체의 상태를 살펴봄으로써 실행된 메소드가 올바로 동작했는지 판단</li>
</ul>
</li>
</ul>
<p>모의객체를 이용한 테스트(Tests with Mock Objects)</p>
<ul>
<li>예측을 준비하고 → SUT를 돌려본 다음 → 검증<ul>
<li>SUT에 대해 assert하는 것은 예전과 같다</li>
<li>모의객체를 검증하는 것 - 예측에 맞게 호출 되었는지 확인</li>
</ul>
</li>
<li>여기서 핵심적인 차이는 order가 warehouse와 상호작용할 때 올바로 수행되었는지 어떻게 확인하느냐이다</li>
<li>첫번째 테스트<ul>
<li>상태 검증에서는 order나 warehouse의 상태를 assert 함으로써 할 수 있다</li>
<li>mock은 행위 검증을 한다</li>
<li>setup에서 모의객체에게 예측치를 알려주고 검증시에는 스스로 확인해보라고 한다</li>
<li>assert로 확인하는 것은 order뿐이고, 수행한 메소드가 order의 상태를 변경하지 않는다면 assert는 아예 필요 없다</li>
</ul>
</li>
<li>두번째 테스트<ul>
<li>생성자가 아닌 MockObjectTestCase의 mock 메소드를 사용(명시적으로 verify를 호출할 필요가 없다)</li>
<li>withAnyArguments를 써서 예측의 제약을 완화시켰다. 사실 withAnyArguments가 default라서 생략해도 괜찮았다</li>
</ul>
</li>
</ul>
<p>Test Double</p>
<ul>
<li>Dummy 객체는 전달되기만 하고 실제 사용되지는 않는다. 보통 파라미터 리스트를 채우는데에 사용된다</li>
<li>Fake 객체는 동작하는 구현이 있다. 하지만 운영시에는 사용할 수 없는 간단한 형태이다. (인메모리 데이타베이스가 좋은 예이다)</li>
<li>Stubs은 테스트시 호출이 되면 미리 준비된 답변으로 응답하는데, 테스트 시에 프로그램된 것 이외의 것에 대해서는 응답하지 않는다. 스텁은 호출에 대한 정보를 기록할 수도 있을 것이다. 이메일 게이트웨이 스텁은 ‘보낸’ 메시지들 혹은 몇개의 메시지를 ‘보냈’는가를 기억하는 것이다</li>
<li>Mocks는 수신하기를 기대하는 호출의 명세(specification)인 예측으로 미리 프로그램 된 객체이다<ul>
<li>Mocks만 행위 검증 사용을 추구한다</li>
<li>excercise 단계에서는 다른 더블과 같이 동작하지만, setup과 verification단계에서는 다르다</li>
<li>많은 사람들은 실제 객체를 다루기 불편할 때에만 테스트더블을 사용한다</li>
</ul>
</li>
</ul>
<p>MailServiceStub 예제</p>
<ul>
<li>public class MailServiceStub implements MailService {</li>
<li>메시지가 보내졌다는 것을 테스트한다</li>
<li>올바른 수신자에게 보내졌는지, 올바른 내용으로 보내졌는지는 테스트하지 않았지만 핵심을 보여주고 있다</li>
<li>스텁에 상태검증을 하려고 검증에 도움이 될 추가적인 메소드를 만들었다. 스텁은 MailService 인터페이스를 구현하고 추가된 테스트 메소드도 있다</li>
</ul>
<p>Mock objects는 항상 행위검증을 사용하고, 스텁은 둘 다 가능하다. Meszaros는 행위검증을 하는 스텁을 가리켜 테스트스파이(Test Spy)라고 부른다</p>
<ul>
<li>차이점은 더블이 얼마나 정확히 수행과 검증을 하는가이다</li>
</ul>
<p>언제 모의객체(혹은 다른 더블)를 사용할 것인가</p>
<ul>
<li>classical TDD 스타일은 가능하면 진짜 객체를 사용하고 진짜 객체를 사용하기가 만만하지 않으면 더블을 사용한다. 그러므로 고전적 TDD 실천가들은 warehouse에는 진짜 warehouse를 사용하고 메일 서비스에는 더블을 사용할 것이다. 더블의 종류는 그리 중요하지 않다. </li>
<li>mockist TDD 실천가는 관심있는 행위를 가진 모든 객체에 모의객체를 사용하려 한다. 예제에서는 warehouse와 메일서비스 모두에 대해서이다. </li>
<li>(BDD는 모의객체 접근법을 취한다.)</li>
<li>차이점 중에서 선택하기<ul>
<li>컨텍스트<ul>
<li>order와 warehouse 사이처럼 객체들간의 협력이 간단한가 아니면 order와 메일서비스처럼 쉽지 않은가?</li>
<li>간단한 협력이라면 고민할 게 없다. classical TDD에선 진짜 객체, mockist TDD에선 mock</li>
<li>간단하지 않다면, mockist TDD에선 당연히 mock과 행위 검증. classical TDD에선 가장 쉬운 방법을 선택</li>
<li>캐시처럼 다루기 힘든 협력관계가 아닌데도 상태검증을 하기 쉽지 않은 경우는 행위 검증이 좋을 것이다. 그 반대의 경우도 존재함</li>
</ul>
</li>
<li>mock object는 XP 커뮤니티로부터 왔다.<ul>
<li>만들고자 하는 시스템 외부에서 SUT의 인터페이스를 만들면서 테스트를 작성함으로써 스토리 개발을 시작한다 (outside-in)<ul>
<li>모의객체에 대한 예측은 다음 단계의 명세가 되고 테스트들의 시작점이 된다</li>
</ul>
</li>
</ul>
</li>
<li>classical TDD는 어떤 기능을 택하고 이 기능이 동작하려면 도메인에서 무엇이 필요한지 결정한다 (middle-out)<ul>
<li>필요한 것을 도메인 객체들이 수행하게 하고 일단 동작하면 그 위에 UI를 올린다</li>
</ul>
</li>
</ul>
</li>
<li>픽스처 준비 (Fixture Setup)<ul>
<li>고전주의 TDD에서는, SUT 뿐만 아니라 테스트의 필요에 따라 SUT가 필요로 하는 모든 협력 객체들도 만든다. <ul>
<li>복잡한 픽스처를 가능한 한 재사용하려 한다</li>
<li>대부분의 픽스처는 생성 비용이 크지 않고, 만약 크다면 보통 더블이 사용된다</li>
</ul>
</li>
<li>모의객체를 이용한 테스트에서는, SUT와 그에 인접한 모의객체만을 작성하면 된다. 복잡한 픽스처를 구성하는 작업을 피할 수 있다 (최소한 이론적으로는)</li>
</ul>
</li>
<li>테스트의 고립성 (Test Isolation)<ul>
<li>mockist TDD에선 시스템에서 버그가 생기면, 보통 SUT가 버그를 가진 테스트만 실패하게 된다<ul>
<li>대신 협력 객체에 대해 정교한 테스트를 만들어야 한다는 것이 명확하다</li>
</ul>
</li>
<li>classical TDD에선 이 객체를 이용하는 클라이언트가 있는 모든 테스트도 실패하며, 다른 객체를 테스트할 때 버그를 가진 객체가 협력객체로 사용되는 곳에서 모두 실패하게 된다<ul>
<li>결과적으로 매우 많이 사용되는 객체가 실패하면 시스템 전체에 걸쳐 실패하는 테스트의 파장이 일어난다</li>
<li>하나의 테스트가, 하나의 객체가 아닌 여러 객체의 클러스터에 대해 수행되는 주요 테스트로서의 역할을 하고 있다</li>
<li>테스트가 너무 정교하지 않은 경향이 있지만, 디버깅에 어려움을 겪는다면 정교한 테스트를 (TDD 기법으로) 만들어 나가야 한다.</li>
</ul>
</li>
<li>본질적으로 고전적 xunit 테스트는 단지 유닛테스트일 뿐 아니라, 작은-통합 테스트이기도 하다<ul>
<li>한 객체를 테스트할 때에 놓쳤을지 모를 에러를, 클라이언트 테스트가 잡을 수 있다</li>
<li>모의객체 테스트는 그런 품질을 잃게 된다</li>
</ul>
</li>
<li>어떤 스타일의 테스트를 하든, 전체 시스템에 걸쳐 수행되는 거친 정밀도의 인수테스트와 결합해야 한다</li>
</ul>
</li>
<li>테스트와 구현의 결합성 (Coupling Tests to Implementations)<ul>
<li>모의객체 테스트를 작성하는 것은, SUT가 그것의 공급자와 올바로 대화하는지 확인하기 위해 SUT의 나가는 호출을 테스트하는 것<ul>
<li>따라서 모의객체 테스트는 메소드의 구현에 많이 결합되어 있다</li>
<li>모의객체 테스팅에서는 테스트 작성시 행위 구현에 대해 생각하게 만든다</li>
</ul>
</li>
<li>고전주의 테스트는 최종 상태에만 신경 쓴다<ul>
<li>고전주의자들은 외부 인터페이스 호출로부터 어떤 일이 일어나는지에 대해서만 생각하고 구현의 모든 고려사항들은 테스트 작성이 끝난 이후로 남기는 것이 중요하다고 생각</li>
</ul>
</li>
<li>구현에 결합되는 것은 리팩토링에도 간섭을 일으키는데, 구현이 바뀌면 고전적 테스팅보다 테스트를 깨트릴 가능성이 훨씬 더 많기 때문이다</li>
<li>Tell, Don’t ask<ul>
<li>상태기반 검증에서 알려진 이슈가 단지 검증에 쓰려고 접근자 메소드를 만들게 된다는 것이다<ul>
<li>테스팅만을 위해서 어떤 객체의 API에 메소드를 추가하는 것은 전혀 납득할 수 없는 것인데, 행위 검증을 사용하면 그런 문제를 피할 수 있다</li>
</ul>
</li>
<li>모의객체주의자들은 역할 인터페이스(role interfaces) 를 좋아하고 모의객체 스타일이 역할 인터페이스를 장려한다고 단언한다</li>
</ul>
</li>
</ul>
</li>
<li>mockist가 도움이 될 때<ul>
<li>당신이 실패하는 테스트를 디버깅하느라 많은 시간을 보내고 있는데 그 실패가 깔끔하지 않고 문제가 어딘지 알려주지 않는 경우</li>
<li>객체가 충분히 행위를 가지고 있지 않아서, 모의객체 테스팅이 개발팀에게 행위가 더 풍부한 객체를 만들도록 장려할 수 있을 때</li>
</ul>
</li>
</ul>
<h2 id="기타-더-읽어-볼-것"><a href="#기타-더-읽어-볼-것" class="headerlink" title="기타 더 읽어 볼 것"></a>기타 더 읽어 볼 것</h2><p><a target="_blank" rel="noopener" href="https://eminentstar.github.io/2017/07/24/about-mock-test.html">Mock에 대해(Test double 포함)</a></p>
<p><a target="_blank" rel="noopener" href="http://egloos.zum.com/kwon37xi/v/4165915">왜 Mockito가 좋은가?</a></p>
<p><a target="_blank" rel="noopener" href="https://justhackem.wordpress.com/2018/01/16/is-that-integration-test-really/">Mockist? Classicist?</a></p>
<ul>
<li>“테스트 대역은 일종의 가정이고 가정이 늘어날 수록 실제 결과는 예측하기 어려워진다.”</li>
</ul>
<p><a target="_blank" rel="noopener" href="http://egloos.zum.com/kingori/v/4169398">Stub vs Mock?</a></p>
<h2 id="결론"><a href="#결론" class="headerlink" title="결론"></a>결론</h2><p>마틴 파울러 옹이나 여러 선구자들의 의견을 종합해볼 때 mock을 사용하는 것은 좋지 않다고 생각이 들지도 모르겠다. 그런데 “테스트 주도 개발로 배우는 객체 지향 설계와 실천”에서도 이 분들이 강조하는 소프트웨어 설계 원칙을 매우 강조하면서도 mock을 써야할 이유를 설명한다. Mock을 SUT의 행위를 검증하는 것 정도로만 보지 않고 많은 개발 언어에서 충분히 표현하기 어려운(인터페이스 만으로는 관계를 보여주는데 한계가 있다고도 주장한다) 객체간의 관계를 mock을 통한 테스트로 더 명확히 보여줄 수 있다는 생각이다. 정말 그런 가치가 있을지는 책을 다 읽어보고 판단할 일이다. 이 책은 단순히 mock을 잘 쓰는 법만 알려주진 않는다.</p>
<p>내가 추천하면 아무도 안 믿을테니 켄트백의 추천사 중 일부를 소개해본다.</p>
<blockquote>
<p>이 책에 나온 테스트 주도 개발 방식은 내가 연습했던 것과는 다르다. 아직까진 그 차이를 분명하게 표현할 수 없지만 지은이들이 자신의 기법을 명확하고 자신감있게 발표하는 것을 보고 배운 바가 있다. 기법의 다양성은 나만의 개발 방법을 더욱 다듬는 새로운 영감의 원천이 되었다. “테스트 주도 개발로 배우는 객체 지향 설계와 실천”에서는 다양한 기법이 서로를 떠받치는 논리정연하고 일관된 개발 체계를 제시한다.</p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://haah.kr/2019/04/20/tdd-beginners/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="youngiggy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ha-ah">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ha-ah">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/04/20/tdd-beginners/" class="post-title-link" itemprop="url">TDD 시작하기 - 1</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-04-20 18:02:09" itemprop="dateCreated datePublished" datetime="2019-04-20T18:02:09+09:00">2019-04-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2019-04-21 16:55:35" itemprop="dateModified" datetime="2019-04-21T16:55:35+09:00">2019-04-21</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2019/04/20/tdd-beginners/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/04/20/tdd-beginners/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>연재</p>
<ul>
<li><strong><a href="/2019/04/20/tdd-beginners/">TDD 시작하기 - 1</a> : 스터디 조직, 강의 동영상, TDD 맛보기</strong></li>
<li><a href="/2019/04/21/tdd-beginners-2/">TDD 시작하기 - 2</a> : 행위 검증 vs 상태 검증</li>
<li><a href="/2019/04/21/tdd-beginners-3/">TDD 시작하기 - 3</a> : 교재 1장~2장 정리, 참고 링크</li>
</ul>
<br>

<hr>
<br>

<p>TDD를 시작했다는 건 아니고, TDD 공부를 시작했다는 말이다.</p>
<h2 id="스터디-조직"><a href="#스터디-조직" class="headerlink" title="스터디 조직"></a>스터디 조직</h2><p><a href="/2018/10/13/the-tdd-show-20181011/">TDD 참관</a> 이후 뭔가 해야겠다 마음만 먹고 있다가, 같이 일하는 주니어 친구가 TDD에 관심있어 한 것을 눈여겨 보다가, 마침 사내 UX 스터디도 끝나는 분위기라 사내 스터디를 조직해봤다. 교재는 그 친구가 관심있어 했고, 나도 한번 맹대표님 스터디 S66 참여로 어설프게 읽어본 적 있는 <a target="_blank" rel="noopener" href="http://www.insightbook.co.kr/book/programming-insight/%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%A3%BC%EB%8F%84-%EA%B0%9C%EB%B0%9C%EB%A1%9C-%EB%B0%B0%EC%9A%B0%EB%8A%94-%EA%B0%9D%EC%B2%B4-%EC%A7%80%ED%96%A5-%EC%84%A4%EA%B3%84%EC%99%80-%EC%8B%A4%EC%B2%9C">테스트 주도 개발로 배우는 객체 지향 설계와 실천</a>으로 정했다.</p>
<p><img src="http://www.insightbook.co.kr/wp-content/uploads/2013/06/thumbnail-234x300.jpg" alt="테스트 주도 개발로 배우는 객체 지향 설계와 실천 이미지"></p>
<p>같이 참여한 또 다른 열정적인 친구는 이 책으로 동시에 다른 스터디를 조직해서 공부하는 열정을 보이기도 했다. 그 <a target="_blank" rel="noopener" href="https://www.facebook.com/groups/springkorea/permalink/1866581326786821/">멤버 구인 글</a>에 박성철님은 </p>
<blockquote>
<p>스터디를 응원합니다. 그런데 교재가 TDD를 공부하기에 좋은 책인지 의문입니다. 저기서 말하는 TDD는 흔히 말하는 TDD가 아니라서요.</p>
</blockquote>
<p>라고 코멘트를 다셨는데, 왜 흔히 말하는 TDD가 아닌지는 아직 말씀을 안 하셔서 모르겠다. ‘흔히 말하는 TDD’가 뭔지…사람들이 흔히 말하는 TDD는 Mock과 프레임웍이 덕지덕지 엉킨 코드가 아니던가!(농담이다. 넘어가자)</p>
<p>어쨌든 이 책이 보여주는 특징 중에서 아래 두가지 때문일까 생각만 해봤다.</p>
<ol>
<li>저자들은 단위테스트 뿐 아니라 정기 회의, CI, CD, 인수테스트 등 촘촘한 중첩된 피드백 계층을 만드는 것을 중요하게 생각한다는 점(책에서는 기술적인 내용을 중심으로 풀고 있지만)</li>
<li>Mock을 적극 사용한다는 점(처음에 책을 쓰기 시작한 이유는 Mock을 제대로 쓰는 법을 알려주고 싶었기 때문이라고 한다)</li>
</ol>
<p>이유야 어찌됐든 이 책은 TDD를 시작하는 사람들에게 적당한 책은 아니다. 서문에도 ‘지식이 풍부한’ 독자를 대상으로 한다고 나와있다. 제목을 다시 보자.</p>
<blockquote>
<p>테스트 주도 개발로 배우는 객체 지향 설계와 실천</p>
</blockquote>
<p>원제는 <code>Growing Object-Oriented Software, Guided by Tests</code>. 테스트의 안내를 받으며 진화하는 OO 소프트웨어라는 의미. TDD는 기본으로 깔고 설계를 논하는 책이다. 무려 8장까지 저자들이 생각하는 좋은 설계와 관점을 이야기 한다. <a target="_blank" rel="noopener" href="http://www.yes24.com/Product/goods/9008455">목차</a>는</p>
<p>1부 서론 </p>
<ul>
<li>1장 테스트 주도 개발의 핵심은 무엇인가?</li>
<li>2장 객체를 활용한 테스트 주도 개발 </li>
<li>3장 도구 소개</li>
</ul>
<p>2부 테스트 주도 개발 과정 </p>
<ul>
<li>4장 테스트 주도 주기 시작 </li>
<li>5장 테스트 주도 개발 주기의 유지 </li>
<li>6장 객체 지향 스타일 </li>
<li>7장 객체 지향 설계의 달성 </li>
<li>8장 서드 파티 코드를 기반으로 한 개발</li>
</ul>
<p>요즘 TDD를 많이 전파하시는 분들로부터 ‘나는 한때 mockist였지만 이제는 거의 mock을 사용하지 않는다’는 고백을 종종 보게 되는데, 나도 한때는 mockist 좀 되어 볼 요량으로 계속 공부 해보기로 한다. mockist에 관한 이야기는 다음 포스트에 더 하기로.</p>
<h2 id="첫-시간은-무얼-해야-하는가"><a href="#첫-시간은-무얼-해야-하는가" class="headerlink" title="첫 시간은 무얼 해야 하는가"></a>첫 시간은 무얼 해야 하는가</h2><p>의외로 10명이나 되는 많은 분들이 관심을 보였는데, 그러다보니 TDD에 대한 다양한 관점과 다양한 이해도가 섞여 바로 진도를 나가는 게 맞는지 의문이 들었다. 우선 매주 월요일 한시간 모여 진행하기로 했는데, 역시나 진행해보니 확실히 시간이 부족했다. 난 두시간은 했으면 했지만 다들 너무 바쁘기도 했고, 퇴근 시간에 하려 해도 자율 출퇴근이라 퇴근하는 시간이 모두 달랐고.</p>
<p>첫 주제로는 마침 <a target="_blank" rel="noopener" href="https://okky.kr/article/538114">OKKYCON: 2018 발표 영상</a>이 올라온 지 얼마 안 되었을 때라, 이것부터 보고 같이 이야기 하기로 했다. 영상은 모두가 보지만, 한사람씩 하나의 영상을 맡아서 요점 정리하기로 했다. 총 7개 영상인데, 그 중에 5개 영상을 선정했고 다음주에 모였다.</p>
<p>한 10분 정도 요약한 내용을 이야기하고 정리하면 되겠다 예상했지만, 다들 열심히 준비를 하셔서 3개의 주제에 대해서 이야기 하는데 한시간이 훌쩍 넘어갔다. 결국 다음 시간까지 이어졌다.</p>
<ol>
<li>정진욱님 - 테스트하기 쉬운 코드로 개발하기</li>
</ol>
<ul>
<li>ppt : <a target="_blank" rel="noopener" href="https://www.slideshare.net/OKJSP/okkycon-120497749">https://www.slideshare.net/OKJSP/okkycon-120497749</a></li>
<li>마지막에 보라고 하는 정진욱님 글 : <a target="_blank" rel="noopener" href="http://jwchung.github.io/testing-oh-my">http://jwchung.github.io/testing-oh-my</a></li>
</ul>
<ol start="2">
<li>박재성님 - 의식적인 연습으로 TDD, 리팩토링 연습하기</li>
</ol>
<ul>
<li>ppt : <a target="_blank" rel="noopener" href="https://www.slideshare.net/OKJSP/okkycon-tdd">https://www.slideshare.net/OKJSP/okkycon-tdd</a></li>
</ul>
<ol start="4">
<li>이혜승님 - 테알못 신입은 어떻게 테스트를 시작했을까?</li>
</ol>
<ul>
<li>ppt : <a target="_blank" rel="noopener" href="https://www.slideshare.net/OKJSP/okkycon-120498066">https://www.slideshare.net/OKJSP/okkycon-120498066</a></li>
</ul>
<ol start="5">
<li>양완수님 - 테스트를 돌보기 위한 매우 간단한 실천 방법들, 그리고 효과</li>
</ol>
<ul>
<li>ppt : <a target="_blank" rel="noopener" href="https://www.slideshare.net/OKJSP/okkycon-120498503">https://www.slideshare.net/OKJSP/okkycon-120498503</a></li>
<li>repo : <a target="_blank" rel="noopener" href="https://github.com/yangwansu/okkycon2018">https://github.com/yangwansu/okkycon2018</a></li>
</ul>
<ol start="6">
<li>이규원님 - 당신들의 TDD가 실패하는 이유</li>
</ol>
<ul>
<li>ppt : <a target="_blank" rel="noopener" href="https://www.slideshare.net/OKJSP/okkycon-tdd-120498731">https://www.slideshare.net/OKJSP/okkycon-tdd-120498731</a></li>
</ul>
<h2 id="TDD-맛보기"><a href="#TDD-맛보기" class="headerlink" title="TDD 맛보기"></a>TDD 맛보기</h2><p>세번째 시간에 모이기 전까지는 백명석님의 <a target="_blank" rel="noopener" href="https://www.youtube.com/playlist?list=PLagTY0ogyVkIl2kTr08w-4MLGYWJz7lNK">클린 코더스 강의</a> 중 <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=X4JtF2BfA0U&list=PLagTY0ogyVkIl2kTr08w-4MLGYWJz7lNK">9. TDD 4 - primefactors</a> 실습해오기로 했다. 이건 숙제 검사까지는 안 하고, 당일 모여서는 단체 실습을 하기로 했다.</p>
<p>Java를 주 언어로 쓰는 사람이 많고 모두 Java 코드는 읽을 수 있으므로 언어는 Java로 선택. 한명씩 돌아가며 다음 단계를 어떻게 진행할 지 이야기하기.</p>
<p>실습 주제로는 한시간 안에 해치울 수 있을 정도로 간단한 것을 원했는데, 로또 번호 추첨기, FizzBuzz, 가위바위보 같은 걸 생각해봤었다. 이전 회사에서는 가위바위보 게임을 이런 방식으로 만들어 본 경험이 있었는데, 이런 쉬운 주제도 다들 생각하는 방향이 다르면 한시간도 충분치 않았던 기억이 있었다. 하지만 간단하면서도 여러 객체의 관계를 고려할 만한 주제가 좋을 것 같아서 급하게 기획서를 만들었다. 대충 이렇다.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">- 우리는 사용자를 부추겨 포인트를 탕진하게 만드는 것이 목표입니다</span><br><span class="line">- 한 세트당 번호 6개를 받고 100원씩 포인트를 차감합니다</span><br><span class="line">- 사용자는 원하는 세트 수를 고를 수 있습니다</span><br><span class="line">- 당첨 확률은 관심 없으니 그냥 랜덤하게 숫자만 6개씩 나와도 됩니다</span><br><span class="line">- 한 시간 안에 충분히 개발 가능하다고 이미 CEO 보고 들어갔습니다</span><br><span class="line">- 오류가 발견되면 당신은 해고입니다</span><br></pre></td></tr></table></figure>

<p>이를 토대로 기본 뼈대를 만들어 공유했다. Java로 10년 만에 코딩한 것 같은데, TDD로 기본 예제를 만들어 나간 과정이 재밌었다 - 설계는 엉망이었지만. 당일에는 한시간 밖에 시간이 없으니 User와 Point의 인터페이스는 미리 정의했고, Lotto 서비스의 구현에 집중하려고 했다.</p>
<p>구현은 아래 과정을 통해 진행하려고 했다.</p>
<ul>
<li>요구사항 검토</li>
<li>명세 작성</li>
<li>설계</li>
<li>실습 준비</li>
<li>TDD</li>
<li>완성 + 박수!</li>
</ul>
<p>명세를 만들 때는 아래의 규칙으로 작성하기로 했..으나 그게 참 쉽지가 않다. 총체적 혼란이었다.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">누가 / 무엇을 위해 / 어떤 행동을 한다</span><br></pre></td></tr></table></figure>

<p>참고 :</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.slideshare.net/UyeongJu/ss-56634188">서비스를 성공적으로 만드는 방법</a></li>
<li><a target="_blank" rel="noopener" href="https://deview.kr/2013/detail.nhn?topicSeq=18">협업 SW개발 플랫폼 Yobi 발표</a></li>
</ul>
<p>사실 예제를 리허설하며, 서둘러 코딩부터 진행하면 빠질 수 있는 함정을 하나 준비하기도 했는데, 주원님이 코딩을 멈추고 명세부터 확실히 하고 가자고 하셔서 미리 준비한 허술한 꼬임은 실패했다. 어쨌든 좋은 방향이라서 좋았다. 여기서 이야기를 나누고 기능을 확정하는데까지 시간을 거의 다 써서 코딩 시간에는 한사람씩 겨우 돌아가는 수준으로밖에 진행하지 못했다. 결국 남은 건 각자 코딩해서 PR 올리기로 했고, 서로 코드 리뷰를 했다.</p>
<p>이렇게 DAY 3까지 완료했고, 교재를 보기 시작했다.</p>
<p>2편에서 계속.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://haah.kr/2019/03/19/php-annotated-monthly-march-2019/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="youngiggy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ha-ah">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ha-ah">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/03/19/php-annotated-monthly-march-2019/" class="post-title-link" itemprop="url">php-annotated-monthly-march-2019</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-03-19 22:27:41" itemprop="dateCreated datePublished" datetime="2019-03-19T22:27:41+09:00">2019-03-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2019-03-24 09:57:01" itemprop="dateModified" datetime="2019-03-24T09:57:01+09:00">2019-03-24</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2019/03/19/php-annotated-monthly-march-2019/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/03/19/php-annotated-monthly-march-2019/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="https://d3nmt5vlzunoa1.cloudfront.net/phpstorm/files/2018/12/new_php-annotated-monthly.jpg" alt="Php_annotated_monthly 이미지"></p>
<p>JetBrains에서 제공하는 월간 <a target="_blank" rel="noopener" href="https://blog.jetbrains.com/phpstorm/2019/03/php-annotated-monthly-march-2019/">PHP Annotated Monthly 3월호</a>입니다.</p>
<p>이 중에서 몇 가지 제 취향껏 골라 그 안의 내용도 좀 뒤져보고 개발새발 번역해서 소개합니다.</p>
<hr>
<h1 id="News-amp-Releases"><a href="#News-amp-Releases" class="headerlink" title="News &amp; Releases"></a>News &amp; Releases</h1><h2 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h2><ul>
<li><a target="_blank" rel="noopener" href="http://php.net/ChangeLog-7.php#7.3.3">PHP 7.3.3</a></li>
<li><a target="_blank" rel="noopener" href="http://php.net/ChangeLog-7.php#7.2.16">PHP 7.2.16</a></li>
<li><a target="_blank" rel="noopener" href="http://php.net/ChangeLog-7.php#7.1.27">PHP 7.1.27</a></li>
</ul>
<h2 id="Xdebug-2-7-0"><a href="#Xdebug-2-7-0" class="headerlink" title="Xdebug 2.7.0"></a>Xdebug 2.7.0</h2><p><a target="_blank" rel="noopener" href="https://xdebug.org/#2019_03_06">https://xdebug.org/#2019_03_06</a></p>
<p>오래 기다리셨어요. 이제 7.3을 지원합니다.</p>
<h2 id="ircmaxell-x2F-php-compiler"><a href="#ircmaxell-x2F-php-compiler" class="headerlink" title="ircmaxell&#x2F;php-compiler"></a>ircmaxell&#x2F;php-compiler</h2><p><a target="_blank" rel="noopener" href="https://github.com/ircmaxell/php-compiler">https://github.com/ircmaxell/php-compiler</a></p>
<p>Anthony Ferrara가 만든 PHP compiler를 소개합니다. PHP도 (JVM과는 다르지만) VM에서 돌아가는데, 이 컴파일러는 PHP7.4부터 지원될 <a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/ffi">FFI</a>를 활용해서 VM 위에서 돌지 않도록 바로 native machine code를 생성해서 실행가능한 코드(standalone binary)를 만들어 준다고 합니다. </p>
<p>링크에 들어가 보시면, 세가지 컴파일 모드를 소개하는데, PHP로 만든 첫번째 모드는 엄청 느리고 VM에서 도는 버전이고, 두번째 JIT(Just In Time) 모드에선 machine code를 생성해서 실행하는데 PHP7.4 버전보다 실행은 빠르지만 PHP에서 컴파일 되느라 컴파일 속도가 너무 느렸다고 합니다. 매번 실행할 때마다 컴파일을 새로 한다는군요. 마지막 compile 버전에선 아예 실행 가능한 바이너리로 만들어서 이론적으로는 native C 만큼의 속도가 나왔다고 합니다.</p>
<p>아직은 PoC(Proof of Concept)라서 매우 제한적으로 지원하지만 희망찬 미래를 보여줬다고 평가하는군요.</p>
<p>무궁무진한 미친 짓을 할 수 있답니다.</p>
<h1 id="PHP-Internals"><a href="#PHP-Internals" class="headerlink" title="PHP Internals"></a>PHP Internals</h1><h2 id="The-proposal-to-abolish-50-threshold-on-voting"><a href="#The-proposal-to-abolish-50-threshold-on-voting" class="headerlink" title="The proposal to abolish 50% threshold on voting"></a>The proposal to abolish 50% threshold on voting</h2><p><a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/abolish-narrow-margins">https://wiki.php.net/rfc/abolish-narrow-margins</a></p>
<p>RFC 프로세스가 바뀌었다고 합니다.</p>
<p>두 카테고리로 나뉘었고</p>
<ul>
<li>PHP에 변화를 주는 것</li>
<li>정책 문서를 변경하거나 생성하는 것</li>
</ul>
<p>통과 되려면 투표로 2&#x2F;3 이상의 승인을 받아야 합니다.</p>
<h2 id="overview-of-the-unaccepted-RFCs"><a href="#overview-of-the-unaccepted-RFCs" class="headerlink" title="overview of the unaccepted RFCs"></a>overview of the unaccepted RFCs</h2><p><a target="_blank" rel="noopener" href="https://github.com/Danack/RfcCodex">https://github.com/Danack/RfcCodex</a></p>
<p>사람들이 관심이 많지만 아직 받아들여지지 않은 RFC가 어떻게 되고 있는지 정리한 글입니다.	</p>
<p>아직 논의 중인 것</p>
<ul>
<li>어노테이션<a target="_blank" rel="noopener" href="https://github.com/Danack/RfcCodex/blob/master/annotations.md">Annotations</a><ul>
<li>몇몇 사람은 여전히 어노테이션을 싫어하고</li>
<li>이미 주석을 통한 어노테이션을 쓰는 사람들은 RFC가 자신들의 use case에 충분하지 않아 좀 더 개선하길 바람</li>
</ul>
</li>
<li>더 간략한 클로저 문법<a target="_blank" rel="noopener" href="https://github.com/Danack/RfcCodex/blob/master/briefer_closure_syntax.md">Briefer closure syntax</a><ul>
<li>아주 큰 혜택이 없기 때문에 몇몇 사람들은 그다지 원하지 않는다</li>
<li>JavaScript 같은 경우는 자연스럽게 parameter를 상위 scope으로부터 받을 수 있지만 PHP에선 명시적으로 넣어줘야 하는데, 어떤 문법을 써야 할까?</li>
<li>리턴 타입도 결정해야 하는데, 어떤 문법을 사용해야 할까?</li>
</ul>
</li>
<li>클래스 scope 개선<a target="_blank" rel="noopener" href="https://github.com/Danack/RfcCodex/blob/master/class_scoping_improvements.md">Class scoping improvements</a><ul>
<li>같은 패키지 내에만 공개해야할 메소드도 public으로 제공해야 하는 문제를 개선해야 함</li>
<li>마땅히 구현할 만한 방법이 없음</li>
<li>C++의 friendship도 적당하지 않음</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Danack/RfcCodex/blob/master/consistent_callables.md">Consistent callables</a><ul>
<li>Callable을 일관성있게 변경하는 <a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/consistent_callables">RFC</a>가 등록되어 있음</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Danack/RfcCodex/blob/master/enums.md">Enums</a><ul>
<li>enum을 어떻게 정의할 것인가에 대한 다른 관점이 있음</li>
<li>Draft <a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/enum">RFC</a>가 등록되어 있으나 시간과 에너지를 쏟을 사람이 없음. 누군가 (이 RFC를 올린) Levi나 Bob에게 몇 달 치 월급을 주면 가능할 것이라고…</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Danack/RfcCodex/blob/master/generics.md">Generics</a><ul>
<li>제네릭의 필요성은 놀랄 만큼 일치하고 있지만 구현하기가 어렵다(인터프리터 방식에서 오는 한계인 것으로 보입니다)</li>
<li>정말 제네릭이 꼭 필요하다면 <a target="_blank" rel="noopener" href="https://preprocess.io/">https://preprocess.io/</a> 를 활용할 수는 있다</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Danack/RfcCodex/blob/master/method_overloading.md">Method overloading</a><ul>
<li>PHP는 정적 타입 언어와 달리 런타임에 타입이 변할 수 있기 때문에 쉽지 않다</li>
<li>성능 문제도 발생할 수 있다</li>
<li>메소드 오버로딩이 왜 필요한가에 대한 명확한 근거가 없다</li>
<li>정 원하면 이를 대체할 방법도 알려줍니다</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Danack/RfcCodex/blob/master/standardise_core_library.md">Standardise core library</a><ul>
<li>Core 라이브러리 함수의 비일관성(함수명, 파라미터…)</li>
<li>모든 비일관성이 전부 비일관적인 건 아니다(다 이유가 있다는 뜻)</li>
<li>기존 수많은 코드를 전부 변경할 수도 없고, 누구도 긴 시간동안 수많은 alias를 유지하고 싶어하지도 않음</li>
<li>관련 링크<ul>
<li><a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/consistent_function_names">https://wiki.php.net/rfc/consistent_function_names</a></li>
<li><a target="_blank" rel="noopener" href="http://phpsadness.com/sad/9">http://phpsadness.com/sad/9</a></li>
</ul>
</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Danack/RfcCodex/blob/master/union_types.md">Union types</a><ul>
<li>parameter나 return type에 여러 타입을 전달&#x2F;리턴할 수 있도록 하는 <a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/union_types">union_types RFC</a></li>
<li>사람들이 타입시스템에 익숙하지 않은 것이 걸림돌이라고 하는데…글쎄요</li>
</ul>
</li>
</ul>
<p>앞으로 할 것</p>
<ul>
<li>Async</li>
<li>Structs</li>
<li>Explicit defaults</li>
</ul>
<h2 id="RFC-Consistent-type-errors-for-internal-functions"><a href="#RFC-Consistent-type-errors-for-internal-functions" class="headerlink" title="[RFC] Consistent type errors for internal functions"></a>[RFC] Consistent type errors for internal functions</h2><p><a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/consistent_type_errors">https://wiki.php.net/rfc/consistent_type_errors</a></p>
<p>이 RFC가 accepted 되어서 PHP 8 부터는 모든 내장 함수에서 잘못된 argument 타입이 들어오면 TypeError를 발생시킵니다.</p>
<h2 id="RFC-Weak-References"><a href="#RFC-Weak-References" class="headerlink" title="[RFC] Weak References"></a>[RFC] Weak References</h2><p><a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/weakrefs">https://wiki.php.net/rfc/weakrefs</a></p>
<p>PHP 7.4부터 WeakReference가 도입됩니다. 가비지 컬렉터로 객체가 파괴되는 것을 막지 않으면서 객체에 대한 참조를 유지할 수 있습니다.</p>
<h2 id="RFC-Saner-string-to-number-comparisons"><a href="#RFC-Saner-string-to-number-comparisons" class="headerlink" title="[RFC] Saner string to number comparisons"></a>[RFC] Saner string to number comparisons</h2><p><a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/string_to_number_comparison">https://wiki.php.net/rfc/string_to_number_comparison</a></p>
<p>Nikita Popov가 PHP 8을 목표로 좀 더 납득할 만한 문자열 - 숫자 비교 연산을 제안했습니다.</p>
<p><img src="https://d3nmt5vlzunoa1.cloudfront.net/phpstorm/files/2019/03/php-numeric-string-comparison.png" alt="php-numeric-string-comparison"></p>
<p>이에 대한 많은 논쟁이 있는 것으로 보입니다만, 그 동안은 PHP 7.4에서 <a target="_blank" rel="noopener" href="https://github.com/php/php-src/pull/3917">Warning</a>을 받을 수 있습니다.</p>
<h2 id="RFC-Locked-Classes"><a href="#RFC-Locked-Classes" class="headerlink" title="[RFC] Locked Classes"></a>[RFC] Locked Classes</h2><p><a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/locked-classes">https://wiki.php.net/rfc/locked-classes</a></p>
<p>새로운 클래스용 키워드인 locked를 제안했군요. property를 동적으로 할당할 수 없게 합니다.</p>
<h2 id="Allow-throwing-from-toString"><a href="#Allow-throwing-from-toString" class="headerlink" title="Allow throwing from __toString()"></a>Allow throwing from __toString()</h2><p><a target="_blank" rel="noopener" href="http://news.php.net/php.internals/104535">http://news.php.net/php.internals/104535</a></p>
<p>Nikita가 __toString method에서는 exception을 throw할 수 없게 되어 있는데, 이를 가능하게 하는 PR이 올라왔습니다. <a target="_blank" rel="noopener" href="http://phpsadness.com/sad/14">PHP sadness</a>에 있던 것 중 하나였죠.</p>
<h2 id="RFC-Arrow-Functions-2-0"><a href="#RFC-Arrow-Functions-2-0" class="headerlink" title="[RFC] Arrow Functions 2.0"></a>[RFC] Arrow Functions 2.0</h2><p><a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/arrow_functions_v2">https://wiki.php.net/rfc/arrow_functions_v2</a></p>
<p>(위 Briefer closure syntax에서도 언급했던) 짧은 클로저 문법에 관한 세번째 시도입니다. 이번엔 Nikita, Bob, Levi가 함께 붙었습니다!</p>
<h2 id="RFC-Generator-comprehensions"><a href="#RFC-Generator-comprehensions" class="headerlink" title="[RFC] Generator comprehensions"></a>[RFC] Generator comprehensions</h2><p><a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/comprehensions">https://wiki.php.net/rfc/comprehensions</a></p>
<p>Generator를 편하게 사용할 수 있는 draft RFC입니다.</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$a</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="variable">$mul</span> = <span class="number">3</span>;</span><br><span class="line"><span class="variable">$c</span> = [ <span class="keyword">for</span> <span class="variable">$a</span> <span class="keyword">as</span> <span class="variable">$v</span> <span class="keyword">yield</span> <span class="variable">$mul</span> * <span class="variable">$v</span> ];</span><br></pre></td></tr></table></figure>

<h2 id="PHP-Internals-News-Episode-1"><a href="#PHP-Internals-News-Episode-1" class="headerlink" title="PHP Internals News: Episode 1"></a>PHP Internals News: Episode 1</h2><p><a target="_blank" rel="noopener" href="https://derickrethans.nl/phpinternalsnews-01.html">https://derickrethans.nl/phpinternalsnews-01.html</a></p>
<p>Xdebug의 author인 Derick Rethans가 새로운 팟캐스트를 시작했습니다. 첫 에피소드는 Nikita Popov와 함께 한 PHP Internals News랍니다.</p>
<p>이런 내용을 이야기 했군요. </p>
<ul>
<li>RFC Watch — a web site to keep an eye on RFC voting progress</li>
<li>RFC: Permit trailing whitespace in numeric strings</li>
<li>RFC: JIT</li>
</ul>
<h1 id="기타-읽을-만한-글"><a href="#기타-읽을-만한-글" class="headerlink" title="기타 읽을 만한 글"></a>기타 읽을 만한 글</h1><h2 id="Moving-away-from-magic-—-or-why-I-don’t-want-to-use-Laravel-anymore"><a href="#Moving-away-from-magic-—-or-why-I-don’t-want-to-use-Laravel-anymore" class="headerlink" title="Moving away from magic — or: why I don’t want to use Laravel anymore"></a>Moving away from magic — or: why I don’t want to use Laravel anymore</h2><p><a target="_blank" rel="noopener" href="https://medium.freecodecamp.org/moving-away-from-magic-or-why-i-dont-want-to-use-laravel-anymore-2ce098c979bd">https://medium.freecodecamp.org/moving-away-from-magic-or-why-i-dont-want-to-use-laravel-anymore-2ce098c979bd</a></p>
<p>라라벨에서 너무 많은 것을 자동으로 처리해주기 때문에 라라벨을 떠난다는 글입니다.</p>
<ul>
<li>Eloquent ORM은 Active record 패턴을 사용하고 개발자가 코드를 덜 쓰기를 바라길 원하는데, 이런 특성이 코드를 이해하거나 정적 분석 혹은 IDE를 활용하기에도 좋지 않고, 계속 메소드를 추가하게 되어 단일 책임 원칙을 위반하도록 유도 합니다</li>
<li>Global 헬퍼 함수는 더 좋은 방식으로 대체할 수 있는 방법이 있음에도 단지 사용하기 쉬운 방법을 제공하기 위해 global namespace를 더럽히고 설계면에서 희생해야 합니다. 5.8에서는 일부 헬퍼 함수가 제거되어 다행이지만, 모든 헬퍼 함수를 사용하지 않게 안내해야 합니다</li>
<li>Facade도 실제론 static 메소드가 아닌 어떤 메소드에 쉽게 접근할 수 있는 좋은 툴 같지만 모든 걸 magic method에 전달하면서 복잡도만 증가했습니다. IDE의 지원을 받기 어려운 문제도 <a target="_blank" rel="noopener" href="https://github.com/barryvdh/laravel-ide-helper">IDE helper package</a>를 통해 해결할 수 있지만, 애초에 필요가 없는 라이브러리입니다. 게다가 사실 이건 Gang of Four에서 말하는 Facade 디자인 패턴도 아닙니다. 차라리 static service locators라고 불러야 합니다.</li>
<li>모든 것을 가능한 한 쉽게 만드는 Laravel의 접근법은 좋습니다. 그러나 앱이 성장할 수록 관리하기 어렵습니다. 나는 IDE 지원, 더 강한 타이핑, 실제 객체, 그리고 좋은 엔지니어링을 선호합니다. 더 작은 앱을 쓰고 싶을 때 Laravel로 돌아갈 수도 있습니다.</li>
<li>요점은 Laravel의 잘못이 아닙니다. 내 요구 사항에 더 잘 맞는 툴킷으로 전활할 것입니다. 다른 프레임 워크와 도구는 기본 설계가 더 좋고 마법이 적습니다.</li>
</ul>
<h2 id="PhpRedis-vs-Predis-comparison-on-real-production-data"><a href="#PhpRedis-vs-Predis-comparison-on-real-production-data" class="headerlink" title="PhpRedis vs Predis: comparison on real production data"></a>PhpRedis vs Predis: comparison on real production data</h2><p><a target="_blank" rel="noopener" href="https://medium.com/@akalongman/phpredis-vs-predis-comparison-on-real-production-data-a819b48cbadb">https://medium.com/@akalongman/phpredis-vs-predis-comparison-on-real-production-data-a819b48cbadb</a></p>
<p>PhpRedis는 Redis storage와 통신할 수 있는 PHP extension입니다.</p>
<p>Predis는 C extension없이 순수 PHP에서 사용할 수 있는 대체품입니다.</p>
<p>(당연하게도) PhpRedis가 6배 빠른 속도를 보였고, igbinary serializer를 사용하면 저장 공간이 3배는 절약된다고 합니다.</p>
<h2 id="What-is-a-command-bus-and-why-should-you-use-it"><a href="#What-is-a-command-bus-and-why-should-you-use-it" class="headerlink" title="What is a command bus and why should you use it"></a>What is a command bus and why should you use it</h2><p><a target="_blank" rel="noopener" href="https://barryvanveen.nl/blog/49-what-is-a-command-bus-and-why-should-you-use-it">https://barryvanveen.nl/blog/49-what-is-a-command-bus-and-why-should-you-use-it</a></p>
<p>Command bus를 왜 사용해야 하는지 적은 글입니다.</p>
<ul>
<li>결합도를 낮춰주고</li>
<li>테스트와 확장을 용이하게 해줍니다</li>
</ul>
<p>그러나 복잡도를 늘리고 오버 엔지니어링이 되기도 합니다.</p>
<h2 id="Design-Patterns-in-PHP-—-Updated-according-to-PHP-7-3-real-world-examples-added"><a href="#Design-Patterns-in-PHP-—-Updated-according-to-PHP-7-3-real-world-examples-added" class="headerlink" title="Design Patterns in PHP — Updated according to PHP 7.3 + real-world examples added"></a>Design Patterns in PHP — Updated according to PHP 7.3 + real-world examples added</h2><p><a target="_blank" rel="noopener" href="https://github.com/RefactoringGuru/design-patterns-php/">https://github.com/RefactoringGuru/design-patterns-php/</a></p>
<p>PHP 디자인 패턴인데, 7.3버전에 맞춰 업데이트 되었다고 합니다.</p>
<h2 id="Predict-air-pollution-with-k-Nearest-neighbors-and-PHP-—-using-php-ai-x2F-php-ml"><a href="#Predict-air-pollution-with-k-Nearest-neighbors-and-PHP-—-using-php-ai-x2F-php-ml" class="headerlink" title="Predict air pollution with k-Nearest neighbors and PHP — using php-ai&#x2F;php-ml"></a>Predict air pollution with k-Nearest neighbors and PHP — using php-ai&#x2F;php-ml</h2><p><a target="_blank" rel="noopener" href="https://arkadiuszkondas.com/predict-air-pollution-with-k-nearest-neighbors-and-php/">https://arkadiuszkondas.com/predict-air-pollution-with-k-nearest-neighbors-and-php/</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/php-ai/php-ml">php-ai&#x2F;php-ml</a>를 활용해 공기 오염을 예측하는 프로젝트입니다.</p>
<h2 id="Write-your-own-simple-chess-AI-in-PHP"><a href="#Write-your-own-simple-chess-AI-in-PHP" class="headerlink" title="Write your own simple chess AI in PHP"></a>Write your own simple chess AI in PHP</h2><p><a target="_blank" rel="noopener" href="https://arkadiuszkondas.com/write-your-own-simple-chess-ai-in-php/">https://arkadiuszkondas.com/write-your-own-simple-chess-ai-in-php/</a></p>
<p>PHP로 간단한 체스 AI를 만드는 방법입니다.</p>
<h2 id="Binary-heap-implementation-in-PHP"><a href="#Binary-heap-implementation-in-PHP" class="headerlink" title="Binary heap implementation in PHP"></a>Binary heap implementation in PHP</h2><p><a target="_blank" rel="noopener" href="https://arkadiuszkondas.com/binary-heap-implementation-in-php/">https://arkadiuszkondas.com/binary-heap-implementation-in-php/</a></p>
<p>PHP로 Binary heap을 구현했다고 합니다.</p>
<p>위에 언급한 predict air pollution, check AI까지 다 이 사람(Arkadiusz Kondas)이 만들었는데요. 뭐하는 사람일까요?</p>
<h2 id="Matthias-Noback-Handwritten-service-containers"><a href="#Matthias-Noback-Handwritten-service-containers" class="headerlink" title="Matthias Noback: Handwritten service containers"></a>Matthias Noback: Handwritten service containers</h2><p><a target="_blank" rel="noopener" href="https://matthiasnoback.nl/2019/03/hand-written-service-containers/">https://matthiasnoback.nl/2019/03/hand-written-service-containers/</a></p>
<p>Matthias Noback이 손수 구현한 service containers입니다.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://haah.kr/2019/03/02/php-annotated-monthly-february-2019/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="youngiggy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ha-ah">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ha-ah">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/03/02/php-annotated-monthly-february-2019/" class="post-title-link" itemprop="url">php-annotated-monthly-february-2019</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-03-02 10:30:55" itemprop="dateCreated datePublished" datetime="2019-03-02T10:30:55+09:00">2019-03-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2019-03-09 13:03:19" itemprop="dateModified" datetime="2019-03-09T13:03:19+09:00">2019-03-09</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2019/03/02/php-annotated-monthly-february-2019/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/03/02/php-annotated-monthly-february-2019/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="https://d3nmt5vlzunoa1.cloudfront.net/phpstorm/files/2018/12/new_php-annotated-monthly.jpg" alt="Php_annotated_monthly 이미지"></p>
<p>JetBrains에서 제공하는 월간 <a target="_blank" rel="noopener" href="https://blog.jetbrains.com/phpstorm/2019/02/php-annotated-monthly-february-2019/">PHP Annotated Monthly 2월호</a>입니다.</p>
<p>이 중에서 몇 가지 제 취향껏 골라 그 안의 내용도 좀 뒤져보고 개발새발 번역해서 소개합니다.</p>
<hr>
<h1 id="News-amp-Releases"><a href="#News-amp-Releases" class="headerlink" title="News &amp; Releases"></a>News &amp; Releases</h1><h2 id="PSR"><a href="#PSR" class="headerlink" title="PSR"></a>PSR</h2><p><a target="_blank" rel="noopener" href="https://github.com/php-fig/fig-standards/blob/master/proposed/event-dispatcher.md">https://github.com/php-fig/fig-standards/blob/master/proposed/event-dispatcher.md</a></p>
<p><code>PSR-14 Event Dispatcher</code>가 review stage로 넘어갔다는 소식.</p>
<p>아시겠지만(‘나는 알지롱’이란 뜻), <a target="_blank" rel="noopener" href="https://www.php-fig.org/bylaws/psr-workflow/">PSR Workflow</a>에 따르면 PSR이 제정되는 단계는 아래와 같습니다.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Pre-Draft -&gt; Draft -&gt; Review -&gt; Accepted (-&gt; DEPRECATED)</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://github.com/php-fig/fig-standards/blob/master/proposed/extended-coding-style-guide.md">https://github.com/php-fig/fig-standards/blob/master/proposed/extended-coding-style-guide.md</a></p>
<p><code>PSR-12 Extended Code Style</code>도 review stage에 도달했습니다.</p>
<p>PSR-2가 2012에 accepted됐고, 그동안 PHP에 많은 변화가 있어서(PHP 7이 2015년 12월에 release됐죠) 최신 PHP 스펙을 반영하자는 취지로 보입니다. </p>
<p>PSR-12는 PSR-1에 기초하고 있고, PSR-2를 대체합니다.</p>
<p>PSR이 review 단계에 왔다는 것은 시험 구현체(trial implementations)를 검토하게 되는데요. <a target="_blank" rel="noopener" href="https://youtrack.jetbrains.com/issue/WI-40357">JetBrains</a>, <a target="_blank" rel="noopener" href="https://github.com/squizlabs/PHP_CodeSniffer/issues/750">PHPCS</a> 등에도 이를 반영해야 한다는 논의가 되고 있습니다.</p>
<p>바로 뒤에 소개할 2019.1 EAP에서도 ‘Sort use statements’쪽을 보시면 use statement 순서를 조정하는 것으로 적용되었습니다.</p>
<h2 id="PhpStorm-2019-1-EAP"><a href="#PhpStorm-2019-1-EAP" class="headerlink" title="PhpStorm 2019.1 EAP"></a>PhpStorm 2019.1 EAP</h2><p><a target="_blank" rel="noopener" href="https://blog.jetbrains.com/phpstorm/2019/01/phpstorm-2019-1-early-access-program-is-open/">https://blog.jetbrains.com/phpstorm/2019/01/phpstorm-2019-1-early-access-program-is-open/</a></p>
<p>Focus mode 재밌네요.</p>
<p>요즘 EAP를 보면 이제 할 수 있는 건 이미 다 했다의 느낌이기도 하고요.</p>
<h2 id="PHPUnit-Version-8"><a href="#PHPUnit-Version-8" class="headerlink" title="PHPUnit Version 8"></a>PHPUnit Version 8</h2><p><a target="_blank" rel="noopener" href="https://phpunit.de/announcements/phpunit-8.html">https://phpunit.de/announcements/phpunit-8.html</a></p>
<p>PHPUnit 8 버전이 새로 나왔고 PHP7.2이상을 요구합니다.</p>
<h2 id="PEAR-was-hacked"><a href="#PEAR-was-hacked" class="headerlink" title="PEAR was hacked"></a>PEAR was hacked</h2><p><a target="_blank" rel="noopener" href="https://thephp.cc/news/2019/02/blast-from-the-past">https://thephp.cc/news/2019/02/blast-from-the-past</a></p>
<p>슬픈 소식입니다.</p>
<blockquote>
<p>If you downloaded go-pear.phar between December 20, 2018 and January 19, 2019 and used it on a system that has sh and perl available then you must consider that system to be compromised, and take responsible action.</p>
</blockquote>
<p>저도 나이 드니까 여기 저기 아프더라고요.</p>
<h1 id="PHP-Internals"><a href="#PHP-Internals" class="headerlink" title="PHP Internals"></a>PHP Internals</h1><h2 id="PHP-7-4-branched-master-is-PHP-8-0"><a href="#PHP-7-4-branched-master-is-PHP-8-0" class="headerlink" title="PHP-7.4 branched, master is PHP 8.0"></a>PHP-7.4 branched, master is PHP 8.0</h2><p><a target="_blank" rel="noopener" href="https://externals.io/message/103862">https://externals.io/message/103862</a></p>
<p>드디어 PHP 8.0 개발이 시작됐습니다. PHP 7.4와 PHP 8.0을 병렬로 개발한다는 소식입니다.</p>
<p>Deprecated된 스펙은 이미 <a target="_blank" rel="noopener" href="https://github.com/php/php-src/pull/3770">지워버렸고</a>, 도커 허브의 <a target="_blank" rel="noopener" href="https://hub.docker.com/r/phpdaily/php">phpdaily&#x2F;php</a>를 통해 체험해보실 수 있습니다.</p>
<h2 id="RFC-JIT"><a href="#RFC-JIT" class="headerlink" title="[RFC] JIT"></a>[RFC] JIT</h2><p><a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/jit">https://wiki.php.net/rfc/jit</a></p>
<p>Dmitry Stogov가 제안을 넣었습니다.</p>
<p>RFC에 따르면 OPcache와는 독립된 부분으로 개발되고, OPcache shared memory 영역을 사용할 것으로 보입니다.</p>
<blockquote>
<p>PHP JIT is implemented as an almost independent part of OPcache… When enabled, native code of PHP files is stored in an additional region of the OPcache shared memory…</p>
</blockquote>
<p>Nikita Popov의 벤치마크에 따르면, 프로젝트(PHP-Parser, amphp&#x2F;http-server)에 따라 5% ~ 30% 정도의 성능 향상이 있었다고 합니다.</p>
<p><a target="_blank" rel="noopener" href="https://hub.docker.com/r/dmitrybalabka/php-jit/">php-jit 도커 이미지</a>에서 체험하실 수 있습니다.</p>
<p>추가로 <a target="_blank" rel="noopener" href="https://stitcher.io/blog/php-jit">PHP JIT에 관한 좋은 글</a>도 소개주고 있는데요. 극단적인 상황에서 PHP7과 PHP-JIT의 성능을 비교해주기도 하고, 그러나 웹 어플리케이션에서는 그만큼의 성능 향상을 보일 수는 없고, PHP 사용자나 PHP 언어 자체의 유지보수를 어렵게 할 수 있다고 우려하기도 합니다. 아직 linux 환경에서만 가능하고 일반적인 개발환경(Windows, Mac)에서의 지원 여부도 아직은 불투명한 상황이라고 합니다. </p>
<h2 id="RFC-Weak-References"><a href="#RFC-Weak-References" class="headerlink" title="[RFC] Weak References"></a>[RFC] Weak References</h2><p>저는 다른 언어에서 Weak References를 써본 적이 없고 왜 필요한 지는 잘 모르겠습니다만, 현재 extension을 통해 PHP에서도 사용할 수는 있다는군요. </p>
<h2 id="RFC-Null-Coalescing-Assignment-Operator"><a href="#RFC-Null-Coalescing-Assignment-Operator" class="headerlink" title="[RFC] Null Coalescing Assignment Operator"></a>[RFC] Null Coalescing Assignment Operator</h2><p>2년 전에 accepted된 제안인데, 7.4에 구현되었다고 합니다. </p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> (<span class="params"><span class="keyword">array</span> <span class="variable">$parameters</span> = []</span>) </span>&#123;</span><br><span class="line">    <span class="variable">$parameters</span>[<span class="string">&#x27;property&#x27;</span>] ??= <span class="string">&#x27;default&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이 코드는 아래와 동등합니다.</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> (<span class="params"><span class="keyword">array</span> <span class="variable">$parameters</span> = []</span>) </span>&#123;</span><br><span class="line">    <span class="variable">$parameters</span>[<span class="string">&#x27;property&#x27;</span>] = <span class="variable">$parameters</span>[<span class="string">&#x27;property&#x27;</span>] ?? <span class="string">&#x27;default&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>PHP의 축약형 연산자는 <a target="_blank" rel="noopener" href="https://stitcher.io/blog/shorthand-comparisons-in-php">Shorthand comparisons in PHP</a>에서 더 확인하실 수 있습니다.</p>
<h2 id="RFC-New-custom-object-serialization-mechanism"><a href="#RFC-New-custom-object-serialization-mechanism" class="headerlink" title="[RFC] New custom object serialization mechanism"></a>[RFC] New custom object serialization mechanism</h2><p><a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/custom_object_serialization">https://wiki.php.net/rfc/custom_object_serialization</a></p>
<p>PHP는 두가지 커스텀 직렬화 매커니즘을 지원하는데요.</p>
<ul>
<li>__sleep() &#x2F; __wakeup() magic methods</li>
<li>Serializable interface</li>
</ul>
<p>여기에는 사용성 면에서나 아래 코드처럼 상속관계에서 중첩된 직렬화를 시도할 때 등 몇가지 문제가 있습니다.</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">	...</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">serialize</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_ invoke__">serialize</span>([<span class="variable">$this</span>-&gt;prop, <span class="built_in">parent</span>::<span class="title function_ invoke__">serialize</span>()])</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>

<p>새로운 RFC에서는 두가지 magic method를 추가합니다.</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Returns array containing all the necessary state of the object.</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__serialize</span>(<span class="params"></span>): <span class="title">array</span></span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Restores the object state from the given data array.</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__unserialize</span>(<span class="params"><span class="keyword">array</span> <span class="variable">$data</span></span>): <span class="title">void</span></span>;</span><br></pre></td></tr></table></figure>

<p>왜 interface가 아닌 magic method냐는 질문에는, PHP는 기본적으로 모든 object를 직렬화할 수 있고 Serializable interface를 구현하지 않더라도 여전히 가능하기 때문에 magic method가 좀 더 시맨틱하기 때문이라는군요.</p>
<h2 id="RFC-Consistent-type-errors-for-internal-functions"><a href="#RFC-Consistent-type-errors-for-internal-functions" class="headerlink" title="[RFC] Consistent type errors for internal functions"></a>[RFC] Consistent type errors for internal functions</h2><p><a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/consistent_type_errors">https://wiki.php.net/rfc/consistent_type_errors</a></p>
<p>사용자 정의 함수는 잘못된 parameter가 전달되면 TypeError를 뱉지만, 내장 함수는 상황에 따라 다르지만 기본적으로 warning을 발생시키고 null을 리턴합니다. 이 RFC는 예외없이 모든 파라미터 오류에 대해 TypeError exception을 던지도록 제안합니다.</p>
<p>PHP 8.0을 target으로 하고 있고 하위 호환을 해치므로 주의해야할 것입니다.</p>
<h2 id="기타"><a href="#기타" class="headerlink" title="기타"></a>기타</h2><p><a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/allow-void-variance">[RFC] Allow void return type variance</a></p>
<ul>
<li>아직 Under Discussion 상태인데, return type이 void인 경우 하위 클래스에서 다른 type을 리턴할 수 있께 선언할 수 있습니다. 하지만 void return type이 아닌 경우 다시 void로 지정하는 것은 안 됩니다.</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/annotations_v2">PHP RFC: Annotations 2.0</a></p>
<ul>
<li>많은 분들이 기다리시는 annotation을 위한 RFC이고, 현재 Draft 상태입니다.</li>
</ul>
<h1 id="기타-읽을-만한-글"><a href="#기타-읽을-만한-글" class="headerlink" title="기타 읽을 만한 글"></a>기타 읽을 만한 글</h1><h2 id="How-to-Kill-Parents"><a href="#How-to-Kill-Parents" class="headerlink" title="How to Kill Parents"></a>How to Kill Parents</h2><p><a target="_blank" rel="noopener" href="https://www.tomasvotruba.cz/blog/2019/01/24/how-to-kill-parents/">https://www.tomasvotruba.cz/blog/2019/01/24/how-to-kill-parents/</a></p>
<p><a target="_blank" rel="noopener" href="https://ocramius.github.io/blog/when-to-declare-classes-final/">When to declare classes final</a>라는 글을 쓴 Marco Pivetta가 4년 후 더 자극적인 제목으로 추가 포스팅을 올렸습니다.</p>
<p>개발자들은 상속을 통해 문제를 해결하는 경향이 있는데, 상속 보다는 구성을 통해 해결하기 위해, 더 나은 설계를 위해, 가능하면 항상 final을 쓰라고 권고합니다.</p>
<h2 id="Moving-from-Go-to-PHP-again"><a href="#Moving-from-Go-to-PHP-again" class="headerlink" title="Moving from Go to PHP again"></a>Moving from Go to PHP again</h2><p><a target="_blank" rel="noopener" href="https://dannyvankooten.com/from-go-back-to-php-again/">https://dannyvankooten.com/from-go-back-to-php-again/</a></p>
<p>PHP(Laravel)을 떠나 Go로 돌아갔던 저자가 다시 PHP로 돌아왔다는 이야기입니다. GO는 여전히 좋고 퍼포먼스가 뛰어나서 필요할 땐 여전히 사용할 용의가 있지만 서비스 운영에는 쉽지 않았던 모양입니다. Symfony4가 엄청 엄청 좋다는 게 결론입니다. </p>
<blockquote>
<p>it’s great. Really, really great.</p>
</blockquote>
<h1 id="Video"><a href="#Video" class="headerlink" title="Video"></a>Video</h1><h2 id="Beachcasts-Tech-Videos"><a href="#Beachcasts-Tech-Videos" class="headerlink" title="Beachcasts Tech Videos"></a>Beachcasts Tech Videos</h2><p><a target="_blank" rel="noopener" href="http://beachcasts.com/">http://beachcasts.com/</a></p>
<p><a target="_blank" rel="noopener" href="https://twitter.com/adamculp">Adam Culp</a>란 사람의 동영상 강의 시리즈입니다.</p>
<h2 id="Astrocasts"><a href="#Astrocasts" class="headerlink" title="Astrocasts"></a>Astrocasts</h2><p><a target="_blank" rel="noopener" href="https://astrocasts.com/browse">https://astrocasts.com/browse</a></p>
<p><a target="_blank" rel="noopener" href="https://twitter.com/beausimensen">Beau Simensen</a>란 사람의 동영상 강의도 추천한답니다.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://haah.kr/2019/01/19/php-annotated-monthly-january-2019/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="youngiggy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ha-ah">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ha-ah">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/19/php-annotated-monthly-january-2019/" class="post-title-link" itemprop="url">php-annotated-monthly-January-2019</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-01-19 12:47:21" itemprop="dateCreated datePublished" datetime="2019-01-19T12:47:21+09:00">2019-01-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2019-03-03 09:55:03" itemprop="dateModified" datetime="2019-03-03T09:55:03+09:00">2019-03-03</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2019/01/19/php-annotated-monthly-january-2019/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/01/19/php-annotated-monthly-january-2019/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="https://d3nmt5vlzunoa1.cloudfront.net/phpstorm/files/2018/12/new_php-annotated-monthly.jpg" alt="Php_annotated_monthly 이미지"></p>
<p>JetBrains에서 제공하는 월간 <a target="_blank" rel="noopener" href="https://blog.jetbrains.com/phpstorm/2019/01/php-annotated-monthly-january-2019/">PHP Annotated Monthly</a>입니다.</p>
<p>이 중에서 몇 가지 제 취향껏 골라 그 안의 내용도 좀 뒤져보고 개발새발 번역해서 소개합니다.</p>
<hr>
<h1 id="News-amp-Releases"><a href="#News-amp-Releases" class="headerlink" title="News &amp; Releases"></a>News &amp; Releases</h1><h2 id="Nikita-Popov-Joined-PhpStorm-Team"><a href="#Nikita-Popov-Joined-PhpStorm-Team" class="headerlink" title="Nikita Popov Joined PhpStorm Team"></a>Nikita Popov Joined PhpStorm Team</h2><p><a target="_blank" rel="noopener" href="https://blog.jetbrains.com/phpstorm/2019/01/nikita-popov-joins-phpstorm-team/">https://blog.jetbrains.com/phpstorm/2019/01/nikita-popov-joins-phpstorm-team/</a></p>
<p>Nikita하면 (제 머릿속에) 떠오르는 두 사람 중 하나. 그 <a target="_blank" rel="noopener" href="https://www.imdb.com/title/tt0100263/">니키타</a>가 아닌 <a target="_blank" rel="noopener" href="https://nikic.github.io/aboutMe.html">Nikita Popov</a>가 PhpStorm 팀에 합류했다는 소식입니다. </p>
<p>그가 어떤 일을 했는지 대충 소개하자면,</p>
<blockquote>
<p>Nikita is the author of generators, variadic functions and argument unpacking, AST as an internal structure in PHP, engine exceptions, uniform variable syntax, and many other PHP contributions.<br>He worked with Dmitry Stogov and Xinchen Hui on NG project, which later became PHP 7.<br>Nikita is also known for PHP Parser which laid the groundwork for many other tools such as PHPStan, Psalm, BetterReflection, Infection, SuperClosure, and PHP-DI, just to name a few.</p>
</blockquote>
<h2 id="PHP-5-6-40"><a href="#PHP-5-6-40" class="headerlink" title="PHP 5.6.40"></a>PHP 5.6.40</h2><p><a target="_blank" rel="noopener" href="http://php.net/ChangeLog-5.php#5.6.40">http://php.net/ChangeLog-5.php#5.6.40</a></p>
<p>PHP5.6이 이미 작년 12월부터 unsupported 되었음에도 불구하고, 심각한 보안 문제가 발생하면 PHP 팀이 업데이트 해줄 수도 있다는 이야기입니다. 정이 많네요, 이 친구들.</p>
<p>심각한 오류가 무었이었는지 한번 봅시다.</p>
<p><a target="_blank" rel="noopener" href="http://php.net/ChangeLog-5.php#5.6.40">http://php.net/ChangeLog-5.php#5.6.40</a></p>
<p>Heap buffer overflow 문제가 주를 이루고 있네요. Mbstring 쪽 bug fix를 보면,</p>
<ul>
<li>Fixed bug #77370 (Buffer overflow on mb regex functions - fetch_token).</li>
<li>Fixed bug #77371 (heap buffer overflow in mb regex functions - compile_string_node).</li>
<li>Fixed bug #77381 (heap buffer overflow in multibyte match_at).</li>
<li>Fixed bug #77382 (heap buffer overflow due to incorrect length in expand_case_fold_string).</li>
<li>Fixed bug #77385 (buffer overflow in fetch_token).</li>
<li>Fixed bug #77394 (Buffer overflow in multibyte case folding - unicode).</li>
<li>Fixed bug #77418 (Heap overflow in utf32be_mbc_to_code).</li>
</ul>
<p>5.6.39 버전을 쓰시는 분들은 얼른 업데이트 하시길 빌어요. 아니죠, PHP7.1 이상으로 올리시는 것은 어떨까요?</p>
<ul>
<li>PHP 7.3.1</li>
<li>PHP 7.2.14</li>
<li>PHP 7.1.26</li>
</ul>
<h1 id="PHP-Internals"><a href="#PHP-Internals" class="headerlink" title="PHP Internals"></a>PHP Internals</h1><h2 id="RFC-Typed-Properties-2-0"><a href="#RFC-Typed-Properties-2-0" class="headerlink" title="RFC: Typed Properties 2.0"></a>RFC: Typed Properties 2.0</h2><p><a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/typed_properties_v2">https://wiki.php.net/rfc/typed_properties_v2</a></p>
<p>위에 언급한 Nikita Popov가 언급하길, Typed Properties가 이제 쓸 준비가 되었고 master에 머지됐다고 합니다.</p>
<p>RFC에 올라온 기존 방식의 코드 예시를 보면, return type을 고정하기 위해선 함수 선언부에 return type을 지정해야 했고, IDE에서 자동 완성을 지원하기 위해 아래와 같이 property에 type hint를 넣어야 했습니다.</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="comment">/** <span class="doctag">@var</span> int $id */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$id</span>;</span><br><span class="line">    <span class="comment">/** <span class="doctag">@var</span> string $name */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$name</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$id</span>, <span class="keyword">string</span> <span class="variable">$name</span></span>) </span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;id = <span class="variable">$id</span>;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;name = <span class="variable">$name</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getId</span>(<span class="params"></span>): <span class="title">int</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;id;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setId</span>(<span class="params"><span class="keyword">int</span> <span class="variable">$id</span></span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;id = <span class="variable">$id</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>이를 좀 더 간략하고 편하게 작성할 수 있게 됐습니다. default value, nullable 선언도 가능합니다. (var 선언도 아직 지원하는 군요??)</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span> </span>&#123;</span><br><span class="line">    <span class="comment">// All types with the exception of &quot;void&quot; and &quot;callable&quot; are supported</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> <span class="variable">$scalarType</span>;</span><br><span class="line">    <span class="keyword">protected</span> ClassName <span class="variable">$classType</span>;</span><br><span class="line">    <span class="keyword">private</span> ?ClassName <span class="variable">$nullableClassType</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// Types are also legal on static properties</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="keyword">iterable</span> <span class="variable">$staticProp</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// Types can also be used with the &quot;var&quot; notation</span></span><br><span class="line">    <span class="keyword">var</span> <span class="keyword">bool</span> <span class="variable">$flag</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// Typed properties may have default values (more below)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">string</span> <span class="variable">$str</span> = <span class="string">&quot;foo&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> ?<span class="keyword">string</span> <span class="variable">$nullableStr</span> = <span class="literal">null</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// The type applies to all properties in one declaration</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">float</span> <span class="variable">$x</span>, <span class="variable">$y</span>;</span><br><span class="line">    <span class="comment">// equivalent to:</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">float</span> <span class="variable">$x</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">float</span> <span class="variable">$y</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>RFC에 다양한 예시가 포함되어 있으니 확인하시길 바랍니다.</p>
<p>이 RFC에 대해 Rasmus Schultz란 사람이 <a target="_blank" rel="noopener" href="https://dev.to/mindplay/php-typed-properties-think-twice-3824">PHP Typed Properties: Think Twice.</a>란 글을 썼습니다. 이 분 좀 트위터를 뒤져보니 조금 보수적인 관점으로 최근의 PHP의 방향에 불만을 갖고 계신 것 같습니다. 이런 의견도 무시하지 말아야겠죠. 이 글에선 기존에 PHP를 사용하는 관점에서 typed property를 사용하면 어떤 단점이 있는지 알고 써야 한다는 입장인데, OOP를 지향하는 프로그래머들에게 많은 비판을 받기도 합니다. 저런 예시는 나쁜 코드일 뿐이라고 말이죠. 저도 딱히 Rasmus의 의견에는 동조하기 어렵습니다.</p>
<p>또한 트위터에서 <a target="_blank" rel="noopener" href="https://twitter.com/bwoebi/status/1084091761503424513">Bob Weinand 사람이 올린 글</a>에서 소개된 재미있는 코드도 소개가 됐는데요.</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">declare</span>(strict_types = <span class="number">1</span>);</span><br><span class="line"> </span><br><span class="line"><span class="variable">$a</span> = <span class="keyword">new</span> <span class="class"><span class="keyword">class</span> </span>&#123; <span class="keyword">public</span> ?<span class="keyword">string</span> <span class="variable">$v</span>; &#125;;</span><br><span class="line"><span class="variable">$typedVariable</span> = &amp;<span class="variable">$a</span>-&gt;v;</span><br><span class="line"> </span><br><span class="line"><span class="variable">$typedVariable</span> = <span class="string">&#x27;foo&#x27;</span>; <span class="comment">// Ok</span></span><br><span class="line"><span class="variable">$typedVariable</span> = <span class="number">123</span>; <span class="comment">// TypeError</span></span><br></pre></td></tr></table></figure>

<p>이렇게 꼼수를 쓰면 PHP에서도 typed 변수를 쓸 수 있게 됩니다. 이 아이디어를 응용한 <a target="_blank" rel="noopener" href="https://github.com/azjezz/typed">azjezz&#x2F;typed</a>란 라이브러리도 나왔다는 군요.</p>
<h2 id="PHP-FFI"><a href="#PHP-FFI" class="headerlink" title="[PHP] FFI"></a>[PHP] FFI</h2><p><a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/ffi">https://wiki.php.net/rfc/ffi</a></p>
<p>지난 <a target="_blank" rel="noopener" href="http://localhost:4000/2018/12/11/php-annotated-monthly-december-2018-2nd/">12월의 글</a>에서 언급된 스펙인데요. 보안이나 안정성에 여전히 의문이 들지만 이 제안은 결국 통과됐다는 이야기입니다. 다음 메이저 업데이트에 포함될 가능성이 높습니다.</p>
<h1 id="Tools-Symfony-Laravel-Yii-Async-PHP"><a href="#Tools-Symfony-Laravel-Yii-Async-PHP" class="headerlink" title="Tools, Symfony, Laravel, Yii, Async PHP"></a>Tools, Symfony, Laravel, Yii, Async PHP</h1><p>흥미로운 소식이 많습니다…만 필요하신 분들이 알아서 보시기를…</p>
<h1 id="Security"><a href="#Security" class="headerlink" title="Security"></a>Security</h1><p>보안 관련 소식입니다.</p>
<h2 id="Exploit-PHP-Remotely-–-WAF-Rule-amp-Filter-Bypass"><a href="#Exploit-PHP-Remotely-–-WAF-Rule-amp-Filter-Bypass" class="headerlink" title="Exploit PHP Remotely – WAF Rule &amp; Filter Bypass"></a>Exploit PHP Remotely – WAF Rule &amp; Filter Bypass</h2><p><a target="_blank" rel="noopener" href="https://www.secjuice.com/php-rce-bypass-filters-sanitization-waf/">https://www.secjuice.com/php-rce-bypass-filters-sanitization-waf/</a></p>
<p>PHP에서 필터, 입력값 검증, WAF(Web Application Firewall) 규칙을 우회하여 원격 코드 실행을 악용하는 방법을 보여줍니다. 저자는 CloudFlare를 예시로 들었는데, 특별히 문제가 있다기 보다는 쉽고 널리 알려졌기 때문이고, 다른 WAF도 마찬가지라고 합니다.</p>
<p>이 문서에서는 system 함수를 파라미터로 넘겨서 실행하는 악질적인 코드를 만들어 실행하는 과정을 보여줍니다.</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">&#x27;/system|exec|passthru/&#x27;</span>, <span class="variable">$_GET</span>[<span class="string">&#x27;code&#x27;</span>])) &#123; <span class="comment">// Filter</span></span><br><span class="line">	<span class="keyword">echo</span> <span class="string">&#x27;invalid syntax&#x27;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	<span class="keyword">eval</span>(<span class="variable">$_GET</span>([<span class="string">&#x27;code&#x27;</span>]));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>파라미터로 <code>...?code=system(&quot;cat /etc/passwd&quot;);</code> 이런 코드를 넘겨 실행할 수 있게 시도하고,<br>이걸 막는 코드(preg_match문 참고)를 추가하고,<br>이를 다시 우회하는 코드를 만들어가고 있습니다.</p>
<p><a target="_blank" rel="noopener" href="https://medium.com/secjuice/waf-evasion-techniques-718026d693d80">WAF 회피 기술에 대한 연재글</a>에서 더 확인해보세요.</p>
<h2 id="Find-bypass-disable-functions-automatically"><a href="#Find-bypass-disable-functions-automatically" class="headerlink" title="Find bypass disable_functions automatically"></a>Find bypass disable_functions automatically</h2><p><a target="_blank" rel="noopener" href="https://x-c3ll.github.io//posts/find-bypass-disable_functions/">https://x-c3ll.github.io//posts/find-bypass-disable_functions/</a></p>
<p>취약점이 발견된 함수 실행으로 OS 명령어를 실행하기 위해, disable_functions를 우회할 수 있는 함수를 자동으로 찾는 방법을 보여줍니다. (스스로 이건 좀 순진한 접근 방식이라고는 합니다만)</p>
<p>찾는 방법은 이렇습니다.</p>
<ul>
<li>모든 PHP 함수의 파라미터를 추출합니다(PHP.net에 공개되지 않은 것도 있으므로)</li>
<li>올바른 파라미터로 함수를 실행하고 trace합니다</li>
<li>trace에서 execve와 같은 잠재적으로 위험한 함수를 찾습니다</li>
</ul>
<h2 id="guardrailsio-x2F-awesome-php-security"><a href="#guardrailsio-x2F-awesome-php-security" class="headerlink" title="guardrailsio&#x2F;awesome-php-security"></a>guardrailsio&#x2F;awesome-php-security</h2><p><a target="_blank" rel="noopener" href="https://github.com/guardrailsio/awesome-php-security">https://github.com/guardrailsio/awesome-php-security</a></p>
<p>PHP 보안에 관련한 자료를 모아둔 awesome 시리즈입니다.</p>
<h2 id="ollyxar-x2F-php-malware-detector"><a href="#ollyxar-x2F-php-malware-detector" class="headerlink" title="ollyxar&#x2F;php-malware-detector"></a>ollyxar&#x2F;php-malware-detector</h2><p><a target="_blank" rel="noopener" href="https://github.com/ollyxar/php-malware-detector/blob/30f409ad60c25f5e66db91e17cc6389dce3d3eef/src/Patterns.php#L21-L35">정규식</a>으로 문제가 되는 구문을 간단히 찾아볼 수 있게 구현한 라이브러리입니다.</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">static</span> <span class="variable">$suspicious</span> = [</span><br><span class="line">        <span class="string">&#x27;non-printable&#x27;</span>     =&gt; <span class="string">&#x27;/(function|return|base64_decode).&#123;,256&#125;[^\x09-\x0d\x20-\x7E]&#123;3&#125;/&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;evaluation&#x27;</span>        =&gt; <span class="string">&#x27;/\b(eval|create_function|system|assert|passthru|proc_open|(pcntl_|shell_)?exec|call_user_func(_array)?)\b\s*(\/\*(.*)\*\/)?\s*\(/&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;networking&#x27;</span>        =&gt; <span class="string">&#x27;/\b(fputs|file_get_contents|fsockopen|curl_exec|curl_multi_exec)\b\s*\(/&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;double-variable&#x27;</span>   =&gt; <span class="string">&#x27;/\$&#123;?\$[0-9a-zA-z]+/&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;var-as-function&#x27;</span>   =&gt; <span class="string">&#x27;/\$_(GET|POST|COOKIE|REQUEST|SERVER)\s*\[[^\]]+\]\s*\(/&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;callback&#x27;</span>          =&gt; <span class="string">&#x27;/\b(eval|assert|passthru|exec|include|system|pcntl_exec|shell_exec|base64_decode|`|array_map|ob_start|call_user_func(_array)?)\s*\(\s*(base64_decode|php:\/\/input|str_rot13|gz(inflate|uncompress)|getenv|pack|\\\\?\$_(GET|REQUEST|POST|COOKIE|SERVER))/&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;callback-2&#x27;</span>        =&gt; <span class="string">&#x27;/\b(array_(diff|intersect)_u(key|assoc)|array_(udiff|filter|reduce|walk(_recursive)?)|assert_options|uasort|uksort|usort|preg_replace_callback|iterator_apply)\s*\(\s*.*[,]+(base64_decode|php:\/\/input|str_rot13|gz(inflate|uncompress)|getenv|pack|\\\\?\$_(GET|REQUEST|POST|COOKIE|SERVER))/&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;preg_replace-e&#x27;</span>    =&gt; <span class="string">&#x27;/\b(preg_replace)\s*\(\s*(((&quot;|\&#x27;).*(\/e)(&quot;|\&#x27;))|base64_decode|php:\/\/input|str_rot13|gz(inflate|uncompress)|getenv|pack|\\\\?\$_(GET|REQUEST|POST|COOKIE|SERVER))/&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;obfuscation&#x27;</span>       =&gt; <span class="string">&#x27;/((\\\\x[0-9a-zA-z]&#123;2,3&#125;)&#123;3&#125;)|((chr\([\d]+\)\s?\.\s?)&#123;5&#125;)|((\$|&quot;|\&#x27;)[0-9a-zA-z]+(\&#x27;|&quot;)?+\s?\.\s?)&#123;4&#125;|(\bexplode\b\s*\(\s*\bchr\b\()/&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;php-params&#x27;</span>        =&gt; <span class="string">&#x27;/ini_(get|set|restore)\s*\(\s*[\&#x27;&quot;](safe_mode|open_basedir|disable_(function|classe)s|safe_mode_exec_dir|safe_mode_include_dir|register_globals|allow_url_include)/&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;include-images&#x27;</span>    =&gt; <span class="string">&#x27;/include\s*(\(|&quot;|\&#x27;)\s*[^\.]+\.(png|jpg|gif|bmp|ico)/&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;register-function&#x27;</span> =&gt; <span class="string">&#x27;/register_[a-z]+_function\s*\(\s*[\&#x27;&quot;]\s*(eval|assert|passthru|exec|include|system|shell_exec|`)/&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;extraction&#x27;</span>        =&gt; <span class="string">&#x27;/\bextract\b\s*\(\s*\$_(GET|REQUEST|POST|COOKIE|SERVER|)/&#x27;</span></span><br><span class="line">    ];</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="기타-읽을-만한-글"><a href="#기타-읽을-만한-글" class="headerlink" title="기타 읽을 만한 글"></a>기타 읽을 만한 글</h1><h2 id="New-in-PHP-7-4"><a href="#New-in-PHP-7-4" class="headerlink" title="New in PHP 7.4"></a>New in PHP 7.4</h2><p><a target="_blank" rel="noopener" href="https://stitcher.io/blog/new-in-php-74">https://stitcher.io/blog/new-in-php-74</a></p>
<p>PHP 7.4에 새로 추가된 기능을 간단히 잘 정리해두었습니다.</p>
<h2 id="Tips-to-speed-up-PHPUnit-tests"><a href="#Tips-to-speed-up-PHPUnit-tests" class="headerlink" title="Tips to speed up PHPUnit tests"></a>Tips to speed up PHPUnit tests</h2><p><a target="_blank" rel="noopener" href="https://laravel-news.com/tips-to-speed-up-phpunit-tests">https://laravel-news.com/tips-to-speed-up-phpunit-tests</a></p>
<p>Unit Test를 빠르게 실행할 수 있는 여러가지 TIP이 있습니다.</p>
<ul>
<li>ParaTest라는 병렬 실행 라이브러리 사용</li>
<li>실패한 테스트만 다시 돌리기</li>
<li>느린 테스트를 Group으로 지정하고 따로 돌리기</li>
<li>필터하기</li>
<li>Password hash rounds를 bcrypt가 허용하는 최소 횟수인 4까지 줄여놓기</li>
<li>In-memory database 사용</li>
<li>Xdebug 비활성화 하기</li>
<li>가장 좋은 것은, 느린 테스트를 고치기!</li>
</ul>
<h2 id="Tips-on-how-to-get-Faster-Code-Coverage"><a href="#Tips-on-how-to-get-Faster-Code-Coverage" class="headerlink" title="Tips on how to get Faster Code Coverage"></a>Tips on how to get Faster Code Coverage</h2><p><a target="_blank" rel="noopener" href="https://thephp.cc/news/2019/01/faster-code-coverage">https://thephp.cc/news/2019/01/faster-code-coverage</a></p>
<p>더 빠르게 코드 커버리지를 구하는 방법</p>
<h2 id="Writing-serverless-Hello-World-in-PHP-on-AWS-Lambda-using-serverless-com"><a href="#Writing-serverless-Hello-World-in-PHP-on-AWS-Lambda-using-serverless-com" class="headerlink" title="Writing serverless Hello World in PHP on AWS Lambda using serverless.com."></a>Writing serverless Hello World in PHP on AWS Lambda using serverless.com.</h2><p><a target="_blank" rel="noopener" href="https://akrabat.com/serverless-php-on-aws-lambda/">https://akrabat.com/serverless-php-on-aws-lambda/</a></p>
<h2 id="Sergey-Zhuk-How-to-speedup-code-reviews"><a href="#Sergey-Zhuk-How-to-speedup-code-reviews" class="headerlink" title="Sergey Zhuk: How to speedup code reviews"></a>Sergey Zhuk: How to speedup code reviews</h2><p>더 빠르게 코드리뷰를 하는 방법입니다. PR을 올리는 방법이 중요하다는데요.</p>
<p>아래의 카테고리로 PR할 것을 구분해서 보내고</p>
<ul>
<li>Features - functional changes.</li>
<li>Structure refactoring - changes in classes, interfaces, moving methods between classes.</li>
<li>Simple refactoring - may be done by your IDE, e.g. extracting variables&#x2F;methods&#x2F;constants, simplifying conditionals).</li>
<li>Renaming and moving classes - reorganizing namespaces.</li>
<li>Removing unused (dead) code.</li>
<li>Code style fixes - e.g. using autowiring, removing redundant doc-blocks.</li>
<li>Formatting fixes.</li>
</ul>
<p>각 카테고리 별로 코드리뷰 전략을 다르게 가져갑니다.</p>
<ul>
<li>Feature changes: fulfillment of business requirements and design.</li>
<li>Structure refactoring: backward compatibility and design improvements.</li>
<li>Simple refactoring: readability improvements. Because these changes are mostly may be done by IDE.</li>
<li>Renaming&#x2F;removing classes: whether the namespaces structure has become better.</li>
<li>Removing unused code: backward compatibility.</li>
<li>Code style fixes: in most cases instant merge.</li>
<li>Formatting fixes in most cases instant merge.</li>
</ul>
<p>PR을 보내기 전에 명심할 것은,</p>
<ul>
<li>당신의 코드를 읽기 좋게 최적화 하십시오. 코드는 쓰이는 것보다 더 많이 읽힙니다</li>
<li>변경 사항의 컨텍스트 정보를 제공하기 위한 설명을 적어야 합니다</li>
<li>Request 보내기 전에 당신의 코드를 리뷰하세요. 당신의 코드가 아닌 것처럼 리뷰하세요. 간혹 당신이 놓친 걸 찾을 수 있을 겁니다. 이 과정이 PR 거절&#x2F;수정 주기를 줄여줄 것입니다.</li>
</ul>
<h2 id="Nikola-Posa-Some-naming-antipatterns"><a href="#Nikola-Posa-Some-naming-antipatterns" class="headerlink" title="Nikola Poša: Some naming antipatterns"></a>Nikola Poša: Some naming antipatterns</h2><p><a target="_blank" rel="noopener" href="https://blog.nikolaposa.in.rs/2019/01/06/better-naming-convention/">https://blog.nikolaposa.in.rs/2019/01/06/better-naming-convention/</a></p>
<p>네이밍 안티 패턴을 다룹니다.</p>
<p><a target="_blank" rel="noopener" href="https://en.rmcreative.ru/blog/naming-things/">tips on naming</a>이란 글도 함께 읽어보세요.</p>
<h2 id="Marcel-Pociot-Semantic-versioning-explained"><a href="#Marcel-Pociot-Semantic-versioning-explained" class="headerlink" title="Marcel Pociot: Semantic versioning explained"></a>Marcel Pociot: Semantic versioning explained</h2><p><a target="_blank" rel="noopener" href="https://marcelpociot.de/blog/semantic-versioning-explained">https://marcelpociot.de/blog/semantic-versioning-explained</a></p>
<p>시맨틱 버저닝을 설명합니다.</p>
<h2 id="Marcel-Pociot-Polishing-your-code"><a href="#Marcel-Pociot-Polishing-your-code" class="headerlink" title="Marcel Pociot: Polishing your code"></a>Marcel Pociot: Polishing your code</h2><p><a target="_blank" rel="noopener" href="https://marcelpociot.de/blog/polish-your-code">https://marcelpociot.de/blog/polish-your-code</a></p>
<p>여러분의 코드를 갈고 닦으세요!</p>
<h2 id="John-Mackenzie-My-Modern-PHP-Development-Setup"><a href="#John-Mackenzie-My-Modern-PHP-Development-Setup" class="headerlink" title="John Mackenzie: My Modern PHP Development Setup"></a>John Mackenzie: My Modern PHP Development Setup</h2><p><a target="_blank" rel="noopener" href="https://johnmackenzie.co.uk/post/my-modern-php-development-setup/">https://johnmackenzie.co.uk/post/my-modern-php-development-setup/</a></p>
<p>저자의 Modern PHP 개발 환경 설정이라고 합니다.</p>
<ul>
<li>Use a Makefile and make good use of it</li>
<li>Run everything in Docker</li>
<li>Use CS Fixer To Adhere To Coding Standards</li>
<li>Use PHP Stan</li>
<li>Syncronise your team IDE’s with .editorconfig</li>
</ul>
<h2 id="phpapprentice-com"><a href="#phpapprentice-com" class="headerlink" title="phpapprentice.com"></a>phpapprentice.com</h2><p><a target="_blank" rel="noopener" href="https://phpapprentice.com/">https://phpapprentice.com/</a></p>
<p>이제 막 PHP를 배우는 초심자를 위한 온라인 도서입니다. 마스코트가 아기 코끼리인가 봅니다.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://haah.kr/2019/01/02/books-2018-december/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="youngiggy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ha-ah">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ha-ah">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/02/books-2018-december/" class="post-title-link" itemprop="url">독후감 - 2018년 12월</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-01-02 23:28:53" itemprop="dateCreated datePublished" datetime="2019-01-02T23:28:53+09:00">2019-01-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2019-05-11 12:13:35" itemprop="dateModified" datetime="2019-05-11T12:13:35+09:00">2019-05-11</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2019/01/02/books-2018-december/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/01/02/books-2018-december/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="리팩토링-코드-품질을-개선하는-객체지향-사고법"><a href="#리팩토링-코드-품질을-개선하는-객체지향-사고법" class="headerlink" title="리팩토링: 코드 품질을 개선하는 객체지향 사고법"></a>리팩토링: 코드 품질을 개선하는 객체지향 사고법</h2><p><img src="http://image.kyobobook.co.kr/images/book/large/715/l9788979149715.jpg" alt="리팩토링 표지 이미지"></p>
<blockquote>
<p>프로그램의 가치를 높이는 코드 정리 기술</p>
</blockquote>
<p>많은 분들이 추천해서 관심이 가던 차에 가볍게 읽으려고 샀던 것 같다. 처음에는 분명 엄청 만족스럽게 읽기 시작했는데, 후반부에는 조금 띄엄띄엄 적당히 읽었다. 왜 리팩토링을 해야하는지, 왜 이렇게 바꿔야 하는지, 어떻게 안정감을 얻을 수 있는지 상세하고 꼼꼼하게 소개한다.</p>
<p>그런데 카탈로그식 구성이라서 중후반부터는 한장 한장 모든 것이 의미있다기 보다는 - 굳이 없다고도 할 수 없지만 - 왜 이런 선택을 하는지 가이드를 받을 수 있는 수준이라고 보면 되겠다. 계속 반복되는 패턴이라 (실무에서 리팩토링이 익숙하게 될 것인가와는 별개로) 책의 전개가 뻔히 보이기 때문에 후반부는 크게 영양가가 없었다는 느낌이다. 다시 읽어보면 다르려나? </p>
<p>이를 토대로 실무에서 다루는 코드를 리팩토링 하는 스터디를 한다면 매우 좋을 것 같다. 실제로 이 책을 읽은 후에 리팩토링을 더 조심스레 하게 되기도 했던 것 같고, 후련한 커밋도 몇개 날렸더랬다.</p>
<p>책의 구성은 정말 옛날 책이란 걸 느끼게 해주고, 코드 들여쓰기나 띄어쓰기가 잘못된 부분도 있고, 어색한 번역도 보였던 것 같다.</p>
<p>저자는 리팩토링 방법을 카탈로그로 만들어 이름을 붙여놓고 책 곳곳에서 참조하고 있다. 일단 번역을 한번 해놓은 단어라서 눈에 잘 들어오지도 않고, 실무에서 그런 용어를 쓸 일도 없기 때문에 적당히 걸러 봐야 한다. 책을 읽는 방법을 추천하라면, 앞부분은 주의깊게 읽고 카탈로그는 도입부를 읽고 바로 예제부터 보라고 하겠다. 예제가 오히려 설명보다 읽기가 수훨하다.</p>
<h2 id="최고의-팀은-무엇이-다른가"><a href="#최고의-팀은-무엇이-다른가" class="headerlink" title="최고의 팀은 무엇이 다른가"></a>최고의 팀은 무엇이 다른가</h2><p><img src="http://image.yes24.com/momo/TopCate1808/MidCate006/180559000.jpg" alt="최고의 팀은 무엇이 다른가 표지 이미지"></p>
<blockquote>
<p>다른 책은 전부 물에 던져 버려라!</p>
</blockquote>
<p>왜 하필 물에 던져야 하는지는 잘 모르겠다만, 최고의 팀이 되는 비결을 비교적 간단하게 전파한다.</p>
<p>CTO님이 추천했으니 열어나 봤지. (4차 산업혁명이란 말을 표지에 꺼내 놓는 류의 책처럼) 제목만 보면 질려서 읽기 싫은 책이었는데, 서점에서 한번 훑어보고 바로 들고 왔다(물론 샀다). 예쁘고(색깔이 좀 들어갔다는 의미) 가볍고 여백도 충분해서 읽기 좋았기도 하고.</p>
<p>책에서 말하는 최고의 팀이 되는 비결은,</p>
<ul>
<li>안정감을 느끼는 것</li>
<li>서로 이어져 있다는 신호를 쏘는 것</li>
<li>아날로그 소통법</li>
<li>공간의 힘</li>
<li>내 부족한 것을 보여주는 것</li>
<li>협동의 근육 만들기</li>
<li>질문을 잘하는 문화</li>
<li>공동의 이정표</li>
<li>중요한 가치에 이름 붙이기</li>
<li>등등</li>
</ul>
<p>정확히 저런 소제목은 아니고, 대충 목차보고 골라본 것이다. 이 목록만 보면 아주 진절머리가 날 지경인데, 이게 다 대대로 내려오는 꼰대들이 ‘꼭 필요하다’고 주장하는 것들이다. 초반에 소개되는 안정감을 느끼는 것 등은 비교적 최근에 구글 문화를 통해 좀 널리 퍼지긴 했으나, 다른 모든 항목은 이미 어지간한 중견회사라면 인사팀(요즘은 피플팀이라고 하던가)이나 대표가 입이 침이 마르도록 강조하는 것들이다. 작가는 저런 행동강령이 어색하지만 생활화되면 효과를 발휘한다는 이야기를 곳곳에서 하고 있다.</p>
<p>그런데 이 책이 좋은 점은 저런 내용을 별 거부감 없이 받아들이게 해준다는 점이다. 실제 사례를 중심으로 관찰 결과를 소개할 뿐이지 훈계하지 않는다는 점이 새로웠던 것 같다.</p>
<p>최고의 팀이 되는 방법을 우리는 이미 알고 있다고 봐야 하지 않으려나? 나는 그 사람들의 시도가 뭐가 그렇게 싫었는지 잘 생각해봐야겠다.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/6/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">youngiggy</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script>

  




  




<script class="next-config" data-name="disqus" type="application/json">{"enable":true,"shortname":"youngiggy-github-io","count":true,"i18n":{"disqus":"disqus"}}</script>
<script src="/js/third-party/comments/disqus.js"></script>

</body>
</html>
